<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KaliVeda: kaliveda.doxygen/KVMultiDet/exp_events/KVMultiDetArray.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KaliVeda
   &#160;<span id="projectnumber">1.10/15</span>
   </div>
   <div id="projectbrief">Heavy-Ion Analysis Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ee2496c42ce3447ad0c4fd100b52f5e5.html">kaliveda.doxygen</a></li><li class="navelem"><a class="el" href="dir_74c7b176af7644ee55a1ecb9dd61ada5.html">KVMultiDet</a></li><li class="navelem"><a class="el" href="dir_a1247c4614c7c0f80c50b6f3dbbd7e3c.html">exp_events</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">KVMultiDetArray.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="KVMultiDetArray_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//Created by KVClassFactory on Tue Apr 16 09:45:50 2013</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//Author: John Frankland,,,</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVMultiDetArray_8h.html">KVMultiDetArray.h</a>&quot;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;Riostream.h&quot;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;TROOT.h&quot;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVDetector_8h.html">KVDetector.h</a>&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVDetectorEvent_8h.html">KVDetectorEvent.h</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVReconstructedEvent_8h.html">KVReconstructedEvent.h</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVReconstructedNucleus_8h.html">KVReconstructedNucleus.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVACQParam_8h.html">KVACQParam.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVRList_8h.html">KVRList.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVLayer_8h.html">KVLayer.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVEvent_8h.html">KVEvent.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVNucleus_8h.html">KVNucleus.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVGroup_8h.html">KVGroup.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVRing_8h.html">KVRing.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVTelescope_8h.html">KVTelescope.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVMaterial_8h.html">KVMaterial.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVTarget_8h.html">KVTarget.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVIDTelescope_8h.html">KVIDTelescope.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KV2Body_8h.html">KV2Body.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="KVString_8h.html">KVString.h</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;TObjString.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;TObjArray.h&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="KVIDGridManager_8h.html">KVIDGridManager.h</a>&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="KVDataSetManager_8h.html">KVDataSetManager.h</a>&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="KVUpDater_8h.html">KVUpDater.h</a>&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;TPluginManager.h&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVDataSet_8h.html">KVDataSet.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;TGeoManager.h&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;TGeoMedium.h&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;TGeoMaterial.h&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVHashList_8h.html">KVHashList.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVNameValueList_8h.html">KVNameValueList.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVUniqueNameList_8h.html">KVUniqueNameList.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVIonRangeTable_8h.html">KVIonRangeTable.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVRangeTableGeoNavigator_8h.html">KVRangeTableGeoNavigator.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="KVDataAnalyser_8h.html">KVDataAnalyser.h</a>&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="KVNamedParameter_8h.html">KVNamedParameter.h</a>&gt;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#ifdef WITH_OPENGL</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;TGLViewer.h&gt;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;TVirtualPad.h&gt;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVGANILDataReader_8h.html">KVGANILDataReader.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#ifdef WITH_MFM</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVMFMDataFileReader_8h.html">KVMFMDataFileReader.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;MFMEbyedatFrame.h&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="KVMultiDetArray_8cpp.html#a2554fcc03212b313926f80da25349ae5">   52</a></span>&#160;<a class="code" href="classKVMultiDetArray.html">KVMultiDetArray</a>* <a class="code" href="KVMultiDetArray_8cpp.html#a2554fcc03212b313926f80da25349ae5">gMultiDetArray</a> = 0x0;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;Bool_t <a class="code" href="classKVMultiDetArray.html#a12cf6e0f66ca75963199c99f4fd636b6">KVMultiDetArray::fCloseGeometryNow</a> = kTRUE;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;Bool_t <a class="code" href="classKVMultiDetArray.html#a8c2caa68fc2e0e3317fb3508e3b3d9d3">KVMultiDetArray::fBuildTarget</a> = kFALSE;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;ClassImp(<a class="code" href="classKVMultiDetArray.html">KVMultiDetArray</a>)</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">// BEGIN_HTML &lt;!--</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">/* --&gt;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">&lt;h2&gt;KVMultiDetArray&lt;/h2&gt;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">&lt;h4&gt;Multidetector array base class&lt;/h4&gt;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">&lt;!-- */</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">// --&gt; END_HTML</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#af2abe0b82be721cda4f2c9deff2fec63">   81</a></span>&#160;<a class="code" href="classKVMultiDetArray.html">KVMultiDetArray</a>::<a class="code" href="classKVMultiDetArray.html">KVMultiDetArray</a>()</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   : <a class="code" href="classKVGeoStrucElement.html">KVGeoStrucElement</a>(), fTrajectories(kTRUE)</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <span class="comment">// Default constructor</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;   init();</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   gMultiDetArray = <span class="keyword">this</span>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a141e4fdff38762b297069efaf1e10126">   94</a></span>&#160;<a class="code" href="classKVMultiDetArray.html#af2abe0b82be721cda4f2c9deff2fec63">KVMultiDetArray::KVMultiDetArray</a>(<span class="keyword">const</span> Char_t* name, <span class="keyword">const</span> Char_t* type)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   : <a class="code" href="classKVGeoStrucElement.html">KVGeoStrucElement</a>(name, type), fTrajectories(kTRUE)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   <span class="comment">// Constructor with name and optional type</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a2728839485a3ae4dddd46df38d9536a1">init</a>();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   gMultiDetArray = <span class="keyword">this</span>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a2728839485a3ae4dddd46df38d9536a1">  121</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a2728839485a3ae4dddd46df38d9536a1">KVMultiDetArray::init</a>()</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="comment">//Basic initialisation called by constructor.</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   <span class="comment">//Creates detectors list fDetectors,</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   <span class="comment">//groups list fGroups, identification telescopes list</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <span class="comment">//fIDTelescopes</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   <span class="comment">//Cleanups</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   <span class="comment">//The fDetectors and fACQParams lists contain references to objects which are</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   <span class="comment">//referenced &amp; owned by other objects. We use the ROOT automatic garbage collection</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <span class="comment">//to make sure that any object deleted elsewhere is removed automatically from these lists.</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <span class="comment">//The fGroups &amp; fIDTelescopes lists contain objects owned by the multidetector array,</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <span class="comment">//but which may be deleted by other objects (or as a result of the deletion of other</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <span class="comment">//objects: i.e. if all the detectors in a group are deleted, the group itself is destroyed).</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   <span class="comment">//We use the ROOT automatic garbage collection to make sure that any object deleted</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <span class="comment">//elsewhere is removed automatically from these lists.</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a> = <span class="keyword">new</span> <a class="code" href="classKVHashList.html">KVHashList</a>();</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;<a class="code" href="classKVSeqCollection.html#a50a61ec8a84ae8f5c42afd2b27a12b60">SetOwner</a>(kTRUE); <span class="comment">// owns its objects</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;<a class="code" href="classKVSeqCollection.html#ac5c35dc3c7a2b5ee598865f61431180a">SetCleanup</a>(kTRUE);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a2dcb6c98e406efb4db4042800bac159b">fHitGroups</a> = 0;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a> = 0;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a> = 0;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a3816c701f2f5990600305b5a2529392c">fCurrentRun</a> = 0;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a> = 0;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a> = 0;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a7dedb664348e7245c9a9714d5759a2b2">fSimMode</a> = kFALSE;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   <a class="code" href="classKVMultiDetArray.html#ac292bfa88a8262f819dcd74a0071d991">fROOTGeometry</a> = gEnv-&gt;GetValue(<span class="stringliteral">&quot;KVMultiDetArray.ROOTGeometry&quot;</span>, kTRUE);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <a class="code" href="classKVMultiDetArray.html#ad0957486eddcaaac12bb2534c3e8f578">fFilterType</a> = <a class="code" href="classKVMultiDetArray.html#aed96731a5f2cf30283e62e3149bd83c5a4db3e048156484746d29706431b3d6bb">kFilterType_Full</a>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">//   fGeoManager = 0;</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a> = 0;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a6645b3d9e4daae88c25603a691127498">fUpDater</a> = 0;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="KVIDGridManager_8cpp.html#ae610249c6884bb85a7d4ec2d90021a0f">gIDGridManager</a>) <span class="keyword">new</span> <a class="code" href="classKVIDGridManager.html">KVIDGridManager</a>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <span class="comment">// all trajectories belong to us</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   <a class="code" href="classKVMultiDetArray.html#adb623aa6851f3ae0e057587ef7eb9dc4">fTrajectories</a>.<a class="code" href="classKVSeqCollection.html#a50a61ec8a84ae8f5c42afd2b27a12b60">SetOwner</a>();</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a6a783dddc33039cc4d141c9a5d133ab0">  171</a></span>&#160;<a class="code" href="classKVMultiDetArray.html#a6a783dddc33039cc4d141c9a5d133ab0">KVMultiDetArray::~KVMultiDetArray</a>()</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <span class="comment">//destroy (delete) the MDA and all the associated structure, detectors etc.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   SafeDelete(<a class="code" href="classKVMultiDetArray.html#a2dcb6c98e406efb4db4042800bac159b">fHitGroups</a>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <span class="comment">//destroy all identification telescopes</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a> &amp;&amp; <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;TestBit(kNotDeleted)) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;<a class="code" href="classKVSeqCollection.html#af9525ec4e1fd6173129beb3ad68ec498">Delete</a>();</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a> = 0;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <span class="comment">//clear list of acquisition parameters</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a> &amp;&amp; <a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a>-&gt;TestBit(kNotDeleted)) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a>-&gt;<a class="code" href="classKVSeqCollection.html#a5edbe1ce090e93f70da107c1dc5abbe1">Clear</a>();</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a> = 0;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a>) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a> = 0;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <span class="keywordflow">if</span> (gMultiDetArray == <span class="keyword">this</span>)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      gMultiDetArray = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a>) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a>-&gt;Delete();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a> = 0;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a>) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a>-&gt;Delete();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a> = 0;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a>) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="keywordflow">if</span> (gGeoManager) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;         Info(<span class="stringliteral">&quot;~KVMultiDetArray()&quot;</span>, <span class="stringliteral">&quot;Deleting ROOT geometry&quot;</span>);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;         <span class="keyword">delete</span> gGeoManager;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;         gGeoManager = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   SafeDelete(<a class="code" href="classKVMultiDetArray.html#a6645b3d9e4daae88c25603a691127498">fUpDater</a>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   <span class="comment">// Detectors belong to multidetector array. Our responsibility to delete.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   <a class="code" href="classKVGeoStrucElement.html#a2c2efd8df8fe59a09b2df64012b15a62">fDetectors</a>.<a class="code" href="classKVSeqCollection.html#af9525ec4e1fd6173129beb3ad68ec498">Delete</a>();</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a8451dea53dfb351d142598ab717936da">  229</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a8451dea53dfb351d142598ab717936da">KVMultiDetArray::Build</a>(Int_t)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a68318a8f8303e84f60878e195af353f2">  261</a></span>&#160;Int_t <a class="code" href="classKVMultiDetArray.html#a68318a8f8303e84f60878e195af353f2">KVMultiDetArray::GetIDTelescopes</a>(<a class="code" href="classKVDetector.html">KVDetector</a>* de, <a class="code" href="classKVDetector.html">KVDetector</a>* e, TCollection* list)</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;{</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="comment">// Create one or more KVIDTelescope particle-identification objects from the two detectors</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="comment">// The different ID telescopes are defined as &#39;Plugin&#39; objects in the file $KVROOT/KVFiles/.kvrootrc :</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="comment">// # The KVMultiDetArray::GetIDTelescopes(KVDetector*de, KVDetector*e) method uses these plugins to</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="comment">// # create KVIDTelescope instances adapted to the specific array geometry and detector types.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   <span class="comment">// # For each pair of detectors we look for a plugin with one of the following names:</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   <span class="comment">// #    [name_of_dataset].de_detector_type[de detector thickness]-e_detector_type[de detector thickness]</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="comment">// # Each characteristic in [] brackets may or may not be present in the name; first we test for names</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <span class="comment">// # with these characteristics, then all combinations where one or other of the characteristics is not present.</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   <span class="comment">// # In addition, we first test all combinations which begin with [name_of_dataset].</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <span class="comment">// # The first plugin found in this order will be used.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   <span class="comment">// # In addition, if for one of the two detectors there is a plugin called</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   <span class="comment">// #    [name_of_dataset].de_detector_type[de detector thickness]</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="comment">// #    [name_of_dataset].e_detector_type[e detector thickness]</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <span class="comment">// # then we add also an instance of this 1-detector identification telescope.</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   <span class="comment">// This method is called by DeduceIdentificationTelescopesFromGeometry</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   <span class="comment">// in order to set up all ID telescopes of the array.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <span class="comment">// Returns number of ID telescopes created</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   Int_t ntels = 0;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="comment">// if both detectors are not OK then stop</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   <span class="keywordflow">if</span> (!de-&gt;<a class="code" href="classKVDetector.html#a0e85350dfaf073475b88e5922fc73b8c">IsOK</a>() &amp;&amp; !e-&gt;<a class="code" href="classKVDetector.html#a0e85350dfaf073475b88e5922fc73b8c">IsOK</a>()) <span class="keywordflow">return</span> ntels;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#ae7b253afe23655e5995e6cbd87fb61ac">fDataSet</a> == <span class="stringliteral">&quot;&quot;</span> &amp;&amp; <a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>) <a class="code" href="classKVMultiDetArray.html#ae7b253afe23655e5995e6cbd87fb61ac">fDataSet</a> = <a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>-&gt;GetName();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   <span class="comment">//look for ID telescopes with only one of the two detectors</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <span class="keywordflow">if</span> (de-&gt;<a class="code" href="classKVDetector.html#a0e85350dfaf073475b88e5922fc73b8c">IsOK</a>()) ntels += <a class="code" href="classKVMultiDetArray.html#a119e91d02cde9bd3550506d98ffa49ef">try_all_singleID_telescopes</a>(de, list);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <span class="keywordflow">if</span> (e-&gt;<a class="code" href="classKVDetector.html#a0e85350dfaf073475b88e5922fc73b8c">IsOK</a>() &amp;&amp; de != e) ntels += <a class="code" href="classKVMultiDetArray.html#a119e91d02cde9bd3550506d98ffa49ef">try_all_singleID_telescopes</a>(e, list);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <span class="keywordflow">if</span> (de != e &amp;&amp; e-&gt;<a class="code" href="classKVDetector.html#a0e85350dfaf073475b88e5922fc73b8c">IsOK</a>() &amp;&amp; de-&gt;<a class="code" href="classKVDetector.html#a0e85350dfaf073475b88e5922fc73b8c">IsOK</a>()) ntels += <a class="code" href="classKVMultiDetArray.html#a4103a5b9615494d918231ea1a27c2c1f">try_all_doubleID_telescopes</a>(de, e, list);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <span class="keywordflow">return</span> ntels;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a119e91d02cde9bd3550506d98ffa49ef">  319</a></span>&#160;Int_t <a class="code" href="classKVMultiDetArray.html#a119e91d02cde9bd3550506d98ffa49ef">KVMultiDetArray::try_all_singleID_telescopes</a>(<a class="code" href="classKVDetector.html">KVDetector</a>* d, TCollection* l)</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;{</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <span class="comment">// Attempt to find a plugin KVIDTelescope class for making a single-detector</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="comment">// ID telescope from detector *d</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <span class="comment">// We look for plugins with the following signatures (uri):</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <span class="comment">//       [type]</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <span class="comment">//       [type][thickness]</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <span class="comment">// where &#39;type&#39; is the type of the detector in UPPER or lowercase letters</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <span class="comment">// &#39;thickness&#39; is the nearest-integer thickness of the detector as returned by d-&gt;GetThickness()</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   <span class="comment">// In addition, if a dataset is set (gDataSet!=nullptr) we try also for dataset-specific</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <span class="comment">// plugins:</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <span class="comment">//       [dataset].[type]</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   <span class="comment">//       [dataset].[type][thickness]</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <span class="comment">// Returns number of generated telescopes</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   TString uri = d-&gt;<a class="code" href="classKVBase.html#a86746121f4faf4c7c4424d22947f2124">GetType</a>();</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   Int_t ntels = 0;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <span class="keywordflow">if</span> (!(ntels += <a class="code" href="classKVMultiDetArray.html#a94fadbbe937c871b661dc848b00184cd">try_upper_and_lower_singleIDtelescope</a>(uri, d, l))) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      Int_t d_thick = TMath::Nint(d-&gt;<a class="code" href="classKVMaterial.html#a2b7413bb437591aa53b0621c78faf08f">GetThickness</a>());</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      uri += d_thick;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      ntels += <a class="code" href="classKVMultiDetArray.html#a94fadbbe937c871b661dc848b00184cd">try_upper_and_lower_singleIDtelescope</a>(uri, d, l);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <span class="keywordflow">return</span> ntels;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a4103a5b9615494d918231ea1a27c2c1f">  374</a></span>&#160;Int_t <a class="code" href="classKVMultiDetArray.html#a4103a5b9615494d918231ea1a27c2c1f">KVMultiDetArray::try_all_doubleID_telescopes</a>(<a class="code" href="classKVDetector.html">KVDetector</a>* de, <a class="code" href="classKVDetector.html">KVDetector</a>* e, TCollection* l)</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;{</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <span class="comment">// Attempt to find a plugin KVIDTelescope class for making an ID telescope from detectors de &amp; e.</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="comment">// We look for plugins with the following signatures (uri):</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   <span class="comment">//       [de-type]-[e-type]</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="comment">//       [de-type][thickness]-[e-type]</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <span class="comment">//       [de-type]-[e-type][thickness]</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   <span class="comment">//       [de-type][thickness]-[e-type][thickness]</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   <span class="comment">// where &#39;type&#39; is the type of the detector in UPPER or lowercase letters</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   <span class="comment">// &#39;thickness&#39; is the nearest-integer thickness of the detector.</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="comment">// In addition, if a dataset is set (gDataSet!=nullptr) we try also for dataset-specific</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   <span class="comment">// plugins:</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   <span class="comment">//       [dataset].[de-type]-[e-type]</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="comment">//       [dataset].[de-type][thickness]-[e-type]</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="comment">//       [dataset].[de-type]-[e-type][thickness]</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <span class="comment">//       [dataset].[de-type][thickness]-[e-type][thickness]</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   <span class="comment">// if no plugin is found, we return a KVIDTelescope base class object</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <span class="comment">// Returns 1 (we always generate exactly one telescope)</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   TString de_type = de-&gt;<a class="code" href="classKVBase.html#a86746121f4faf4c7c4424d22947f2124">GetType</a>();</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   TString e_type = e-&gt;<a class="code" href="classKVBase.html#a86746121f4faf4c7c4424d22947f2124">GetType</a>();</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   TString de_thick = Form(<span class="stringliteral">&quot;%d&quot;</span>, TMath::Nint(de-&gt;<a class="code" href="classKVMaterial.html#a2b7413bb437591aa53b0621c78faf08f">GetThickness</a>()));</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;   TString e_thick = Form(<span class="stringliteral">&quot;%d&quot;</span>, TMath::Nint(e-&gt;<a class="code" href="classKVMaterial.html#a2b7413bb437591aa53b0621c78faf08f">GetThickness</a>()));</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   TString uri = de_type + <span class="stringliteral">&quot;-&quot;</span> + e_type;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#ab8bfb5013eabd91da21b6907d4b8081d">try_upper_and_lower_doubleIDtelescope</a>(uri, de, e, l)) <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   uri = de_type + de_thick + <span class="stringliteral">&quot;-&quot;</span> + e_type;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#ab8bfb5013eabd91da21b6907d4b8081d">try_upper_and_lower_doubleIDtelescope</a>(uri, de, e, l)) <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   uri = de_type + <span class="stringliteral">&quot;-&quot;</span> + e_type + e_thick;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#ab8bfb5013eabd91da21b6907d4b8081d">try_upper_and_lower_doubleIDtelescope</a>(uri, de, e, l)) <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   uri = de_type + de_thick + <span class="stringliteral">&quot;-&quot;</span> + e_type + e_thick;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#ab8bfb5013eabd91da21b6907d4b8081d">try_upper_and_lower_doubleIDtelescope</a>(uri, de, e, l)) <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <span class="comment">// default id telescope object</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt = <span class="keyword">new</span> <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   uri = de_type + <span class="stringliteral">&quot;-&quot;</span> + e_type;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   idt-&gt;<a class="code" href="classKVBase.html#a0acffffea0435f2d28e3782be31063e2">SetLabel</a>(uri);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a9113cf2c22d97b0b98d294fb55713f7a">set_up_telescope</a>(de, e, idt, l);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a94fadbbe937c871b661dc848b00184cd">  434</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classKVMultiDetArray.html#a94fadbbe937c871b661dc848b00184cd">KVMultiDetArray::try_upper_and_lower_singleIDtelescope</a>(TString uri, <a class="code" href="classKVDetector.html">KVDetector</a>* d, TCollection* l)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;{</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   <span class="comment">// Attempt to find a plugin KVIDTelescope class for making a single-detector</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <span class="comment">// ID telescope from detector *d with the given signature/uri</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   <span class="comment">// Both original &amp; all-upper-case versions of uri are tried.</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   <span class="comment">// uri is tried both with &amp; without prepended dataset name (if set)</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="comment">// Returns true if successful (the new ID telescope will be added to internal</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="comment">// list fIDTelescopes and also to TCollection* l)</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a03abbf8867cc5075fc2311f9713297d5">try_a_singleIDtelescope</a>(uri, d, l)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   uri.ToUpper();</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a03abbf8867cc5075fc2311f9713297d5">try_a_singleIDtelescope</a>(uri, d, l);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;}</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#ab8bfb5013eabd91da21b6907d4b8081d">  457</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classKVMultiDetArray.html#ab8bfb5013eabd91da21b6907d4b8081d">KVMultiDetArray::try_upper_and_lower_doubleIDtelescope</a>(TString uri, <a class="code" href="classKVDetector.html">KVDetector</a>* de, <a class="code" href="classKVDetector.html">KVDetector</a>* e, TCollection* l)</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;{</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   <span class="comment">// Attempt to find a plugin KVIDTelescope class for making an ID telescope with the given signature/uri</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   <span class="comment">// Both original &amp; all-upper-case versions of uri are tried.</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   <span class="comment">// uri is tried both with &amp; without prepended dataset name (if set)</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   <span class="comment">// Returns true if successful (the new ID telescope will be added to internal</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   <span class="comment">// list fIDTelescopes and also to TCollection* l)</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#af4d8b83deab6097f6106220ad3dd82f0">try_a_doubleIDtelescope</a>(uri, de, e, l)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   uri.ToUpper();</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#af4d8b83deab6097f6106220ad3dd82f0">try_a_doubleIDtelescope</a>(uri, de, e, l);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a03abbf8867cc5075fc2311f9713297d5">  481</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classKVMultiDetArray.html#a03abbf8867cc5075fc2311f9713297d5">KVMultiDetArray::try_a_singleIDtelescope</a>(TString uri, <a class="code" href="classKVDetector.html">KVDetector</a>* d, TCollection* l)</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;{</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   <span class="comment">// Attempt to find a plugin KVIDTelescope class for making a single-detector</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="comment">// ID telescope from detector *d with the given signature/uri</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <span class="comment">// Both original &amp; all-upper-case versions of uri are tried.</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;   <span class="comment">// uri is tried both with &amp; without prepended dataset name (if set)</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   <span class="comment">// Returns true if successful (the new ID telescope will be added to internal</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   <span class="comment">// list fIDTelescopes and also to TCollection* l)</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   <span class="comment">// dataset-specific version takes precedence over default</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   TString duri = uri;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="comment">// try with dataset name</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      duri.Prepend(Form(<span class="stringliteral">&quot;%s.&quot;</span>, <a class="code" href="classKVMultiDetArray.html#ae7b253afe23655e5995e6cbd87fb61ac">fDataSet</a>.Data()));</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <span class="keywordflow">if</span> ((idt = <a class="code" href="classKVIDTelescope.html#a2f164c8715849136645f1a49c528e2c9">KVIDTelescope::MakeIDTelescope</a>(duri))) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;         <a class="code" href="classKVMultiDetArray.html#af4d07c860cc661c3bb991d7933aaf68a">set_up_single_stage_telescope</a>(d, idt, l);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;         <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <span class="comment">// look for default version</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   <span class="keywordflow">if</span> ((idt = <a class="code" href="classKVIDTelescope.html#a2f164c8715849136645f1a49c528e2c9">KVIDTelescope::MakeIDTelescope</a>(uri))) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <a class="code" href="classKVMultiDetArray.html#af4d07c860cc661c3bb991d7933aaf68a">set_up_single_stage_telescope</a>(d, idt, l);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#af4d8b83deab6097f6106220ad3dd82f0">  521</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classKVMultiDetArray.html#af4d8b83deab6097f6106220ad3dd82f0">KVMultiDetArray::try_a_doubleIDtelescope</a>(TString uri, <a class="code" href="classKVDetector.html">KVDetector</a>* de, <a class="code" href="classKVDetector.html">KVDetector</a>* e, TCollection* l)</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;{</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   <span class="comment">// Attempt to find a plugin KVIDTelescope class for making an ID telescope with the given signature/uri</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   <span class="comment">// uri is tried both with &amp; without prepended dataset name (if set)</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <span class="comment">// Returns true if successful (the new ID telescope will be added to internal</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <span class="comment">// list fIDTelescopes and also to TCollection* l)</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   <span class="comment">// dataset-specific version takes precedence over default</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   TString duri = uri;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>) {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="comment">// try with dataset name</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      duri.Prepend(Form(<span class="stringliteral">&quot;%s.&quot;</span>, <a class="code" href="classKVMultiDetArray.html#ae7b253afe23655e5995e6cbd87fb61ac">fDataSet</a>.Data()));</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keywordflow">if</span> ((idt = <a class="code" href="classKVIDTelescope.html#a2f164c8715849136645f1a49c528e2c9">KVIDTelescope::MakeIDTelescope</a>(duri))) {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;         <a class="code" href="classKVMultiDetArray.html#a9113cf2c22d97b0b98d294fb55713f7a">set_up_telescope</a>(de, e, idt, l);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;         <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <span class="comment">// look for default version</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <span class="keywordflow">if</span> ((idt = <a class="code" href="classKVIDTelescope.html#a2f164c8715849136645f1a49c528e2c9">KVIDTelescope::MakeIDTelescope</a>(uri))) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a9113cf2c22d97b0b98d294fb55713f7a">set_up_telescope</a>(de, e, idt, l);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a9113cf2c22d97b0b98d294fb55713f7a">  554</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a9113cf2c22d97b0b98d294fb55713f7a">KVMultiDetArray::set_up_telescope</a>(<a class="code" href="classKVDetector.html">KVDetector</a>* de, <a class="code" href="classKVDetector.html">KVDetector</a>* e, <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt, TCollection* l)</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;{</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   <span class="comment">// Set up detectors in de-e identification telescope and add to fIDTelescopes and to l</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   idt-&gt;<a class="code" href="classKVIDTelescope.html#a7e0df28aaab78d6873bf4a9b050b3d46">AddDetector</a>(de);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;   idt-&gt;<a class="code" href="classKVIDTelescope.html#a7e0df28aaab78d6873bf4a9b050b3d46">AddDetector</a>(e);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   <span class="keywordflow">if</span> (de-&gt;<a class="code" href="classKVDetector.html#a36c14085e0ec80f25c1bf8fd47e1232f">GetGroup</a>()) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      idt-&gt;<a class="code" href="classKVIDTelescope.html#a19678d488b3e31d3cdfdc1bbdb585b40">SetGroup</a>(de-&gt;<a class="code" href="classKVDetector.html#a36c14085e0ec80f25c1bf8fd47e1232f">GetGroup</a>());</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      idt-&gt;<a class="code" href="classKVIDTelescope.html#a19678d488b3e31d3cdfdc1bbdb585b40">SetGroup</a>(e-&gt;<a class="code" href="classKVDetector.html#a36c14085e0ec80f25c1bf8fd47e1232f">GetGroup</a>());</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   <span class="comment">// if telescope already exists, we delete this new version and add a reference to</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   <span class="comment">// the original into list l</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* p = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)<a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;<a class="code" href="classKVSeqCollection.html#afd4b90b8bb56e3f9334078523795c104">FindObject</a>(idt-&gt;GetName());</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   <span class="keywordflow">if</span> (p) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      l-&gt;Add(p);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keyword">delete</span> idt;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(idt);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      l-&gt;Add(idt);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;}</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#af4d07c860cc661c3bb991d7933aaf68a">  584</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#af4d07c860cc661c3bb991d7933aaf68a">KVMultiDetArray::set_up_single_stage_telescope</a>(<a class="code" href="classKVDetector.html">KVDetector</a>* det, <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt, TCollection* l)</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;{</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   <span class="comment">// Set up detector in single-stage identification telescope and add to fIDTelescopes and to l</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   idt-&gt;<a class="code" href="classKVIDTelescope.html#a7e0df28aaab78d6873bf4a9b050b3d46">AddDetector</a>(det);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;   idt-&gt;<a class="code" href="classKVIDTelescope.html#a19678d488b3e31d3cdfdc1bbdb585b40">SetGroup</a>(det-&gt;<a class="code" href="classKVDetector.html#a36c14085e0ec80f25c1bf8fd47e1232f">GetGroup</a>());</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   <span class="comment">// if telescope already exists, we delete this new version and add a reference to</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <span class="comment">// the original into list l</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;   <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* p = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)<a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;<a class="code" href="classKVSeqCollection.html#afd4b90b8bb56e3f9334078523795c104">FindObject</a>(idt-&gt;GetName());</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;   <span class="keywordflow">if</span> (p) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      l-&gt;Add(p);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keyword">delete</span> idt;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(idt);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      l-&gt;Add(idt);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#af7e2b57b48924bb9247247afc1ea2ec2">  606</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#af7e2b57b48924bb9247247afc1ea2ec2">KVMultiDetArray::CreateIDTelescopesInGroups</a>()</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;{</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;<a class="code" href="classKVSeqCollection.html#af9525ec4e1fd6173129beb3ad68ec498">Delete</a>();     <span class="comment">// clear out (delete) old identification telescopes</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <a class="code" href="classKVGroup.html">KVGroup</a>* grp;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   unique_ptr&lt;KVSeqCollection&gt; fGroups(<a class="code" href="classKVGeoStrucElement.html#a6f2eb8d8f3a3f7ad4e067bf014caf57d">GetStructures</a>()-&gt;GetSubListWithType(<span class="stringliteral">&quot;GROUP&quot;</span>));</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   TIter ngrp(fGroups.get());</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <span class="keywordflow">while</span> ((grp = (<a class="code" href="classKVGroup.html">KVGroup</a>*) ngrp())) {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a11c61ca8b0eb91fa907aad961e234a12">GetIDTelescopesForGroup</a>(grp, <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   }</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#aac7fee33890b2fcf23b29598ca0ff431">  624</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#aac7fee33890b2fcf23b29598ca0ff431">KVMultiDetArray::RenumberGroups</a>()</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;{</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   <span class="comment">//Number groups according to position in list fGroups and set fGr counter to the number</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;   <span class="comment">//of groups in the list</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   Int_t fGr = 0;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <a class="code" href="classKVGroup.html">KVGroup</a>* <a class="code" href="namespaceKVUnits.html#af13ae353c0bc16e77ec01cc6aee48999">g</a> = 0;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   <a class="code" href="classKVSeqCollection.html">KVSeqCollection</a>* fGroups = <a class="code" href="classKVGeoStrucElement.html#a6f2eb8d8f3a3f7ad4e067bf014caf57d">GetStructures</a>()-&gt;<a class="code" href="classKVSeqCollection.html#a7a75b4a4e95c399a59a242b817ee3502">GetSubListWithType</a>(<span class="stringliteral">&quot;GROUP&quot;</span>);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   TIter next(fGroups);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   <span class="keywordflow">while</span> ((g = (<a class="code" href="classKVGroup.html">KVGroup</a>*) next())) {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      g-&gt;<a class="code" href="classKVGroup.html#a44055e1d2e38cc51a883feba88fc0a1c">SetNumber</a>(++fGr);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   }</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   <span class="keyword">delete</span> fGroups;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a34c1af932e9092034252e780445a8080">  647</a></span>&#160;Int_t <a class="code" href="classKVMultiDetArray.html#a34c1af932e9092034252e780445a8080">KVMultiDetArray::FilteredEventCoherencyAnalysis</a>(Int_t round, <a class="code" href="classKVReconstructedEvent.html">KVReconstructedEvent</a>* rec_event)</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;{</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <span class="comment">// Perform multi-hit and coherency analysis of filtered event.</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   <span class="comment">// round=1,2,... depending on number of times method has been called</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   <span class="comment">// Returns number of particles whose status were changed.</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   <span class="comment">// When this becomes zero, the coherency analysis is finished</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;   Int_t nchanged = 0;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;   <a class="code" href="classKVReconstructedNucleus.html">KVReconstructedNucleus</a>* recon_nuc;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;   <span class="keywordflow">while</span> ((recon_nuc = rec_event-&gt;<a class="code" href="classKVReconstructedEvent.html#abf26410e0846cbeae63b99a8ba8d7869">GetNextParticle</a>())) {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="keywordflow">if</span> (!recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a7dc06514cd3bba95e10241d743d9c74d">IsIdentified</a>()) {</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;         <span class="keywordtype">int</span> dethits = recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a8c9249feead1176572f38dd5da4ca3cb">GetStoppingDetector</a>()-&gt;<a class="code" href="classKVDetector.html#a436dd5ff84df265bd5b5029de686f7ec">GetHits</a>()-&gt;GetEntries() ;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;         <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idtelstop = ((<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a8c9249feead1176572f38dd5da4ca3cb">GetStoppingDetector</a>()-&gt;<a class="code" href="classKVDetector.html#a31c2a843149f8536913dba3c8a178488">GetTelescopesForIdentification</a>()-&gt;First());</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;         Bool_t pileup = kFALSE;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;         <span class="keywordflow">if</span> (dethits &gt; 1) {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="comment">// if any of the other particles also stopped in the same detector, we assume identification</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="comment">// will be so false as to reject particle</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; dethits; j++) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;               <a class="code" href="classKVReconstructedNucleus.html">KVReconstructedNucleus</a>* n = (<a class="code" href="classKVReconstructedNucleus.html">KVReconstructedNucleus</a>*)recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a8c9249feead1176572f38dd5da4ca3cb">GetStoppingDetector</a>()-&gt;<a class="code" href="classKVDetector.html#a436dd5ff84df265bd5b5029de686f7ec">GetHits</a>()-&gt;<a class="code" href="classKVSeqCollection.html#a68606f35f850c66862119b5ba0bfb69c">At</a>(j);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;               <span class="keywordflow">if</span> (n != recon_nuc &amp;&amp; n-&gt;<a class="code" href="classKVReconstructedNucleus.html#a8c9249feead1176572f38dd5da4ca3cb">GetStoppingDetector</a>() == recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a8c9249feead1176572f38dd5da4ca3cb">GetStoppingDetector</a>()) pileup = kTRUE;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;         }</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;         <span class="keywordflow">if</span> (pileup) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            nchanged++;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a469865d6baec4e1becb670b527408978">SetIsIdentified</a>();<span class="comment">//to stop looking anymore &amp; to allow identification of other particles in same group</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            <span class="keywordflow">if</span> (idtelstop) idtelstop-&gt;<a class="code" href="classKVIDTelescope.html#a4d5ce7fcb8e017a84d9282dcb1509762">SetIDCode</a>(recon_nuc, idtelstop-&gt;<a class="code" href="classKVIDTelescope.html#a7f5b305c8b899e54fa8cce64e71db6ae">GetBadIDCode</a>());</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <span class="keywordflow">else</span> recon_nuc-&gt;<a class="code" href="classKVParticle.html#a0ae34ffdf7b6f767733ba8c08b278789">SetIsOK</a>(kFALSE);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;         }</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a9372e92ada83f8277e6a2101da7e7ccf">GetStatus</a>() == 3) {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="comment">//stopped in first member</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a469865d6baec4e1becb670b527408978">SetIsIdentified</a>();</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            nchanged++;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;         }</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a9372e92ada83f8277e6a2101da7e7ccf">GetStatus</a>() == 2) {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="comment">// pile-up in first stage of telescopes</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a469865d6baec4e1becb670b527408978">SetIsIdentified</a>();</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            <span class="keywordflow">if</span> (idtelstop &amp;&amp; idtelstop-&gt;<a class="code" href="classKVIDTelescope.html#a062c3bf3961e074aca8f0bf2ba8a1a6d">IsReadyForID</a>()) idtelstop-&gt;<a class="code" href="classKVIDTelescope.html#a4d5ce7fcb8e017a84d9282dcb1509762">SetIDCode</a>(recon_nuc, idtelstop-&gt;<a class="code" href="classKVIDTelescope.html#a52966ea51a0558b391529ba71b72711c">GetMultiHitFirstStageIDCode</a>());</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="keywordflow">else</span> recon_nuc-&gt;<a class="code" href="classKVParticle.html#a0ae34ffdf7b6f767733ba8c08b278789">SetIsOK</a>(kFALSE);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            nchanged++;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;         }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a9372e92ada83f8277e6a2101da7e7ccf">GetStatus</a>() == 0) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <span class="comment">// try to &quot;identify&quot; the particle</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            TIter nxtidt(recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a8c9249feead1176572f38dd5da4ca3cb">GetStoppingDetector</a>()-&gt;<a class="code" href="classKVDetector.html#a31c2a843149f8536913dba3c8a178488">GetTelescopesForIdentification</a>());</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            idtelstop = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)nxtidt();</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <span class="keywordflow">while</span> (idtelstop) {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;               <span class="keywordflow">if</span> (idtelstop-&gt;IsReadyForID() &amp;&amp; idtelstop-&gt;CanIdentify(recon_nuc-&gt;<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>(), recon_nuc-&gt;<a class="code" href="classKVNucleus.html#a5d1a5c1b9ea016d11b9b4bd803c3a8c4">GetA</a>())</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                     &amp;&amp; idtelstop-&gt;CheckTheoreticalIdentificationThreshold(recon_nuc)) { <span class="comment">// make sure we are above identification threshold</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                  nchanged++;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                  <span class="comment">// if this is not the first round, this particle has been &#39;identified&#39; after</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                  <span class="comment">// dealing with other particles in the group</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                  <span class="keywordflow">if</span> (round &gt; 1) idtelstop-&gt;<a class="code" href="classKVIDTelescope.html#a4d5ce7fcb8e017a84d9282dcb1509762">SetIDCode</a>(recon_nuc, idtelstop-&gt;GetCoherencyIDCode());</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                  recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a469865d6baec4e1becb670b527408978">SetIsIdentified</a>();</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                  recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a8fb014a392dbaa9e25856ea9352bc8a5">SetIsCalibrated</a>();</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                  idtelstop-&gt;SetIdentificationStatus(recon_nuc);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;               }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;               <span class="keywordflow">else</span> {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                  Int_t nseg = recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#aa91c50893bc2883353470b5ccb996b34">GetNSegDet</a>();</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                  recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a43dec454bb300756ea7ab4dce812f9c0">SetNSegDet</a>(TMath::Max(nseg - 1, 0));</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                  <span class="comment">//if there are other unidentified particles in the group and NSegDet is &lt; 2</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                  <span class="comment">//then exact status depends on segmentation of the other particles : reanalyse</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                  <span class="keywordflow">if</span> (recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#aa91c50893bc2883353470b5ccb996b34">GetNSegDet</a>() &lt; 2 &amp;&amp;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                        <a class="code" href="classKVReconstructedNucleus.html#a3e88c8d36d75796d307c8547c7e39fc9">KVReconstructedNucleus::GetNUnidentifiedInGroup</a>(recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#ae83b684ae5a330645677bd86db4e0caf">GetGroup</a>()) &gt; 1) {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                     nchanged++;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                     <span class="keywordflow">break</span>;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                  }</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                  <span class="comment">//if NSegDet = 0 it&#39;s hopeless</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                  <span class="keywordflow">if</span> (!recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#aa91c50893bc2883353470b5ccb996b34">GetNSegDet</a>()) {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                     nchanged++;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                     <span class="keywordflow">break</span>;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                  }</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;               }</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;               idtelstop = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)nxtidt();</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;         }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      }</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   <span class="keywordflow">return</span> nchanged;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a0e604f85beb80319b44a13b0b0b8599c">  816</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a0e604f85beb80319b44a13b0b0b8599c">KVMultiDetArray::DetectEvent</a>(<a class="code" href="classKVEvent.html">KVEvent</a>* event, <a class="code" href="classKVReconstructedEvent.html">KVReconstructedEvent</a>* rec_event, <span class="keyword">const</span> Char_t* detection_frame)</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;{</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;   <span class="comment">//Simulate detection of event by multidetector array.</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;   <span class="comment">// optional argument detection_frame(=&quot;&quot; by default) can be used to give name of</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   <span class="comment">// inertial reference frame (defined for all particles of &#39;event&#39;) to be used.</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <span class="comment">// e.g. if the simulated event&#39;s default reference frame is the centre of mass frame, before calling this method</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="comment">// you should create the &#39;laboratory&#39; or &#39;detector&#39; frame with KVEvent::SetFrame(...), and then give the</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;   <span class="comment">// name of the &#39;LAB&#39; or &#39;DET&#39; frame as 3rd argument here.</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <span class="comment">//For each particle in the event we calculate first its energy loss in the target (if the target has been defined, see KVMultiDetArray::SetTarget).</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;   <span class="comment">//By default these energy losses are calculated from a point half-way along the beam-direction through the target (taking into account the orientation</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   <span class="comment">//of the target), if you want random depths for each event call GetTarget()-&gt;SetRandomized() before using DetectEvent().</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   <span class="comment">//If the particle escapes the target then we look for the group in the array that it will hit. If there is one, then the detection of this particle by the</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;   <span class="comment">//different members of the group is simulated. The actual geometry and algorithms used to calculate the particle&#39;s trajectory depend on the</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   <span class="comment">//value of fROOTGeometry (modify with SetROOTGeometry(kTRUE/kFALSE):</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;   <span class="comment">//       if kTRUE: we use the ROOT TGeo description of the array generated by CreateGeoManager(). In this case, CreateGeoManager()</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <span class="comment">//           must be called once in order to set up the geometry.</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;   <span class="comment">//       if kFALSE: we use the simplistic KaliVeda geometry, i.e. detectors are only defined by min/max polar &amp; azimuthal angles.</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   <span class="comment">//The detectors concerned have their fEloss members set to the energy lost by the particle when it crosses them.</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <span class="comment">//Give tags to the simulated particles via KVNucleus::AddGroup() method</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;   <span class="comment">//Two general tags :</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;   <span class="comment">//   - DETECTED : cross at least one active layer of one detector</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   <span class="comment">//   - UNDETECTED : go through dead zone or stopped in target</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;   <span class="comment">//We add also different sub group :</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   <span class="comment">//   - For UNDETECTED particles : &quot;NO HIT&quot;, &quot;NEUTRON&quot;, &quot;DEAD ZONE&quot;, &quot;STOPPED IN TARGET&quot; and &quot;THRESHOLD&quot;, the last one concerned particle</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   <span class="comment">//go through the first detection stage of the multidetector array but stopped in an absorber (ie an inactive layer)</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;   <span class="comment">//   - For DETECTED particles :</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   <span class="comment">//         &quot;PUNCH THROUGH&quot; corrresponds to particle which cross all the materials in front of it</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <span class="comment">//         (high energy particle punh through), or which miss some detectors due to a non perfect</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   <span class="comment">//         overlap between defined telescope,</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <span class="comment">//         &quot;INCOMPLETE&quot;  corresponds to particles which stopped in the first detection stage of the multidetector</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;   <span class="comment">//         in a detector which can not give alone a clear identification,</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   <span class="comment">//         this correponds to status=3 or idcode=5 in INDRA data</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   <span class="comment">//After the filtered process, a reconstructed event are obtain from the fired groups corresponding</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <span class="comment">//to detection group where at least one detector havec an active layer energy loss greater than zero</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   <span class="comment">//this reconstructed event are available for the user in the KVReconstructedEvent* rec_event argument</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <span class="comment">//This pointer is cleared and also the multidet array at the beginning of the method</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   <span class="comment">//INFO to the user :</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;   <span class="comment">// -    at this point the different PILE-UP, several particles going through same telescope, detector</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   <span class="comment">//      are only taken into account for filter type KVMultiDetArray::kFilterType_Full</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;   <span class="comment">// -    specific cases correponding specific multi detectors are to be implemented in the child class</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   <span class="comment">// === FILTER TYPES ===</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="comment">// Use gMultiDetArray-&gt;SetFilterType(...) with one of the following values:</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;   <span class="comment">//    KVMultiDetArray::kFilterType_Geo               geometric filter only, particles are kept if they hit detector in the array</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   <span class="comment">//                                                                            energy losses are not calculated, particle energies are irrelevant</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   <span class="comment">//    KVMultiDetArray::kFilterType_GeoThresh    particles are kept if they have enough energy to leave the target,</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;   <span class="comment">//                                                                            and enough energy to cross at least one detector of the array</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <span class="comment">//       ---&gt; for these two cases, accepted particles are copied into the &#39;reconstructed&#39; event with their</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   <span class="comment">//             original simulated energy, charge and mass, although angles are randomized to reflect detector granularity</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;   <span class="comment">//    KVMultiDetArray::kFilterType_Full               full simulation of detection of particles by the array. the calibration parameters</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   <span class="comment">//                                                                           for the chosen run (call to gMultiDetArray-&gt;SetParameters(...)) are inverted in order</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   <span class="comment">//                                                                           to calculate pseudo-raw data from the calculated energy losses. the resulting pseudo-raw</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   <span class="comment">// SIMULATED EVENT PARAMETERS</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;   <span class="comment">// ==========================</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   <span class="comment">// The event given as input to the method may contain extra information in its parameter</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   <span class="comment">// list concerning the simulation. The parameter list of the event is copied into that of the</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;   <span class="comment">// reconstructed event, therefore these informations can be accessed from the reconstructed</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   <span class="comment">// event using the method</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   <span class="comment">//     rec_event-&gt;GetParameters()</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <span class="comment">// SIMULATED PARTICLE PARAMETERS</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   <span class="comment">// ==========================</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   <span class="comment">// For filter types KVMultiDetArray::kFilterType_Geo and KVMultiDetArray::kFilterType_GeoThresh,</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   <span class="comment">// for which there is a 1-to-1 correspondance between simulated and reconstructed particles,</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   <span class="comment">// we copy the list of parameters associated to each input particle into the output particle.</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   <span class="comment">// Note that this list contains full informations on the detection of each particle</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   <span class="comment">// (see Users Guide chapter on Filtering)</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <span class="comment">// TRACKING (only with ROOT geometries)</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;   <span class="comment">// ====================================</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   <span class="comment">// You can visualise the trajectories of particles for individual events in the 3D OpenGL viewer.</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   <span class="comment">// To enable this:</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <span class="comment">//     gMultiDetArray-&gt;GetNavigator()-&gt;SetTracking(kTRUE)</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;   <span class="comment">// Then you can do:</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   <span class="comment">//     gMultiDetArray-&gt;DetectEvent(...)</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   <span class="comment">//     gMultiDetArray-&gt;Draw(&quot;tracks&quot;)</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <span class="comment">// The geometry of the array with the tracks overlaid will be displayed.</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   <span class="keywordflow">if</span> (!event) {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      Error(<span class="stringliteral">&quot;DetectEvent&quot;</span>, <span class="stringliteral">&quot;the KVEvent object pointer has to be valid&quot;</span>);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   }</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <span class="keywordflow">if</span> (!rec_event) {</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      Error(<span class="stringliteral">&quot;DetectEvent&quot;</span>, <span class="stringliteral">&quot;the KVReconstructedEvent object pointer has to be valid&quot;</span>);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   }</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a03411dfb64018cc61f25d20576e4e584">IsROOTGeometry</a>()) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="keywordflow">if</span> (!gGeoManager) {</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;         Error(<span class="stringliteral">&quot;DetectEvent&quot;</span>, <span class="stringliteral">&quot;ROOT geometry is requested, but has not been set: gGeoManager=0x0&quot;</span>);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      }</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <span class="comment">// set up geometry navigator</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a>) <a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a> = <span class="keyword">new</span> <a class="code" href="classKVRangeTableGeoNavigator.html">KVRangeTableGeoNavigator</a>(gGeoManager, <a class="code" href="classKVMaterial.html#a432ade5dff2c1ea8ed4b0cbcaecee831">KVMaterial::GetRangeTable</a>());</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a>-&gt;<a class="code" href="classKVGeoNavigator.html#a01a9633a452192b3b48e163c4236e0a7">IsTracking</a>()) {</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;         <span class="comment">// clear any tracks created by last event</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;         gGeoManager-&gt;ClearTracks();</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;         <a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a>-&gt;<a class="code" href="classKVGeoNavigator.html#ace0a5385d6317083f5651a29ba2b563e">ResetTrackID</a>();</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      }</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;   }</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <span class="comment">//Clear the KVReconstructed pointer before a new filter process</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   rec_event-&gt;<a class="code" href="classKVEvent.html#a2806c9a41d44a15d4ddc62eb83711a44">Clear</a>();</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   <span class="comment">//Copy any parameters associated with simulated event into the reconstructed event</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;   <span class="keyword">event</span>-&gt;GetParameters()-&gt;Copy(*(rec_event-&gt;<a class="code" href="classKVEvent.html#a016bba0854f04905c4b2788cd771ac2f">GetParameters</a>()));</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a2dcb6c98e406efb4db4042800bac159b">fHitGroups</a>) {</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <span class="comment">//Create the list where fired groups will be stored</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="comment">//for reconstruction</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a2dcb6c98e406efb4db4042800bac159b">fHitGroups</a> = <span class="keyword">new</span> <a class="code" href="classKVDetectorEvent.html">KVDetectorEvent</a>;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   }</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="comment">//Clear the multidetector before a new filter process</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a2dcb6c98e406efb4db4042800bac159b">fHitGroups</a>-&gt;<a class="code" href="classKVDetectorEvent.html#a69cff073aec527097c0d931e7239e532">Clear</a>();</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   }</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   <span class="comment">// iterate through list of particles</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   <a class="code" href="classKVNucleus.html">KVNucleus</a>* part, *_part;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   <a class="code" href="classKVNameValueList.html">KVNameValueList</a> det_stat;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;   <a class="code" href="classKVNameValueList.html">KVNameValueList</a>* nvl = 0;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   <a class="code" href="classKVNameValueList.html">KVNameValueList</a> un;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   Int_t part_index = 0; <span class="comment">//index of particle in event</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   <span class="keywordflow">while</span> ((part = event-&gt;<a class="code" href="classKVEvent.html#a8e8cebe0efefb4be95272938bedc8c8b">GetNextParticle</a>())) {  <span class="comment">// loop over particles</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      ++part_index;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      TList* lidtel = 0;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="preprocessor">#ifdef KV_DEBUG</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot;DetectEvent(): looking at particle----&gt;&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      part-&gt;<a class="code" href="classKVNucleus.html#a57714f5cce37bc6d718a303087a39314">Print</a>();</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="keywordflow">if</span> (strcmp(detection_frame, <span class="stringliteral">&quot;&quot;</span>)) _part = (<a class="code" href="classKVNucleus.html">KVNucleus</a>*)part-&gt;<a class="code" href="classKVParticle.html#ade930d908ec2136e2e55b201c792140a">GetFrame</a>(detection_frame);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <span class="keywordflow">else</span> _part = (<a class="code" href="classKVNucleus.html">KVNucleus</a>*)part;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      _part-&gt;<a class="code" href="classKVParticle.html#a9196260682cd54facbbc3ed56e261c61">SetE0</a>();</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      det_stat.<a class="code" href="classKVNameValueList.html#a5ae922a154a8a2cb8286379400c50772">Clear</a>();</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      Double_t eLostInTarget = 0;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <a class="code" href="classKVDetector.html">KVDetector</a>* last_det = 0;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="keywordflow">if</span> (part-&gt;<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>() &amp;&amp; !<a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a>-&gt;<a class="code" href="classKVRangeTableGeoNavigator.html#a88668e1992f904fc6bfd62f85c344b2e">CheckIonForRangeTable</a>(part-&gt;<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>(), part-&gt;<a class="code" href="classKVNucleus.html#a5d1a5c1b9ea016d11b9b4bd803c3a8c4">GetA</a>())) {</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;         <span class="comment">// ignore charged particles which range table cannot handle</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;         det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>, Form(<span class="stringliteral">&quot;Z=%d&quot;</span>, part-&gt;<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>()));</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;         part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;         part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;SUPERHEAVY&quot;</span>);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      }</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a>-&gt;<a class="code" href="classKVGeoNavigator.html#a01a9633a452192b3b48e163c4236e0a7">IsTracking</a>() &amp;&amp; (part-&gt;<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>() == 0)) {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;         <span class="comment">// when tracking is activated, we follow neutron trajectories</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;         <span class="comment">// if not, we don&#39;t even bother trying</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;         det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>, <span class="stringliteral">&quot;NEUTRON&quot;</span>);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;         part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;         part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;NEUTRON&quot;</span>);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      }</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_part-&gt;<a class="code" href="classKVParticle.html#aab64291633c01af020a84ebfbc421844">GetKE</a>() &lt; 1.e-3) {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;         det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>, <span class="stringliteral">&quot;NO ENERGY&quot;</span>);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;         part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;         part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;NO ENERGY&quot;</span>);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;         <span class="comment">//Double_t eLostInTarget=0;</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a> &amp;&amp; part-&gt;<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>()) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a>-&gt;<a class="code" href="classKVTarget.html#ada81eafb79af46c727e06d4e3f28d7f2">SetOutgoing</a>(kTRUE);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <span class="comment">//simulate passage through target material</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            Double_t ebef = _part-&gt;<a class="code" href="classKVParticle.html#aab64291633c01af020a84ebfbc421844">GetKE</a>();</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#ad0957486eddcaaac12bb2534c3e8f578">fFilterType</a> != <a class="code" href="classKVMultiDetArray.html#aed96731a5f2cf30283e62e3149bd83c5a30f68fad9963af39b0d7ae4d87816dd4">kFilterType_Geo</a>) <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a>-&gt;<a class="code" href="classKVTarget.html#a3d1fa540295e925145a2b304045a6669">DetectParticle</a>(_part);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            eLostInTarget = ebef - _part-&gt;<a class="code" href="classKVParticle.html#aab64291633c01af020a84ebfbc421844">GetKE</a>();</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            <span class="keywordflow">if</span> (_part-&gt;<a class="code" href="classKVParticle.html#aab64291633c01af020a84ebfbc421844">GetKE</a>() &lt; 1.e-3) {</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;               det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>, <span class="stringliteral">&quot;STOPPED IN TARGET&quot;</span>);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;               part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;               part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;STOPPED IN TARGET&quot;</span>);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            }</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a>-&gt;<a class="code" href="classKVTarget.html#ada81eafb79af46c727e06d4e3f28d7f2">SetOutgoing</a>(kFALSE);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;         }</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;         <span class="keywordflow">if</span> ((<a class="code" href="classKVMultiDetArray.html#ad0957486eddcaaac12bb2534c3e8f578">fFilterType</a> != <a class="code" href="classKVMultiDetArray.html#aed96731a5f2cf30283e62e3149bd83c5a30f68fad9963af39b0d7ae4d87816dd4">kFilterType_Geo</a>) &amp;&amp; _part-&gt;<a class="code" href="classKVParticle.html#aab64291633c01af020a84ebfbc421844">GetKE</a>() &lt; 1.e-3) {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            <span class="comment">// unless we are doing a simple geometric filter, particles which</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <span class="comment">// do not have the energy to leave the target are not detected</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;         }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;         <span class="keywordflow">else</span> {</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            <span class="keywordflow">if</span> (!(nvl = <a class="code" href="classKVMultiDetArray.html#a01b35b02cbcb8eef132094021f6c5f75">DetectParticle</a>(_part))) {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;               <span class="keywordflow">if</span> (part-&gt;<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>() == 0) {</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                  <span class="comment">// tracking</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                  det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>, <span class="stringliteral">&quot;NEUTRON&quot;</span>);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                  part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                  part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;NEUTRON&quot;</span>);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;               }</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;               <span class="keywordflow">else</span> {</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                  det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>, <span class="stringliteral">&quot;NO HIT&quot;</span>);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                  part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>);</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                  part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;NO HIT&quot;</span>);</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;               }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            }</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nvl-&gt;<a class="code" href="classKVNameValueList.html#a66ed545bcb57246f6c8f6394192aeacf">GetNpar</a>() == 0) {</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;               <span class="keywordflow">if</span> (part-&gt;<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>() == 0) {</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                  <span class="comment">// tracking</span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                  det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>, <span class="stringliteral">&quot;NEUTRON&quot;</span>);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                  part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>);</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                  part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;NEUTRON&quot;</span>);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;               }</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;               <span class="keywordflow">else</span> {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                  part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>);</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                  part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;DEAD ZONE&quot;</span>);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                  det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>, <span class="stringliteral">&quot;DEAD ZONE&quot;</span>);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;               }</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;               <span class="keyword">delete</span> nvl;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;               nvl = 0;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            }</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;               Int_t nbre_nvl = nvl-&gt;<a class="code" href="classKVNameValueList.html#a66ed545bcb57246f6c8f6394192aeacf">GetNpar</a>();</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;               <a class="code" href="classKVString.html">KVString</a> LastDet(nvl-&gt;<a class="code" href="classKVNameValueList.html#a5d5ebecfdcb97b376a6d89e5d82242f4">GetNameAt</a>(nbre_nvl - 1));</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;               last_det = <a class="code" href="classKVGeoStrucElement.html#a48ff5d8e5e2146aa86d3a2b30f338487">GetDetector</a>(LastDet.Data());</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;               TList* ldet = last_det-&gt;<a class="code" href="classKVDetector.html#ac60bd4797fc7ccdd07bfd32742ed50bc">GetAlignedDetectors</a>();</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;               TIter it1(ldet);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;               Int_t ntrav = 0;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;               <a class="code" href="classKVDetector.html">KVDetector</a>* dd = 0;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;               <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a03411dfb64018cc61f25d20576e4e584">IsROOTGeometry</a>()) {</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                  <span class="comment">//Test de la trajectoire coherente</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                  <span class="keywordflow">while</span> ((dd = (<a class="code" href="classKVDetector.html">KVDetector</a>*)it1.Next())) {</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                     <span class="keywordflow">if</span> (dd-&gt;<a class="code" href="classKVDetector.html#a436dd5ff84df265bd5b5029de686f7ec">GetHits</a>()) {</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                        <span class="keywordflow">if</span> (dd-&gt;<a class="code" href="classKVDetector.html#a436dd5ff84df265bd5b5029de686f7ec">GetHits</a>()-&gt;<a class="code" href="classKVSeqCollection.html#afd4b90b8bb56e3f9334078523795c104">FindObject</a>(_part))</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                           ntrav += 1;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dd-&gt;<a class="code" href="classKVPosition.html#a69b2c40a36da0a32d78df70bcdfc828f">IsSmallerThan</a>(last_det))</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                           ntrav += 1;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                     }</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                     <span class="keywordflow">else</span> {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                        <span class="keywordflow">if</span> (dd-&gt;<a class="code" href="classKVPosition.html#a69b2c40a36da0a32d78df70bcdfc828f">IsSmallerThan</a>(last_det))</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                           ntrav += 1;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                     }</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                  }</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;               }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;               <span class="keywordflow">else</span> {</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                  ntrav = ldet-&gt;GetEntries();</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;               }</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;               <span class="keywordflow">if</span> (ntrav != ldet-&gt;GetEntries()) {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                  <span class="comment">// la particule a une trajectoire</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                  <span class="comment">// incoherente, elle a loupe un detecteur avec une ouverture</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                  <span class="comment">// plus large que ceux a la suite ou la particule est passe</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                  <span class="comment">// (ceci peut etre du a un pb de definition de zone morte autour de certains detecteur)</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                  <span class="comment">//</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                  <span class="comment">// on retire la particule sur tout les detecteurs</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                  <span class="comment">// ou elle est enregistree et on retire egalement</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                  <span class="comment">// sa contribution en energie</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                  <span class="comment">//</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                  <span class="comment">// on assimile en fait ces particules a</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                  <span class="comment">// des particules arretes dans les zones mortes</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                  <span class="comment">// non detectees</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                  it1.<a class="code" href="classKVDetector.html#a70059b509429145df5f4065814e6a72a">Reset</a>();</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                  <span class="comment">//Warning(&quot;DetectEvent&quot;,&quot;trajectoire incoherente ...&quot;);</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                  <span class="keywordflow">while</span> ((dd = (<a class="code" href="classKVDetector.html">KVDetector</a>*)it1.Next()))</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                     <span class="keywordflow">if</span> (dd-&gt;<a class="code" href="classKVDetector.html#a436dd5ff84df265bd5b5029de686f7ec">GetHits</a>() &amp;&amp; dd-&gt;<a class="code" href="classKVDetector.html#a436dd5ff84df265bd5b5029de686f7ec">GetHits</a>()-&gt;<a class="code" href="classKVSeqCollection.html#afd4b90b8bb56e3f9334078523795c104">FindObject</a>(_part)) {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                        <span class="keywordflow">if</span> (nvl-&gt;<a class="code" href="classKVNameValueList.html#ad81da56b0c9d6c38963f14421cb9eca4">HasParameter</a>(dd-&gt;GetName())) {</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                           Double_t el = dd-&gt;<a class="code" href="classKVDetector.html#ab64fcb32e4162e14ba04320803b0967f">GetEnergy</a>();</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                           el -= nvl-&gt;<a class="code" href="classKVNameValueList.html#a2150c09e62ba33c9ab5948b3432eb7ee">GetDoubleValue</a>(dd-&gt;GetName());</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                           dd-&gt;<a class="code" href="classKVDetector.html#a92d1fd5bd481943baf0b192cedb1f924">SetEnergyLoss</a>(el);</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                           <span class="keywordflow">if</span> (dd-&gt;<a class="code" href="classKVDetector.html#a472449452e1a7ec461116951284f7a20">GetNHits</a>() == 1)</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                              dd-&gt;<a class="code" href="classKVDetector.html#a92d1fd5bd481943baf0b192cedb1f924">SetEnergyLoss</a>(0);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                        }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                        dd-&gt;<a class="code" href="classKVDetector.html#a436dd5ff84df265bd5b5029de686f7ec">GetHits</a>()-&gt;<a class="code" href="classKVSeqCollection.html#af8e06106d2e2e33c431ce62153e6c507">Remove</a>(_part);</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                     }</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                  det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>, <span class="stringliteral">&quot;GEOMETRY INCOHERENCY&quot;</span>);</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                  part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                  part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;GEOMETRY INCOHERENCY&quot;</span>);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;               }</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;               <span class="keywordflow">else</span> {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                  <span class="comment">//On recupere les telescopes d identification</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                  <span class="comment">//associe au dernier detecteur touche</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                  lidtel = last_det-&gt;GetTelescopesForIdentification();</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                  <span class="keywordflow">if</span> (lidtel-&gt;GetEntries() == 0 &amp;&amp; last_det-&gt;GetEnergy() &lt;= 0) {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                     <span class="comment">//Arret dans un absorbeur</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                     det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>, <span class="stringliteral">&quot;THRESHOLD&quot;</span>);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                     part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                     part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;THRESHOLD&quot;</span>);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                     <span class="comment">//On retire la particule du detecteur considere</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                     <span class="comment">//</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                     last_det-&gt;GetHits()-&gt;Remove(_part);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                     <span class="comment">//Warning(&quot;DetectEvent&quot;,&quot;threshold ...&quot;);</span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                  }</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                  <span class="keywordflow">else</span> {</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                     part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;DETECTED&quot;</span>);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                     det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;DETECTED&quot;</span>, <span class="stringliteral">&quot;OK&quot;</span>);</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                     <a class="code" href="classKVMultiDetArray.html#a2dcb6c98e406efb4db4042800bac159b">fHitGroups</a>-&gt;<a class="code" href="classKVDetectorEvent.html#a57c1682bd1bd06b1dc98c6088766acc0">AddGroup</a>(last_det-&gt;GetGroup());</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                     <span class="keywordflow">if</span> (lidtel-&gt;GetEntries() &gt; 0) {</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                        <span class="comment">//Il y a possibilite d identification</span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                     }</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (last_det-&gt;GetEnergy() &gt; 0) {</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                        <span class="comment">//Il n&#39;y a pas de possibilite d&#39;identification</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                        <span class="comment">//arret dans le premier etage de detection</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                        det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;DETECTED&quot;</span>, <span class="stringliteral">&quot;INCOMPLETE&quot;</span>);</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                        part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;INCOMPLETE&quot;</span>);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                     }</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                     <span class="keywordflow">else</span> {</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                        Warning(<span class="stringliteral">&quot;DetectEvent&quot;</span>, <span class="stringliteral">&quot;Cas non prevu ....&quot;</span>);</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                        printf(<span class="stringliteral">&quot;last_det-&gt;GetName()=%s, lidtel-&gt;GetEntries()=%d, last_det-&gt;GetEnergy()=%lf\n&quot;</span>,</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                               last_det-&gt;GetName(),</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                               lidtel-&gt;GetEntries(),</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                               last_det-&gt;GetEnergy()</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                              );</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                     }</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                     <span class="comment">//Test d&#39;une energie residuelle non nulle</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                     <span class="comment">//La particule n a pas ete arrete par le detecteur</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                     <span class="keywordflow">if</span> (_part-&gt;<a class="code" href="classKVParticle.html#aab64291633c01af020a84ebfbc421844">GetKE</a>() &gt; 1.e-3) {</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                        <span class="comment">//Pour ces deux cas</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                        <span class="comment">//on a une information incomplete</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                        <span class="comment">//pour la particule</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                        <span class="keywordflow">if</span> (nbre_nvl != Int_t(last_det-&gt;GetGroup()-&gt;GetNumberOfDetectorLayers())) {</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                           <span class="comment">//----</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                           <span class="comment">// Fuite,</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                           <span class="comment">// la particule a loupe des detecteurs normalement aligne</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                           <span class="comment">// avec le dernier par laquelle elle est passee</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                           <span class="comment">// (ceci peut etre du a un pb de definition de la geometrie)</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                           part-&gt;<a class="code" href="classKVParticle.html#a118d0d95905e5dde994272741f54b409">RemoveGroup</a>(<span class="stringliteral">&quot;DETECTED&quot;</span>);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                           det_stat.<a class="code" href="classKVNameValueList.html#a4f92c070edb66398b6e8b85d04bf72ac">RemoveParameter</a>(<span class="stringliteral">&quot;DETECTED&quot;</span>);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                           det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>, <span class="stringliteral">&quot;GEOMETRY INCOHERENCY&quot;</span>);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                           part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>);</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                           part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;GEOMETRY INCOHERENCY&quot;</span>);</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                           <span class="comment">//Warning(&quot;DetectEvent&quot;,&quot;Fuite ......&quot;);</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                        }</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nbre_nvl) {</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                           <span class="comment">//----</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                           <span class="comment">// Punch Through,</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                           <span class="comment">// La particule est trop energetique, elle a traversee</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                           <span class="comment">// tout l&#39;appareillage de detection</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                           <span class="comment">//Warning(&quot;DetectEvent&quot;,&quot;Punch Through ......&quot;);</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                           part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;PUNCH THROUGH&quot;</span>);</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                           det_stat.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;DETECTED&quot;</span>, <span class="stringliteral">&quot;PUNCH THROUGH&quot;</span>);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                           <span class="comment">//Warning(&quot;DetectEvent&quot;,&quot;Punch Through ......&quot;);</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                        }</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                     } <span class="comment">//fin du cas ou la particule avait encore de l energie apres avoir traverser l ensemble du detecteur</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                  } <span class="comment">//fin du cas ou la particule a laisse de l energie dans un detecteur</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;               } <span class="comment">//fin du cas ou la trajectoire est coherente avec la geometrie</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            } <span class="comment">//fin du cas ou la particule a touche un detecteur au sens large</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;         } <span class="comment">//fin de la condition (FilterType == kFilterType_Geo) || _part-&gt;GetKE()&gt;1.e-3</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      } <span class="comment">// end case where particle with a non-zero KE left the target</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <span class="comment">//On enregistre l eventuelle perte dans la cible</span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a>)</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;         part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;TARGET Out&quot;</span>, eLostInTarget);</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="comment">//On enregistre le detecteur ou la particule s&#39;arrete</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="keywordflow">if</span> (last_det)</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;         part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;STOPPING DETECTOR&quot;</span>, last_det-&gt;GetName());</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="comment">//On enregistre le telescope d&#39;identification</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <span class="keywordflow">if</span> (lidtel &amp;&amp; lidtel-&gt;GetEntries()) {</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;         <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* theIDT = 0;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;         TIter nextIDT(lidtel);</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;         <span class="keywordflow">while</span> ((theIDT = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)nextIDT())) {</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;            <span class="comment">// make sure particle passed through telescope&#39;s detectors</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            Int_t ndet = theIDT-&gt;<a class="code" href="classKVIDTelescope.html#ad067162aaccc0b72cdc6d7e7db1c2834">GetSize</a>();</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            Int_t ntouche = 0;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= ndet; i++) {</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;               <span class="keywordflow">if</span> (nvl &amp;&amp; nvl-&gt;<a class="code" href="classKVNameValueList.html#ad81da56b0c9d6c38963f14421cb9eca4">HasParameter</a>(Form(<span class="stringliteral">&quot;%s&quot;</span>, theIDT-&gt;<a class="code" href="classKVIDTelescope.html#a40de52959d6ba2b82d73767babf158f1">GetDetector</a>(i)-&gt;GetName())))</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                  ntouche++;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            }</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;            <span class="keywordflow">if</span> (ntouche &lt; ndet) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#ad0957486eddcaaac12bb2534c3e8f578">fFilterType</a> == <a class="code" href="classKVMultiDetArray.html#aed96731a5f2cf30283e62e3149bd83c5a30f68fad9963af39b0d7ae4d87816dd4">kFilterType_Geo</a> ||</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                  (theIDT-&gt;<a class="code" href="classKVIDTelescope.html#a062c3bf3961e074aca8f0bf2ba8a1a6d">IsReadyForID</a>() &amp;&amp; theIDT-&gt;<a class="code" href="classKVIDTelescope.html#a6e3f1b0eaea07656f816c8ee0302ad05">CanIdentify</a>(part-&gt;<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>(), part-&gt;<a class="code" href="classKVNucleus.html#a5d1a5c1b9ea016d11b9b4bd803c3a8c4">GetA</a>()))) {</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;               part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;IDENTIFYING TELESCOPE&quot;</span>, theIDT-&gt;GetName());</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            }</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;         }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      }</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <span class="comment">//On enregistre le statut de detection</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <span class="comment">//dans l objet KVNucleus</span></div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <span class="keywordflow">for</span> (Int_t ii = 0; ii &lt; det_stat.<a class="code" href="classKVNameValueList.html#a66ed545bcb57246f6c8f6394192aeacf">GetNpar</a>(); ii += 1) {</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;         part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(det_stat.<a class="code" href="classKVNameValueList.html#a5d5ebecfdcb97b376a6d89e5d82242f4">GetNameAt</a>(ii), det_stat.<a class="code" href="classKVNameValueList.html#ac7100068241e27ba17a83e8eabcd9e18">GetStringValue</a>(ii));</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      }</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <span class="comment">//On enregistre les differentes pertes d&#39;energie dans les detecteurs</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="comment">//dans l objet KVNucleus</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="keywordflow">if</span> (nvl) {</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;         <span class="keywordflow">for</span> (Int_t ii = 0; ii &lt; nvl-&gt;<a class="code" href="classKVNameValueList.html#a66ed545bcb57246f6c8f6394192aeacf">GetNpar</a>(); ii += 1) {</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            TString detname = nvl-&gt;<a class="code" href="classKVNameValueList.html#a5d5ebecfdcb97b376a6d89e5d82242f4">GetNameAt</a>(ii);</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(detname, nvl-&gt;<a class="code" href="classKVNameValueList.html#a2150c09e62ba33c9ab5948b3432eb7ee">GetDoubleValue</a>(ii));</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;            <span class="comment">// For fFilterType == kFilterType_Full:</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;            <span class="comment">//  for each detector hit we record the index of each particle hitting the detector</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;            <span class="comment">//    [detector]=&quot;13&quot; =&gt; detector hit by particle 13</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            <span class="comment">//  if more than one we have</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;            <span class="comment">//    [detector]=&quot;1 6&quot;  =&gt; detector hit by particles 1 &amp; 6</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#ad0957486eddcaaac12bb2534c3e8f578">fFilterType</a> == <a class="code" href="classKVMultiDetArray.html#aed96731a5f2cf30283e62e3149bd83c5a4db3e048156484746d29706431b3d6bb">kFilterType_Full</a>) {</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;               <span class="keywordflow">if</span> (un.<a class="code" href="classKVNameValueList.html#ad81da56b0c9d6c38963f14421cb9eca4">HasParameter</a>(detname)) {</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                  <a class="code" href="classKVNumberList.html">KVNumberList</a> ppp(un.<a class="code" href="classKVNameValueList.html#ac7100068241e27ba17a83e8eabcd9e18">GetStringValue</a>(detname));</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                  ppp.<a class="code" href="classKVNumberList.html#aad379e499ea62930345e39a670a50657">Add</a>(part_index);</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                  un.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(detname, ppp.AsString());</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;               }</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;               <span class="keywordflow">else</span> {</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                  un.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(detname, Form(<span class="stringliteral">&quot;%d&quot;</span>, part_index));</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;               }</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            }</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;         }</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;         <span class="keyword">delete</span> nvl;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;         nvl = 0;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      }</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      _part-&gt;<a class="code" href="classKVParticle.html#a3d93f8bb12e37d184d074caca69dfb44">SetMomentum</a>(*_part-&gt;<a class="code" href="classKVParticle.html#a0cdbedef9fc96627250379432ac8f88d">GetPInitial</a>());</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   }    <span class="comment">//fin de loop over particles</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;   <span class="comment">//   Info(&quot;DetectEvent&quot;, &quot;Finished filtering event. Event status now:&quot;);</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;   <span class="comment">//   event-&gt;Print();</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;   <span class="comment">// EVENT RECONSTRUCTION FOR SIMPLE GEOMETRIC FILTER</span></div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="comment">      We keep all particles EXCEPT those belonging to groups</span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment">      &quot;NO HIT&quot; &quot;DEAD ZONE&quot; or &quot;GEOMETRY INCOHERENCY&quot;</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#ad0957486eddcaaac12bb2534c3e8f578">fFilterType</a> == <a class="code" href="classKVMultiDetArray.html#aed96731a5f2cf30283e62e3149bd83c5a30f68fad9963af39b0d7ae4d87816dd4">kFilterType_Geo</a>) {</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <a class="code" href="classKVGroup.html">KVGroup</a>* grp_tch;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      TIter nxt_grp(<a class="code" href="classKVMultiDetArray.html#a2dcb6c98e406efb4db4042800bac159b">fHitGroups</a>-&gt;<a class="code" href="classKVDetectorEvent.html#aa9fb647cb9b05ba268c3ff12e44c15ec">GetGroups</a>());</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="keywordflow">while</span> ((grp_tch = (<a class="code" href="classKVGroup.html">KVGroup</a>*) nxt_grp())) {</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;         grp_tch-&gt;<a class="code" href="classKVGroup.html#a9c6da55a3947a8aec51b5d8cf5e7da42">ClearHitDetectors</a>();</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      }</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keywordflow">while</span> ((part = event-&gt;<a class="code" href="classKVEvent.html#a8e8cebe0efefb4be95272938bedc8c8b">GetNextParticle</a>())) {</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;         <span class="keywordflow">if</span> (part-&gt;<a class="code" href="classKVParticle.html#ac751f9dcd28b325103adb3c4d498e939">BelongsToGroup</a>(<span class="stringliteral">&quot;DETECTED&quot;</span>) ||</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;               (part-&gt;<a class="code" href="classKVParticle.html#ac751f9dcd28b325103adb3c4d498e939">BelongsToGroup</a>(<span class="stringliteral">&quot;UNDETECTED&quot;</span>) &amp;&amp;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                !part-&gt;<a class="code" href="classKVParticle.html#ac751f9dcd28b325103adb3c4d498e939">BelongsToGroup</a>(<span class="stringliteral">&quot;NO HIT&quot;</span>) &amp;&amp;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                !part-&gt;<a class="code" href="classKVParticle.html#ac751f9dcd28b325103adb3c4d498e939">BelongsToGroup</a>(<span class="stringliteral">&quot;DEAD ZONE&quot;</span>) &amp;&amp;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                !part-&gt;<a class="code" href="classKVParticle.html#ac751f9dcd28b325103adb3c4d498e939">BelongsToGroup</a>(<span class="stringliteral">&quot;GEOMETRY INCOHERENCY&quot;</span>) &amp;&amp;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                !part-&gt;<a class="code" href="classKVParticle.html#ac751f9dcd28b325103adb3c4d498e939">BelongsToGroup</a>(<span class="stringliteral">&quot;NEUTRON&quot;</span>) &amp;&amp;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                !part-&gt;<a class="code" href="classKVParticle.html#ac751f9dcd28b325103adb3c4d498e939">BelongsToGroup</a>(<span class="stringliteral">&quot;NO ENERGY&quot;</span>))</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            ) {</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            <a class="code" href="classKVDetector.html">KVDetector</a>* last_det = 0;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            <span class="keywordflow">if</span> (part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#ad81da56b0c9d6c38963f14421cb9eca4">HasParameter</a>(<span class="stringliteral">&quot;STOPPING DETECTOR&quot;</span>))</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;               last_det = <a class="code" href="classKVGeoStrucElement.html#a48ff5d8e5e2146aa86d3a2b30f338487">GetDetector</a>(part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#ac7100068241e27ba17a83e8eabcd9e18">GetStringValue</a>(<span class="stringliteral">&quot;STOPPING DETECTOR&quot;</span>));</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;            <span class="keywordflow">if</span> (!last_det) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            <a class="code" href="classKVReconstructedNucleus.html">KVReconstructedNucleus</a>* recon_nuc = (<a class="code" href="classKVReconstructedNucleus.html">KVReconstructedNucleus</a>*)rec_event-&gt;<a class="code" href="classKVReconstructedEvent.html#a7f124298cd70a0c4ba20a58cf3a9cc9f">AddParticle</a>();</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            <span class="comment">// copy parameter list</span></div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#aeec7b820e6eab6dae861235398de1762">Copy</a>(*(recon_nuc-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()));</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a0a342534af0ba910c82df739924da30c">Reconstruct</a>(last_det);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVNucleus.html#abc45f4e6459623414028a5688e238d19">SetZandA</a>(part-&gt;<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>(), part-&gt;<a class="code" href="classKVNucleus.html#a5d1a5c1b9ea016d11b9b4bd803c3a8c4">GetA</a>());</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVParticle.html#a90185da004429bf86a79a1f5de5b4878">SetE</a>(part-&gt;<a class="code" href="classKVParticle.html#ade930d908ec2136e2e55b201c792140a">GetFrame</a>(detection_frame, kFALSE)-&gt;<a class="code" href="classKVParticle.html#a7a2809e4949fda47f65f97eee666ad1f">GetE</a>());</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            <span class="keywordflow">if</span> (part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#ad81da56b0c9d6c38963f14421cb9eca4">HasParameter</a>(<span class="stringliteral">&quot;IDENTIFYING TELESCOPE&quot;</span>)) {</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;               <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt = <a class="code" href="classKVMultiDetArray.html#ad915cf18454f95b852e13d3816a51abf">GetIDTelescope</a>(part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#ac7100068241e27ba17a83e8eabcd9e18">GetStringValue</a>(<span class="stringliteral">&quot;IDENTIFYING TELESCOPE&quot;</span>));</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;               <span class="keywordflow">if</span> (idt) {</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                  recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#aef678889124defa5592d519989807e8b">SetIdentifyingTelescope</a>(idt);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                  idt-&gt;<a class="code" href="classKVIDTelescope.html#a4d5ce7fcb8e017a84d9282dcb1509762">SetIDCode</a>(recon_nuc, idt-&gt;<a class="code" href="classKVIDTelescope.html#aa2d4c0883465134928c31947192501cd">GetIDCode</a>());</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                  recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#af82e26cea745352ceb262c338d654244">SetECode</a>(idt-&gt;<a class="code" href="classKVIDTelescope.html#aeae8d7d72178a5c9be5194de7ab7a57a">GetECode</a>());</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;               }</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            }</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a20fdf05449df9edca542e5a8f18f1e50">GetAnglesFromStoppingDetector</a>();</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;         }</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      }</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <span class="comment">// analyse all groups &amp; particles</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      nxt_grp.Reset();</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      <span class="keywordflow">while</span> ((grp_tch = (<a class="code" href="classKVGroup.html">KVGroup</a>*) nxt_grp())) {</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;         <a class="code" href="classKVReconstructedNucleus.html#ae3ec6de68771df778fc503f33e6bc815">KVReconstructedNucleus::AnalyseParticlesInGroup</a>(grp_tch);</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      }</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <a class="code" href="classKVReconstructedNucleus.html">KVReconstructedNucleus</a>* recon_nuc;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <span class="keywordflow">while</span> ((recon_nuc = rec_event-&gt;<a class="code" href="classKVReconstructedEvent.html#abf26410e0846cbeae63b99a8ba8d7869">GetNextParticle</a>())) {</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;         <span class="comment">// check for undetectable pile-ups</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;         <span class="keywordflow">if</span> (recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a9372e92ada83f8277e6a2101da7e7ccf">GetStatus</a>() == <a class="code" href="classKVReconstructedNucleus.html#a225bc41a3152a3f98c19676bc9f09bcfa2a9e7ad5e6c7f973f1e127df5384995e">KVReconstructedNucleus::kStatusOK</a>) {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;            <span class="keywordflow">if</span> (recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a8c9249feead1176572f38dd5da4ca3cb">GetStoppingDetector</a>()-&gt;<a class="code" href="classKVDetector.html#a472449452e1a7ec461116951284f7a20">GetNHits</a>() &gt; 1)</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;               recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a4dc82d00456c3e5a5267bbccada20844">SetStatus</a>(<a class="code" href="classKVReconstructedNucleus.html#a225bc41a3152a3f98c19676bc9f09bcfa7391cd71d9354f5de36b7d012975fdb2">KVReconstructedNucleus::kStatusPileupGhost</a>);</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;               <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt = recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#ade54f876b9edf3e9ac5623403a3b266c">GetIdentifyingTelescope</a>();</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;               <span class="keywordflow">if</span> (idt) {</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                  <a class="code" href="classKVDetector.html">KVDetector</a>* de_det = idt-&gt;<a class="code" href="classKVIDTelescope.html#a40de52959d6ba2b82d73767babf158f1">GetDetector</a>(1);</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                  <span class="keywordflow">if</span> (de_det-&gt;<a class="code" href="classKVDetector.html#a472449452e1a7ec461116951284f7a20">GetNHits</a>() &gt; 1) recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a4dc82d00456c3e5a5267bbccada20844">SetStatus</a>(<a class="code" href="classKVReconstructedNucleus.html#a225bc41a3152a3f98c19676bc9f09bcfaf62c208cd36657fe89f2adde45f661e7">KVReconstructedNucleus::kStatusPileupDE</a>);</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;               }</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            }</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;         }</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;         recon_nuc-&gt;<a class="code" href="classKVParticle.html#a0ae34ffdf7b6f767733ba8c08b278789">SetIsOK</a>(kFALSE);</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;         <span class="keywordflow">if</span> (recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a9372e92ada83f8277e6a2101da7e7ccf">GetStatus</a>() != <a class="code" href="classKVReconstructedNucleus.html#a225bc41a3152a3f98c19676bc9f09bcfa7391cd71d9354f5de36b7d012975fdb2">KVReconstructedNucleus::kStatusPileupGhost</a>) {</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a469865d6baec4e1becb670b527408978">SetIsIdentified</a>();</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a8fb014a392dbaa9e25856ea9352bc8a5">SetIsCalibrated</a>();</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVParticle.html#a0ae34ffdf7b6f767733ba8c08b278789">SetIsOK</a>();</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#abf0045dbdf91cab40330f31d09e9f4d6">SetZMeasured</a>();</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a1a6a0ae1878ac5df37cfafaede899340">SetAMeasured</a>();</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;         }</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      }</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;   }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;   <span class="comment">// EVENT RECONSTRUCTION FOR SIMPLE GEOMETRIC FILTER WITH THRESHOLDS</span></div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="comment">      We keep all particles belonging to &quot;DETECTED&quot; group</span></div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="comment">      Those in &quot;INCOMPLETE&quot; group are treated as Zmin particles</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#ad0957486eddcaaac12bb2534c3e8f578">fFilterType</a> == <a class="code" href="classKVMultiDetArray.html#aed96731a5f2cf30283e62e3149bd83c5abf878d1ad0c299c16795028144a06427">kFilterType_GeoThresh</a>) {</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <span class="comment">// before reconstruction we have to clear the list of &#39;hits&#39; of each detector</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <span class="comment">// (they currently hold the addresses of the simulated particles which were detected)</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <span class="comment">// which will be filled with the reconstructed particles, otherwise the number of hits</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      <span class="comment">// in each detector will be 2x the real value, and coherency analysis of the reconstructed</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="comment">// events will not work</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      <a class="code" href="classKVGroup.html">KVGroup</a>* grp_tch;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      TIter nxt_grp(<a class="code" href="classKVMultiDetArray.html#a2dcb6c98e406efb4db4042800bac159b">fHitGroups</a>-&gt;<a class="code" href="classKVDetectorEvent.html#aa9fb647cb9b05ba268c3ff12e44c15ec">GetGroups</a>());</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="keywordflow">while</span> ((grp_tch = (<a class="code" href="classKVGroup.html">KVGroup</a>*) nxt_grp())) grp_tch-&gt;<a class="code" href="classKVGroup.html#a9c6da55a3947a8aec51b5d8cf5e7da42">ClearHitDetectors</a>();</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <a class="code" href="classKVReconstructedNucleus.html">KVReconstructedNucleus</a>* recon_nuc;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordflow">while</span> ((part = event-&gt;<a class="code" href="classKVEvent.html#a8e8cebe0efefb4be95272938bedc8c8b">GetNextParticle</a>())) {</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;         <span class="keywordflow">if</span> (part-&gt;<a class="code" href="classKVParticle.html#ac751f9dcd28b325103adb3c4d498e939">BelongsToGroup</a>(<span class="stringliteral">&quot;DETECTED&quot;</span>)) {</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            <a class="code" href="classKVDetector.html">KVDetector</a>* last_det = 0;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            <span class="keywordflow">if</span> (part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#ad81da56b0c9d6c38963f14421cb9eca4">HasParameter</a>(<span class="stringliteral">&quot;STOPPING DETECTOR&quot;</span>))</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;               last_det = <a class="code" href="classKVGeoStrucElement.html#a48ff5d8e5e2146aa86d3a2b30f338487">GetDetector</a>(part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#ac7100068241e27ba17a83e8eabcd9e18">GetStringValue</a>(<span class="stringliteral">&quot;STOPPING DETECTOR&quot;</span>));</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <span class="keywordflow">if</span> (!last_det || !(last_det-&gt;<a class="code" href="classKVDetector.html#a0e85350dfaf073475b88e5922fc73b8c">IsOK</a>())) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            recon_nuc = (<a class="code" href="classKVReconstructedNucleus.html">KVReconstructedNucleus</a>*)rec_event-&gt;<a class="code" href="classKVReconstructedEvent.html#a7f124298cd70a0c4ba20a58cf3a9cc9f">AddParticle</a>();</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;            <span class="comment">// copy parameter list</span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#aeec7b820e6eab6dae861235398de1762">Copy</a>(*(recon_nuc-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()));</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a0a342534af0ba910c82df739924da30c">Reconstruct</a>(last_det);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVNucleus.html#abc45f4e6459623414028a5688e238d19">SetZandA</a>(part-&gt;<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>(), part-&gt;<a class="code" href="classKVNucleus.html#a5d1a5c1b9ea016d11b9b4bd803c3a8c4">GetA</a>());</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVParticle.html#a90185da004429bf86a79a1f5de5b4878">SetE</a>(part-&gt;<a class="code" href="classKVParticle.html#ade930d908ec2136e2e55b201c792140a">GetFrame</a>(detection_frame, kFALSE)-&gt;<a class="code" href="classKVParticle.html#a7a2809e4949fda47f65f97eee666ad1f">GetE</a>());</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <span class="keywordflow">if</span> (part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#ad81da56b0c9d6c38963f14421cb9eca4">HasParameter</a>(<span class="stringliteral">&quot;IDENTIFYING TELESCOPE&quot;</span>)) {</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;               <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt = <a class="code" href="classKVMultiDetArray.html#ad915cf18454f95b852e13d3816a51abf">GetIDTelescope</a>(part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#ac7100068241e27ba17a83e8eabcd9e18">GetStringValue</a>(<span class="stringliteral">&quot;IDENTIFYING TELESCOPE&quot;</span>));</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;               <span class="keywordflow">if</span> (idt) {</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                  recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#aef678889124defa5592d519989807e8b">SetIdentifyingTelescope</a>(idt);</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                  <span class="comment">// for particles which are apprently well-identified, we</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                  <span class="comment">// check that they are in fact sufficiently energetic to be identified</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                  <span class="keywordflow">if</span> (!part-&gt;<a class="code" href="classKVParticle.html#ac751f9dcd28b325103adb3c4d498e939">BelongsToGroup</a>(<span class="stringliteral">&quot;INCOMPLETE&quot;</span>)</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                        &amp;&amp; !idt-&gt;<a class="code" href="classKVIDTelescope.html#a5e44b6698aa3ffdc1b8f2ca2caa9ae80">CheckTheoreticalIdentificationThreshold</a>((<a class="code" href="classKVNucleus.html">KVNucleus</a>*)part-&gt;<a class="code" href="classKVParticle.html#ade930d908ec2136e2e55b201c792140a">GetFrame</a>(detection_frame, kFALSE)))</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                     part-&gt;<a class="code" href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">AddGroup</a>(<span class="stringliteral">&quot;INCOMPLETE&quot;</span>);</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                  <span class="keywordflow">if</span> (!part-&gt;<a class="code" href="classKVParticle.html#ac751f9dcd28b325103adb3c4d498e939">BelongsToGroup</a>(<span class="stringliteral">&quot;INCOMPLETE&quot;</span>)) {</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                     idt-&gt;<a class="code" href="classKVIDTelescope.html#a4d5ce7fcb8e017a84d9282dcb1509762">SetIDCode</a>(recon_nuc, idt-&gt;<a class="code" href="classKVIDTelescope.html#aa2d4c0883465134928c31947192501cd">GetIDCode</a>());</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                     idt-&gt;<a class="code" href="classKVIDTelescope.html#aca1e2fe49c2c19874953bcb5c79cdbcf">SetIdentificationStatus</a>(recon_nuc);</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                  }</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                  <span class="keywordflow">else</span> {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                     idt-&gt;<a class="code" href="classKVIDTelescope.html#a4d5ce7fcb8e017a84d9282dcb1509762">SetIDCode</a>(recon_nuc, idt-&gt;<a class="code" href="classKVIDTelescope.html#a4b879953f49476117f6f9e6e14db3074">GetZminCode</a>());</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                  }</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                  recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#af82e26cea745352ceb262c338d654244">SetECode</a>(idt-&gt;<a class="code" href="classKVIDTelescope.html#aeae8d7d72178a5c9be5194de7ab7a57a">GetECode</a>());</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                  <span class="comment">//recon_nuc-&gt;SetIsIdentified();</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                  <span class="comment">//recon_nuc-&gt;SetIsCalibrated();</span></div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;               }</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;            }</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            <span class="keywordflow">else</span> {   <span class="comment">/*if(part-&gt;BelongsToGroup(&quot;INCOMPLETE&quot;))*/</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;               <span class="comment">// for particles stopping in 1st member of a telescope, there is no &quot;identifying telescope&quot;</span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;               <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)last_det-&gt;<a class="code" href="classKVDetector.html#a5c7b16cbf1e460e3e6ae2b1b519a09fa">GetIDTelescopes</a>()-&gt;<a class="code" href="classKVSeqCollection.html#a79e71dc3aba24a091398199d670b5837">First</a>();</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;               <span class="keywordflow">if</span> (idt) idt-&gt;<a class="code" href="classKVIDTelescope.html#a4d5ce7fcb8e017a84d9282dcb1509762">SetIDCode</a>(recon_nuc, idt-&gt;<a class="code" href="classKVIDTelescope.html#a4b879953f49476117f6f9e6e14db3074">GetZminCode</a>());</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            }</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            recon_nuc-&gt;<a class="code" href="classKVReconstructedNucleus.html#a20fdf05449df9edca542e5a8f18f1e50">GetAnglesFromStoppingDetector</a>();</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;         }</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      }</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <span class="comment">// analyse all groups &amp; particles</span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      nxt_grp.Reset();</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      <span class="keywordflow">while</span> ((grp_tch = (<a class="code" href="classKVGroup.html">KVGroup</a>*) nxt_grp())) {</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;         <a class="code" href="classKVReconstructedNucleus.html#ae3ec6de68771df778fc503f33e6bc815">KVReconstructedNucleus::AnalyseParticlesInGroup</a>(grp_tch);</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      }</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <span class="comment">// now perform mult-hit/coherency analysis until no further changes take place</span></div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      Int_t round = 1, nchanged;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      <span class="comment">//cout &lt;&lt; &quot;SIM: &quot; &lt;&lt; event-&gt;GetMult() &lt;&lt; &quot; REC: &quot; &lt;&lt; rec_event-&gt;GetMult() &lt;&lt; endl;</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <span class="comment">//for(int i=1;i&lt;=rec_event-&gt;GetMult();i++) cout &lt;&lt; i &lt;&lt; &quot; Z=&quot; &lt;&lt; rec_event-&gt;GetParticle(i)-&gt;GetZ()&lt;&lt;&quot; status=&quot;&lt;&lt;rec_event-&gt;GetParticle(i)-&gt;GetStatus() &lt;&lt;endl;</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="keywordflow">do</span> {</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;         nchanged = <a class="code" href="classKVMultiDetArray.html#a34c1af932e9092034252e780445a8080">FilteredEventCoherencyAnalysis</a>(round++, rec_event);</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;         <span class="comment">//cout &lt;&lt; &quot;Round = &quot; &lt;&lt; round-1 &lt;&lt; &quot; :  nchanged = &quot; &lt;&lt; nchanged &lt;&lt; endl;</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;         nxt_grp.Reset();</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;         <span class="keywordflow">while</span> ((grp_tch = (<a class="code" href="classKVGroup.html">KVGroup</a>*) nxt_grp())) {</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            <a class="code" href="classKVReconstructedNucleus.html#ae3ec6de68771df778fc503f33e6bc815">KVReconstructedNucleus::AnalyseParticlesInGroup</a>(grp_tch);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;         }</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;         <span class="comment">//for(int i=1;i&lt;=rec_event-&gt;GetMult();i++) cout &lt;&lt; i &lt;&lt; &quot; Z=&quot; &lt;&lt; rec_event-&gt;GetParticle(i)-&gt;GetZ()&lt;&lt;&quot; status=&quot;&lt;&lt;rec_event-&gt;GetParticle(i)-&gt;GetStatus() &lt;&lt;endl;</span></div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      }</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <span class="keywordflow">while</span> (nchanged);</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;   }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#ad0957486eddcaaac12bb2534c3e8f578">fFilterType</a> == <a class="code" href="classKVMultiDetArray.html#aed96731a5f2cf30283e62e3149bd83c5a4db3e048156484746d29706431b3d6bb">kFilterType_Full</a>) {</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      <span class="comment">// Calculate acquisition parameters, taking into account pile-up</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <a class="code" href="classKVDetector.html">KVDetector</a>* det = 0;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="keywordflow">for</span> (Int_t nn = 0; nn &lt; un.<a class="code" href="classKVNameValueList.html#a66ed545bcb57246f6c8f6394192aeacf">GetNpar</a>(); nn += 1) {</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;         det = <a class="code" href="classKVGeoStrucElement.html#a48ff5d8e5e2146aa86d3a2b30f338487">GetDetector</a>(un.<a class="code" href="classKVNameValueList.html#a5d5ebecfdcb97b376a6d89e5d82242f4">GetNameAt</a>(nn));</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;         <a class="code" href="classKVNumberList.html">KVNumberList</a> ppp(un.<a class="code" href="classKVNameValueList.html#ac7100068241e27ba17a83e8eabcd9e18">GetStringValue</a>(nn));</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;         det-&gt;<a class="code" href="classKVDetector.html#a7f89fc18f10a4b559e04db45482def7b">DeduceACQParameters</a>(event, ppp);</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      }</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="comment">// before reconstruction we have to clear the list of &#39;hits&#39; of each detector</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      <span class="comment">// (they currently hold the addresses of the simulated particles which were detected)</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <span class="comment">// which will be filled with the reconstructed particles, otherwise the number of hits</span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      <span class="comment">// in each detector will be 2x the real value, and coherency analysis of the reconstructed</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      <span class="comment">// events will not work</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      <a class="code" href="classKVGroup.html">KVGroup</a>* grp_tch;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      TIter nxt_grp(<a class="code" href="classKVMultiDetArray.html#a2dcb6c98e406efb4db4042800bac159b">fHitGroups</a>-&gt;<a class="code" href="classKVDetectorEvent.html#aa9fb647cb9b05ba268c3ff12e44c15ec">GetGroups</a>());</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <span class="keywordflow">while</span> ((grp_tch = (<a class="code" href="classKVGroup.html">KVGroup</a>*) nxt_grp())) {</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;         grp_tch-&gt;<a class="code" href="classKVGroup.html#a9c6da55a3947a8aec51b5d8cf5e7da42">ClearHitDetectors</a>();</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      }</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <span class="comment">//    Info(&quot;DetectEvent&quot;, &quot;Multidetector status before event reconstruction:&quot;);</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      <span class="comment">//    fHitGroups-&gt;Print();</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;      <span class="comment">// reconstruct &amp; identify the event</span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a9f5063834fca02cb18abc0454a8ee09e">ReconstructEvent</a>(rec_event, <a class="code" href="classKVMultiDetArray.html#a2dcb6c98e406efb4db4042800bac159b">fHitGroups</a>);</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      rec_event-&gt;<a class="code" href="classKVReconstructedEvent.html#a4d354ed9fa1f101bf1b159956b2058ca">IdentifyEvent</a>();</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <span class="comment">// calculate particle energies</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      rec_event-&gt;<a class="code" href="classKVReconstructedEvent.html#acd5e85aedfaa983a7e69a1c123b05156">CalibrateEvent</a>();</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      <span class="comment">// &#39;coherency&#39;</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      rec_event-&gt;<a class="code" href="classKVReconstructedEvent.html#aabcde79be88f6228027371cb0423fbe3">SecondaryIdentCalib</a>();</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;   }</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;}</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div><div class="line"><a name="l01446"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#acec0f846fca263cf6424465cc272b445"> 1446</a></span>&#160;<a class="code" href="classKVNameValueList.html">KVNameValueList</a>* <a class="code" href="classKVMultiDetArray.html#acec0f846fca263cf6424465cc272b445">KVMultiDetArray::DetectParticle_TGEO</a>(<a class="code" href="classKVNucleus.html">KVNucleus</a>* part)</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;{</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;   <span class="comment">// Use ROOT geometry to propagate particle through the array,</span></div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;   <span class="comment">// calculating its energy losses in all absorbers, and setting the</span></div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;   <span class="comment">// energy loss members of the active detectors on the way.</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;   <span class="comment">// It is assumed that the ROOT geometry has been generated and is</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;   <span class="comment">// pointed to by gGeoManager.</span></div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;   <span class="comment">// Returns a list (KVNameValueList pointer) of the crossed detectors with their name and energy loss</span></div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;   <span class="comment">//   if particle hits detector in array, 0 if not (i.e. particle</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;   <span class="comment">// in beam pipe or dead zone of the multidetector)</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;   <span class="comment">// INFO User has to delete the KVNameValueList after its use</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;   <span class="comment">// list of energy losses in active layers of detectors</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;   <a class="code" href="classKVNameValueList.html">KVNameValueList</a>* NVL = 0;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a>) {</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      Error(<span class="stringliteral">&quot;DetectParticle_TGEO&quot;</span>, <span class="stringliteral">&quot;No existing navigator ...&quot;</span>);</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;   }</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a>-&gt;<a class="code" href="classKVRangeTableGeoNavigator.html#ac3c2b21b63ca7f1670e75743b9de1fe8">PropagateParticle</a>(part);</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;   <span class="comment">// particle missed all detectors</span></div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;   <span class="keywordflow">if</span> (!part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#a66ed545bcb57246f6c8f6394192aeacf">GetNpar</a>()) <span class="keywordflow">return</span> NVL;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      <span class="comment">// find detectors in array hit by particle</span></div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      <span class="comment">// and set their energies</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      TIter next(part-&gt;<a class="code" href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#aea27e4ffa90b56089f22031ba0fbd97f">GetList</a>());</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      <a class="code" href="classKVNamedParameter.html">KVNamedParameter</a>* param;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <span class="keywordflow">while</span> ((param = (<a class="code" href="classKVNamedParameter.html">KVNamedParameter</a>*)next())) {</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;         <a class="code" href="classKVString.html">KVString</a> pname(param-&gt;GetName());</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;         pname.<a class="code" href="classKVString.html#a09cf7b4f40f96fc75a3e1d244aecc386">Begin</a>(<span class="stringliteral">&quot;:&quot;</span>);</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;         <a class="code" href="classKVString.html">KVString</a> pn2 = pname.<a class="code" href="classKVString.html#a3c430dc4fec2741cb11c6e8ba2eae185">Next</a>();</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;         <a class="code" href="classKVString.html">KVString</a> pn3 = pname.<a class="code" href="classKVString.html#a3c430dc4fec2741cb11c6e8ba2eae185">Next</a>();</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;         <span class="keywordflow">if</span> (pn2 == <span class="stringliteral">&quot;DE&quot;</span>) {</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            pn3.<a class="code" href="classKVString.html#a09cf7b4f40f96fc75a3e1d244aecc386">Begin</a>(<span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            <a class="code" href="classKVString.html">KVString</a> det_name = pn3.<a class="code" href="classKVString.html#a3c430dc4fec2741cb11c6e8ba2eae185">Next</a>();</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            <span class="keywordflow">if</span> (pn3.<a class="code" href="classKVString.html#a2b4b016b6db4b17ce8acdacf8c3b9f85">End</a>() || pn3.<a class="code" href="classKVString.html#a3c430dc4fec2741cb11c6e8ba2eae185">Next</a>().BeginsWith(<span class="stringliteral">&quot;ACTIVE&quot;</span>)) {</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;               <span class="comment">// energy loss in active layer of detector</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;               <a class="code" href="classKVDetector.html">KVDetector</a>* curDet = <a class="code" href="classKVGeoStrucElement.html#a48ff5d8e5e2146aa86d3a2b30f338487">GetDetector</a>(det_name);</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;               <span class="keywordflow">if</span> (!curDet) {</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                  Error(<span class="stringliteral">&quot;DetectParticle_TGEO&quot;</span>,</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                        <span class="stringliteral">&quot;Cannot find detector %s corresponding to particle energy loss %s&quot;</span>,</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                        det_name.Data(), pname.Data());</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;               }</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;               <span class="keywordflow">else</span> {</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                  Double_t de = param-&gt;GetDouble();</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                  <span class="keywordflow">if</span> (!NVL) NVL = <span class="keyword">new</span> <a class="code" href="classKVNameValueList.html">KVNameValueList</a>;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                  NVL-&gt;<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(curDet-&gt;GetName(), de);</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;               }</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;            }</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;         }</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      }</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;   }</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;   <span class="keywordflow">return</span> NVL;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;}</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a959be0d7af93982fb118b62cd4d3ea7e"> 1521</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a959be0d7af93982fb118b62cd4d3ea7e">KVMultiDetArray::ReplaceDetector</a>(<span class="keyword">const</span> Char_t*,</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                                      <a class="code" href="classKVDetector.html">KVDetector</a>*)</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;{</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;   <span class="comment">//Replace (and destroy) the named detector in the array with a detector based on the prototype</span></div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;   <span class="comment">//given by the pointer new_kvd.</span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="comment">//    KVDetector *kvd = GetDetector(name);</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;<span class="comment">//    if (!kvd) {</span></div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="comment">//        Warning(&quot;ReplaceDetector&quot;, &quot;Detector %s not found&quot;, name);</span></div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="comment">//        return;</span></div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;<span class="comment">//    }</span></div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="comment">//    //get telescope of detector, so we know where to put the replacement</span></div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="comment">//    KVTelescope *tel = kvd-&gt;GetTelescope();</span></div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="comment">//    if (!tel) {</span></div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<span class="comment">//        Error(&quot;ReplaceDetector&quot;, &quot;Detector %s is not in a telescope&quot;, name);</span></div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;<span class="comment">//        return;</span></div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="comment">//    }</span></div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;<span class="comment">//    tel-&gt;ReplaceDetector(kvd, new_kvd);</span></div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;   Warning(<span class="stringliteral">&quot;ReplaceDetector&quot;</span>, <span class="stringliteral">&quot;Needs reimplementing&quot;</span>);</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;}</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div><div class="line"><a name="l01548"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#aec2e7669a73604f569b7204d0af0a316"> 1548</a></span>&#160;<a class="code" href="classKVTelescope.html">KVTelescope</a>* <a class="code" href="classKVMultiDetArray.html#aec2e7669a73604f569b7204d0af0a316">KVMultiDetArray::GetTelescope</a>(<span class="keyword">const</span> Char_t*)<span class="keyword"> const</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;   <span class="comment">// Return pointer to telescope in array with name given by &quot;name&quot;</span></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;}</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div><div class="line"><a name="l01559"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#ad915cf18454f95b852e13d3816a51abf"> 1559</a></span>&#160;<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* <a class="code" href="classKVMultiDetArray.html#ad915cf18454f95b852e13d3816a51abf">KVMultiDetArray::GetIDTelescope</a>(<span class="keyword">const</span> Char_t* name)<span class="keyword"> const</span></div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;   <span class="comment">//Return pointer to DeltaE-E ID Telescope with &quot;name&quot;</span></div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;   <span class="keywordflow">return</span> (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*) <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;<a class="code" href="classKVSeqCollection.html#afd4b90b8bb56e3f9334078523795c104">FindObject</a>(name);</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;}</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01574"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a05bf5a8acae67a7b92b89ee64938a0f9"> 1574</a></span>&#160;<a class="code" href="classKVGroup.html">KVGroup</a>* <a class="code" href="classKVMultiDetArray.html#a05bf5a8acae67a7b92b89ee64938a0f9">KVMultiDetArray::GetGroupWithDetector</a>(<span class="keyword">const</span> Char_t* name)</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;{</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   <span class="comment">//return pointer to group in array which contains detector or telescope</span></div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;   <span class="comment">//with name &quot;name&quot;</span></div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;   <a class="code" href="classKVTelescope.html">KVTelescope</a>* tel = 0;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;   <a class="code" href="classKVDetector.html">KVDetector</a>* det = 0;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;   <a class="code" href="classKVGroup.html">KVGroup</a>* grp = 0;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;   <span class="keywordflow">if</span> ((tel = <a class="code" href="classKVMultiDetArray.html#aec2e7669a73604f569b7204d0af0a316">GetTelescope</a>(name))) {</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      grp = (<a class="code" href="classKVGroup.html">KVGroup</a>*)tel-&gt;<a class="code" href="classKVGeoStrucElement.html#aef54034d0b26682dbe38bc8700722837">GetParentStructure</a>(<span class="stringliteral">&quot;GROUP&quot;</span>);</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      <span class="keywordflow">return</span> grp;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;   }</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;   <span class="keywordflow">if</span> ((det = <a class="code" href="classKVGeoStrucElement.html#a48ff5d8e5e2146aa86d3a2b30f338487">GetDetector</a>(name))) {</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      grp = det-&gt;<a class="code" href="classKVDetector.html#a36c14085e0ec80f25c1bf8fd47e1232f">GetGroup</a>();</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;   }</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;   <span class="keywordflow">return</span> grp;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;}</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div><div class="line"><a name="l01597"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a17bdda27d1130e346e14bed8a46ad52e"> 1597</a></span>&#160;<a class="code" href="classKVGroup.html">KVGroup</a>* <a class="code" href="classKVMultiDetArray.html#a17bdda27d1130e346e14bed8a46ad52e">KVMultiDetArray::GetGroup</a>(<span class="keyword">const</span> Char_t* name)</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;{</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;   <span class="comment">// Return pointer to group with name</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;   <span class="keywordflow">return</span> (<a class="code" href="classKVGroup.html">KVGroup</a>*)<a class="code" href="classKVGeoStrucElement.html#ac94614611d0985c4a38188100e0a6bca">GetStructure</a>(<span class="stringliteral">&quot;GROUP&quot;</span>, name);</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;}</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div><div class="line"><a name="l01609"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a898417d35b1ac9908c43d687e41abca9"> 1609</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a898417d35b1ac9908c43d687e41abca9">KVMultiDetArray::MakeListOfDetectors</a>()</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;{</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;   AbstractMethod(<span class="stringliteral">&quot;MakeListOfDetectors&quot;</span>);</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;}</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;</div><div class="line"><a name="l01621"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a71098007b7dcfe1f49386c8012beefa4"> 1621</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a71098007b7dcfe1f49386c8012beefa4">KVMultiDetArray::Clear</a>(Option_t*)</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;{</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;   <span class="comment">//Reset all groups (lists of detected particles etc.)</span></div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;   <span class="comment">//and detectors in groups (energy losses, ACQparams etc. etc.)</span></div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;   <span class="comment">//and the target if there is one</span></div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;   unique_ptr&lt;KVSeqCollection&gt; fGroups(<a class="code" href="classKVGeoStrucElement.html#a6f2eb8d8f3a3f7ad4e067bf014caf57d">GetStructures</a>()-&gt;GetSubListWithType(<span class="stringliteral">&quot;GROUP&quot;</span>));</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;   TIter next(fGroups.get());</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;   <a class="code" href="classKVGroup.html">KVGroup</a>* grp;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;   <span class="keywordflow">while</span> ((grp = (<a class="code" href="classKVGroup.html">KVGroup</a>*) next())) {</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      grp-&gt;<a class="code" href="classKVGroup.html#add6bc2fea7023957d38c2e621f85ca74">Reset</a>();</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;   }</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a31972a45e90d8ea6d4a5ad7779f65c15">GetTarget</a>())</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a31972a45e90d8ea6d4a5ad7779f65c15">GetTarget</a>()-&gt;<a class="code" href="classKVTarget.html#a79b5644ef179bb1c323a491dc460814f">Clear</a>();</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;}</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#adfd55edcac9e28ab2a86e02c7b5f5eb9"> 1647</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#adfd55edcac9e28ab2a86e02c7b5f5eb9">KVMultiDetArray::AddACQParam</a>(<a class="code" href="classKVACQParam.html">KVACQParam</a>* par)</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;{</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;   <span class="comment">//Add an acquisition parameter corresponding to a detector of the array.</span></div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;   <span class="comment">//The fACQParams list is added to the list of cleanups (gROOT-&gt;GetListOfCleanups).</span></div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;   <span class="comment">//Each acq-param has its kMustCleanup bit set.</span></div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;   <span class="comment">//Thus, if the acq-param is deleted (e.g. by the detector which owns it), it is</span></div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;   <span class="comment">//automatically removed from the fACQParams list by ROOT.</span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a>) {</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a> = <span class="keyword">new</span> <a class="code" href="classKVHashList.html">KVHashList</a>;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a>-&gt;SetName(Form(<span class="stringliteral">&quot;List of acquisition parameters for multidetector array %s&quot;</span>, GetName()));</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a>-&gt;<a class="code" href="classKVSeqCollection.html#a50a61ec8a84ae8f5c42afd2b27a12b60">SetOwner</a>(kFALSE);</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a>-&gt;<a class="code" href="classKVSeqCollection.html#ac5c35dc3c7a2b5ee598865f61431180a">SetCleanup</a>(kTRUE);</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;   }</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;   <span class="keywordflow">if</span> (par) {</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a>-&gt;<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(par);</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;   }</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      Warning(<span class="stringliteral">&quot;AddACQParam&quot;</span>, <span class="stringliteral">&quot;Null pointer passed as argument&quot;</span>);</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;}</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div><div class="line"><a name="l01695"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#ab7a6fa98648163f4be0e11d8b091258c"> 1695</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#ab7a6fa98648163f4be0e11d8b091258c">KVMultiDetArray::SetACQParams</a>()</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;{</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;   <span class="comment">// Set up acquisition parameters in all detectors of the array + any acquisition parameters which are not</span></div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;   <span class="comment">// directly related to a detector.</span></div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;   <span class="comment">// Override the method SetArrayACQParams() in order to add any acquisition parameters not directly</span></div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;   <span class="comment">// related to a detector.</span></div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;   <span class="comment">// For the detector acquisition parameters, we loop over all detectors of the array and call each detector&#39;s</span></div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;   <span class="comment">// SetACQParams() method, if it has not already been done (i.e. if the detector has no associated parameters).</span></div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;   <span class="comment">// Each specific implementation of a KVDetector class should redefine the KVDetector::SetACQParams()</span></div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;   <span class="comment">// method in order to give the detector in question the necessary acquisition parameters (KVACQParam objects).</span></div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;   <span class="comment">// The list of acquisition parameters of each detector is then used to</span></div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;   <span class="comment">//   1) add to fACQParams list of all acquisition parameters of the array</span></div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;   <span class="comment">//   2) set as &quot;not working&quot; the acquisition parameters for which environment variables such as</span></div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;   <span class="comment">//        [dataset name].KVACQParam.[acq par name].Working:    NO</span></div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;   <span class="comment">//       are set in a .kvrootrc file.</span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;   <span class="comment">//   3) set bitmask for each detector used to determine which acquisition parameters are</span></div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;   <span class="comment">//       taken into account by KVDetector::Fired based on the environment variables</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;   <span class="comment">//          [classname].Fired.ACQParameterList.[type]: PG,GG,T</span></div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;   <span class="comment">//   where [classname]=KVDetector by default, or the name of some class</span></div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;   <span class="comment">//   derived from KVDetector which calls the method KVDetector::SetKVDetectorFiredACQParameterListFormatString()</span></div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;   <span class="comment">//   in its constructor.</span></div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a>) {</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a>-&gt;<a class="code" href="classKVSeqCollection.html#a5edbe1ce090e93f70da107c1dc5abbe1">Clear</a>();</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;   }</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a73760303602e9c134512dad730de35ad">SetArrayACQParams</a>();</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;   TIter next(<a class="code" href="classKVGeoStrucElement.html#a4b6d338ffc65ca72c6bad64225cbc380">GetDetectors</a>());</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;   <a class="code" href="classKVDetector.html">KVDetector</a>* det;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;   <span class="keywordflow">while</span> ((det = (<a class="code" href="classKVDetector.html">KVDetector</a>*) next())) {</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      <a class="code" href="classKVSeqCollection.html">KVSeqCollection</a>* l = det-&gt;<a class="code" href="classKVDetector.html#a9949cc07d0017a982341ddc591dec3ff">GetACQParamList</a>();</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      <span class="keywordflow">if</span> (!l) {</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;         <span class="comment">//detector has no acq params</span></div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;         <span class="comment">//set up acqparams in detector</span></div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;         det-&gt;<a class="code" href="classKVDetector.html#a5aff4f2592814dd5e652f3affaba1e26">SetACQParams</a>();</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;         l = det-&gt;<a class="code" href="classKVDetector.html#a9949cc07d0017a982341ddc591dec3ff">GetACQParamList</a>();</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      }</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;      <span class="comment">//loop over acqparams and add them to fACQParams list, checking</span></div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;      <span class="comment">//their status (working or not working ?)</span></div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;      TIter next_par(l);</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;      <a class="code" href="classKVACQParam.html">KVACQParam</a>* par;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;      <span class="keywordflow">while</span> ((par = (<a class="code" href="classKVACQParam.html">KVACQParam</a>*) next_par())) {</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;         <a class="code" href="classKVMultiDetArray.html#adfd55edcac9e28ab2a86e02c7b5f5eb9">AddACQParam</a>(par);</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;         par-&gt;<a class="code" href="classKVACQParam.html#a597b8a11830cb6337e1a93d060dc2c13">SetWorking</a>(<a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>-&gt;<a class="code" href="classKVDataSet.html#a83f18bf826fc8b6511783d4e1d61a2fe">GetDataSetEnv</a>(Form(<span class="stringliteral">&quot;KVACQParam.%s.Working&quot;</span>, par-&gt;GetName()), kTRUE));</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;      }</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;      <span class="comment">// set bitmask</span></div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      <a class="code" href="classKVString.html">KVString</a> inst;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      inst.Form(det-&gt;<a class="code" href="classKVDetector.html#a4d6c13b0ac229c9ca0ca59709f1735c0">GetFiredACQParameterListFormatString</a>(), det-&gt;<a class="code" href="classKVBase.html#a86746121f4faf4c7c4424d22947f2124">GetType</a>());</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      <a class="code" href="classKVString.html">KVString</a> lpar = <a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>-&gt;<a class="code" href="classKVDataSet.html#a83f18bf826fc8b6511783d4e1d61a2fe">GetDataSetEnv</a>(inst);</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;      det-&gt;<a class="code" href="classKVDetector.html#aaba68857ef4503f07db07c466262c87d">SetFiredBitmask</a>(lpar);</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;   }</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;}</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;</div><div class="line"><a name="l01760"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a73760303602e9c134512dad730de35ad"> 1760</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a73760303602e9c134512dad730de35ad">KVMultiDetArray::SetArrayACQParams</a>()</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;{</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;   <span class="comment">// Method called by SetACQParams() in order to define any acquisition parameters which are not</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;   <span class="comment">// directly related to any detectors of the array.</span></div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;   <span class="comment">// This implementation does nothing: override it in derived classes if needed.</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;}</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div><div class="line"><a name="l01777"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a002d1b3b6b0e60a423684c2244202be7"> 1777</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a002d1b3b6b0e60a423684c2244202be7">KVMultiDetArray::SetCalibrators</a>()</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;{</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;   <span class="comment">//Set up calibrators in all detectors of the array</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;   <span class="comment">//Note that this only initialises the calibrator objects associated to each</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;   <span class="comment">//detector (defined in each detector class&#39;s SetCalibrators method),</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;   <span class="comment">//it does not set the parameters of the calibrations: this is done by</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;   <span class="comment">//SetParameters or SetRunCalibrationParameters</span></div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;   <span class="keyword">const_cast&lt;</span><a class="code" href="classKVSeqCollection.html">KVSeqCollection</a>*<span class="keyword">&gt;</span>(<a class="code" href="classKVGeoStrucElement.html#a4b6d338ffc65ca72c6bad64225cbc380">GetDetectors</a>())-&gt;R__FOR_EACH(<a class="code" href="classKVDetector.html">KVDetector</a>, <a class="code" href="classKVMultiDetArray.html#a002d1b3b6b0e60a423684c2244202be7">SetCalibrators</a>)();</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;}</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#ab8527afef281dfcd4f2e14fd79a84880"> 1801</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#ab8527afef281dfcd4f2e14fd79a84880">KVMultiDetArray::UpdateCalibrators</a>()</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;{</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;   <span class="comment">//This method can be used to update the calibrations of the detectors of a KVMultiDetArray</span></div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;   <span class="comment">//object which has been read back from a ROOT file, and was possibly written with an old</span></div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;   <span class="comment">//version of the class(es) which is now obsolete.</span></div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;   <span class="comment">//The existing calibrator objects (read in from the file) are first removed from the array&#39;s</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;   <span class="comment">//detectors, and then SetCalibrators() is called in order to set new calibrators as defined</span></div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;   <span class="comment">//in the current version of the class(es).</span></div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;   <span class="comment">//In order to set the parameters of the new calibrators for a given run,</span></div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;   <span class="comment">//SetParameters or SetRunCalibrationParameters must be called after this method.</span></div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;   <span class="keyword">const_cast&lt;</span><a class="code" href="classKVSeqCollection.html">KVSeqCollection</a>*<span class="keyword">&gt;</span>(<a class="code" href="classKVGeoStrucElement.html#a4b6d338ffc65ca72c6bad64225cbc380">GetDetectors</a>())-&gt;R__FOR_EACH(<a class="code" href="classKVDetector.html">KVDetector</a>, RemoveCalibrators)();</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a002d1b3b6b0e60a423684c2244202be7">SetCalibrators</a>();</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;}</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;</div><div class="line"><a name="l01841"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a2df7fc58e8cf16e6b9781116c47cf122"> 1841</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a2df7fc58e8cf16e6b9781116c47cf122">KVMultiDetArray::GetDetectorEvent</a>(<a class="code" href="classKVDetectorEvent.html">KVDetectorEvent</a>* detev, TSeqCollection* fired_params)</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;{</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;   <span class="comment">// First step in event reconstruction based on current status of detectors in array.</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;   <span class="comment">// Fills the given KVDetectorEvent with the list of all groups which have fired.</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;   <span class="comment">// i.e. loop over all groups of the array and test whether KVGroup::Fired() returns true or false.</span></div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;   <span class="comment">// If the list of fired acquisition parameters &#39;fired_params&#39; is given, then we use this list</span></div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;   <span class="comment">// to find, first, the associated fired detectors, then, the associated groups. This is possible when</span></div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;   <span class="comment">// reading raw data using an object derived from KVRawDataReader:</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;   <span class="comment">//     KVRawDataReader *run = ... ; // base pointer to object used to read data</span></div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;   <span class="comment">//     if( run-&gt;GetNextEvent() )  // read an event and test that all is well</span></div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;   <span class="comment">//      {</span></div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;   <span class="comment">//           KVSeqCollection* fired = run-&gt;GetFiredDataParameters(); // get fired acquisition parameters</span></div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;   <span class="comment">//           gMultiDetArray-&gt;GetDetectorEvent(detev, fired); // build list of fired groups</span></div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;   <span class="comment">//       }</span></div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;   <span class="comment">// The KVDetectorEvent object can then be used by KVReconstructedEvent::ReconstructEvent</span></div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;   <span class="comment">// in order to generate a list of particles (KVReconstructedNucleus).</span></div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;   <span class="comment">// Call method detev-&gt;Clear() before reading another event in order to reset all of the hit groups</span></div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;   <span class="comment">// (including all detectors etc.) and emptying the list.</span></div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;   <span class="keywordflow">if</span> (fired_params) {</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;      <span class="comment">// list of fired acquisition parameters given</span></div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;      TIter next_par(fired_params);</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;      <a class="code" href="classKVACQParam.html">KVACQParam</a>* par = 0;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      <a class="code" href="classKVDetector.html">KVDetector</a>* det = 0;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <a class="code" href="classKVGroup.html">KVGroup</a>* grp = 0;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      <span class="keywordflow">while</span> ((par = (<a class="code" href="classKVACQParam.html">KVACQParam</a>*)next_par())) {</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;         <span class="keywordflow">if</span> ((det = par-&gt;<a class="code" href="classKVACQParam.html#ab449ad13f8715a4f582f3618792e6767">GetDetector</a>())) {</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            <span class="keywordflow">if</span> ((grp = det-&gt;<a class="code" href="classKVDetector.html#a36c14085e0ec80f25c1bf8fd47e1232f">GetGroup</a>()) &amp;&amp; grp-&gt;<a class="code" href="classKVGeoStrucElement.html#af644213e43d2bf1068b9d1b0bf88f8b6">GetParents</a>()-&gt;Contains(<span class="keyword">this</span>)) detev-&gt;<a class="code" href="classKVDetectorEvent.html#a57c1682bd1bd06b1dc98c6088766acc0">AddGroup</a>(grp);</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;         }</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      }</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;   }</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      <span class="comment">//loop over groups</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;      TSeqCollection* fGroups = <a class="code" href="classKVGeoStrucElement.html#a6f2eb8d8f3a3f7ad4e067bf014caf57d">GetStructures</a>()-&gt;<a class="code" href="classKVSeqCollection.html#a7a75b4a4e95c399a59a242b817ee3502">GetSubListWithType</a>(<span class="stringliteral">&quot;GROUP&quot;</span>);</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;      TIter next_grp(fGroups);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;      <a class="code" href="classKVGroup.html">KVGroup</a>* grp;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;      <span class="keywordflow">while</span> ((grp = (<a class="code" href="classKVGroup.html">KVGroup</a>*) next_grp())) {</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;         <span class="keywordflow">if</span> (grp-&gt;<a class="code" href="classKVGeoStrucElement.html#a036987caff1fba6c591df335c3e22f30">Fired</a>()) {</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;            <span class="comment">//if (!fHitGroups-&gt;FindObject(grp))</span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;            <span class="comment">// grp-&gt;Print();</span></div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;            <span class="comment">//add new group to list of hit groups</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;            detev-&gt;<a class="code" href="classKVDetectorEvent.html#a57c1682bd1bd06b1dc98c6088766acc0">AddGroup</a>(grp);</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;         }</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      }</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      <span class="keyword">delete</span> fGroups;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;   }</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;}</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;</div><div class="line"><a name="l01908"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a9f5063834fca02cb18abc0454a8ee09e"> 1908</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a9f5063834fca02cb18abc0454a8ee09e">KVMultiDetArray::ReconstructEvent</a>(<a class="code" href="classKVReconstructedEvent.html">KVReconstructedEvent</a>* recev, <a class="code" href="classKVDetectorEvent.html">KVDetectorEvent</a>* kvde)</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;{</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;   <span class="comment">// Use the KVDetectorEvent (list of hit groups) in order to fill the</span></div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;   <span class="comment">// KVReconstructedEvent with reconstructed nuclei</span></div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;   <span class="comment">// Reconstruction of detected particles</span></div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;   <span class="comment">// - loop over last stage of group telescopes</span></div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;   <span class="comment">// - if any detector is hit, construct &quot;particle&quot; from energy losses in all detectors</span></div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;   <span class="comment">//   directly in front of it.</span></div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;   <span class="comment">// - loop over next to last stage...if any detector hit NOT ALREADY IN A &quot;PARTICLE&quot;</span></div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;   <span class="comment">//   construct &quot;particle&quot; etc. etc.</span></div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;   <a class="code" href="classKVGroup.html">KVGroup</a>* grp_tch;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;   TIter nxt_grp(kvde-&gt;<a class="code" href="classKVDetectorEvent.html#aa9fb647cb9b05ba268c3ff12e44c15ec">GetGroups</a>());</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;   <span class="keywordflow">while</span> ((grp_tch = (<a class="code" href="classKVGroup.html">KVGroup</a>*) nxt_grp())) {</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a5a82f060b2ffd45c5519de9b96325e0c">AnalyseGroupAndReconstructEvent</a>(recev, grp_tch);</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;   }</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;}</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;</div><div class="line"><a name="l01935"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a5a82f060b2ffd45c5519de9b96325e0c"> 1935</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a5a82f060b2ffd45c5519de9b96325e0c">KVMultiDetArray::AnalyseGroupAndReconstructEvent</a>(<a class="code" href="classKVReconstructedEvent.html">KVReconstructedEvent</a>* recev, <a class="code" href="classKVGroup.html">KVGroup</a>* grp)</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;{</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;   <span class="comment">// Loop over detectors in group, starting from the furthest from the target,</span></div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;   <span class="comment">// and working inwards. Calls KVReconstructedEvent::AnalyseDetectors</span></div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;   <span class="keywordflow">for</span> (Int_t il = grp-&gt;<a class="code" href="classKVGroup.html#a970fee7b959bab13b20e99f9fdf0aa3a">GetNumberOfDetectorLayers</a>(); il &gt; 0; il--) {</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      TList* dets = grp-&gt;<a class="code" href="classKVGroup.html#a8e6721382dbf33502d480b49f6396dee">GetDetectorsInLayer</a>(il);</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      recev-&gt;<a class="code" href="classKVReconstructedEvent.html#a31ca30c7d2a32aa7b29756d95812d220">AnalyseDetectors</a>(dets);</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      <span class="keyword">delete</span> dets;</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;   }</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;   <span class="comment">//perform first-order coherency analysis (set fAnalStatus for each particle)</span></div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;   <a class="code" href="classKVReconstructedNucleus.html#ae3ec6de68771df778fc503f33e6bc815">KVReconstructedNucleus::AnalyseParticlesInGroup</a>(grp);</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;}</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;</div><div class="line"><a name="l01958"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a67a6714e337ef10248be524cabac2dca"> 1958</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a67a6714e337ef10248be524cabac2dca">KVMultiDetArray::SetTarget</a>(<span class="keyword">const</span> Char_t* material,</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                                <span class="keyword">const</span> Float_t thickness)</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;{</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;   <span class="comment">//Define the target used for a given experimental set-up. For material names, see KVMaterial.</span></div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;   <span class="comment">//The thickness is in mg/cm2.</span></div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;   <span class="comment">//Use SetTarget(0) to remove the existing target.</span></div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;   <span class="keywordflow">if</span> (!material) {</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a>) {</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;         <span class="keyword">delete</span> <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a>;</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;         <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a> = 0;</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      }</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;   }</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a31972a45e90d8ea6d4a5ad7779f65c15">GetTarget</a>())</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a> = <span class="keyword">new</span> <a class="code" href="classKVTarget.html">KVTarget</a>(material, thickness);</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;}</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;</div><div class="line"><a name="l01986"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#ad9fb3c1ca9382f9575c46af81ce4dacd"> 1986</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a67a6714e337ef10248be524cabac2dca">KVMultiDetArray::SetTarget</a>(<a class="code" href="classKVTarget.html">KVTarget</a>* targ)</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;{</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;   <span class="comment">//Adopt KVTarget object for use as experimental target i.e. we make a clone of the object pointed to by &#39;targ&#39;.</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;   <span class="comment">//Therefore, any subsequent modifications to the target should be made to the object whose pointer is returned by GetTarget().</span></div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;   <span class="comment">//This object will be deleted with the detector array, or when the target is changed.</span></div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;   <span class="comment">//Calling SetTarget(0) will remove any existing target.</span></div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a>) {</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a>;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a> = 0;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;   }</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;   <span class="keywordflow">if</span> (!targ)</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a> = (<a class="code" href="classKVTarget.html">KVTarget</a>*) targ-&gt;Clone();</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;}</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;</div><div class="line"><a name="l02009"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a8a291a38f4673fa558dd79289e990e51"> 2009</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a8a291a38f4673fa558dd79289e990e51">KVMultiDetArray::SetTargetMaterial</a>(<span class="keyword">const</span> Char_t* material)</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;{</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;   <span class="comment">//Define the target material used for a given experimental set-up.</span></div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;   <span class="comment">//For material names, see KVDetector.</span></div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a31972a45e90d8ea6d4a5ad7779f65c15">GetTarget</a>())</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a> = <span class="keyword">new</span> <a class="code" href="classKVTarget.html">KVTarget</a>(material, 0.0);</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;}</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div><div class="line"><a name="l02024"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#aeabb9eccb433db780ad9d61c63b6ed0c"> 2024</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#aeabb9eccb433db780ad9d61c63b6ed0c">KVMultiDetArray::SetTargetThickness</a>(<span class="keyword">const</span> Float_t thickness)</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;{</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;   <span class="comment">//Define the target thickness (mg/cm2) used for a given experimental set-up.</span></div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;   <span class="comment">//Need to define material first</span></div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a31972a45e90d8ea6d4a5ad7779f65c15">GetTarget</a>()) {</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a31972a45e90d8ea6d4a5ad7779f65c15">GetTarget</a>()-&gt;GetLayerByIndex(1))</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;         <a class="code" href="classKVMultiDetArray.html#a31972a45e90d8ea6d4a5ad7779f65c15">GetTarget</a>()-&gt;<a class="code" href="classKVTarget.html#af977e6b6ce8be23ab4a2dd4f985fb445">GetLayerByIndex</a>(1)-&gt;<a class="code" href="classKVMaterial.html#a2907369c43a719d2edf873693c76cd16">SetThickness</a>(thickness);</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;   }</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;}</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;</div><div class="line"><a name="l02042"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a7c653c1d51e1033f07fb6b51e5eeabbe"> 2042</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a7c653c1d51e1033f07fb6b51e5eeabbe">KVMultiDetArray::RemoveGroup</a>(<a class="code" href="classKVGroup.html">KVGroup</a>*)</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;{</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;   <span class="comment">//Remove (i.e. destroy) all the telescopes belonging to a given group</span></div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;<span class="comment">//    if (grp) {</span></div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="comment">//        grp-&gt;Destroy();</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;<span class="comment">//    }</span></div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;   Warning(<span class="stringliteral">&quot;RemoveGroup&quot;</span>, <span class="stringliteral">&quot;Needs reimplementing&quot;</span>);</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;}</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;</div><div class="line"><a name="l02057"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a7555d6ff21957344d3060a55bf2fdbed"> 2057</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a7c653c1d51e1033f07fb6b51e5eeabbe">KVMultiDetArray::RemoveGroup</a>(<span class="keyword">const</span> Char_t* name)</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;{</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;   <span class="comment">//Remove (i.e. destroy) all the telescopes belonging to the group in array</span></div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;   <span class="comment">//which contains detector or telescope with name &quot;name&quot;</span></div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;   <a class="code" href="classKVGroup.html">KVGroup</a>* grp = <a class="code" href="classKVMultiDetArray.html#a05bf5a8acae67a7b92b89ee64938a0f9">GetGroupWithDetector</a>(name);</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;   <span class="keywordflow">if</span> (grp) {</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a7c653c1d51e1033f07fb6b51e5eeabbe">RemoveGroup</a>(grp);</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;   }</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;}</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;</div><div class="line"><a name="l02075"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a65c4fecb262cb385bcbfb3f1afda8884"> 2075</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a65c4fecb262cb385bcbfb3f1afda8884">KVMultiDetArray::DetectParticleIn</a>(<span class="keyword">const</span> Char_t* detname,</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                                       <a class="code" href="classKVNucleus.html">KVNucleus</a>* kvp)</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;{</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;   <span class="comment">//Given the name of a detector, simulate detection of a given particle</span></div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;   <span class="comment">//by the complete corresponding group. The particle&#39;s theta and phi are set</span></div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;   <span class="comment">//at random within the limits of detector entrance window</span></div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;   <a class="code" href="classKVDetector.html">KVDetector</a>* kvd = <a class="code" href="classKVGeoStrucElement.html#a48ff5d8e5e2146aa86d3a2b30f338487">GetDetector</a>(detname);</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;   <span class="keywordflow">if</span> (kvd) {</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;      <a class="code" href="classKVNameValueList.html">KVNameValueList</a>* nvl = 0;</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;      kvp-&gt;<a class="code" href="classKVParticle.html#a3d93f8bb12e37d184d074caca69dfb44">SetMomentum</a>(kvp-&gt;<a class="code" href="classKVParticle.html#a4ee1e4204aed7301503f32e0b542781e">GetEnergy</a>(), kvd-&gt;<a class="code" href="classKVPosition.html#a1f2422675a97b3691c8ed99a654bfd4f">GetRandomDirection</a>(<span class="stringliteral">&quot;random&quot;</span>));</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      <span class="keywordflow">if</span> ((nvl = <a class="code" href="classKVMultiDetArray.html#a01b35b02cbcb8eef132094021f6c5f75">DetectParticle</a>(kvp))) <span class="keyword">delete</span> nvl;</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;   }</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      Error(<span class="stringliteral">&quot;DetectParticleIn&quot;</span>, <span class="stringliteral">&quot;Detector %s not found&quot;</span>, detname);</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;   }</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;}</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;</div><div class="line"><a name="l02103"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a7e93dfef39ca5b4e4e05497209a2cc20"> 2103</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a7e93dfef39ca5b4e4e05497209a2cc20">KVMultiDetArray::SetPedestals</a>(<span class="keyword">const</span> Char_t* filename)</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;{</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;   <span class="comment">//Set pedestals for all acquisition parameters whose name appears in the file &#39;filename&#39;</span></div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;   <span class="comment">//The file should contain a line for each parameter beginning with:</span></div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;   <span class="comment">//parameter_name   pedestal_value</span></div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;   <span class="comment">//(anything else on the line will not be read)</span></div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;   <span class="comment">//Begin comment lines with &#39;#&#39;</span></div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;   ifstream pedfile(filename);</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;   <span class="keywordflow">if</span> (!pedfile.good()) {</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;      Error(<span class="stringliteral">&quot;SetPedestals&quot;</span>, <span class="stringliteral">&quot;File %s cannot be opened&quot;</span>, filename);</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;   }</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;   <a class="code" href="classKVString.html">KVString</a> <a class="code" href="namespaceKVUnits.html#a1b2522f0633803e57ed9aca342d0db33">s</a>;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;   <span class="keywordflow">while</span> (pedfile.good()) {</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;      s.ReadLine(pedfile);</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <span class="keywordflow">if</span> (pedfile.good() &amp;&amp; !s.BeginsWith(<span class="stringliteral">&quot;#&quot;</span>)) {       <span class="comment">//skip comments</span></div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;         <span class="comment">//break line into parts</span></div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;         TObjArray* toks = s.Tokenize(<span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;         <span class="keywordflow">if</span> (toks-&gt;GetSize() &gt; 0) {</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;            TString name =</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;               ((TObjString*) toks-&gt;At(0))-&gt;GetString().</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;               Strip(TString::kBoth);</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;            <a class="code" href="classKVString.html">KVString</a> <a class="code" href="classvalue.html">value</a>(((TObjString*) toks-&gt;At(1))-&gt;GetString());</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;            <a class="code" href="classKVACQParam.html">KVACQParam</a>* par = <a class="code" href="classKVMultiDetArray.html#ab8899bed5ec9e5306e9366ca6f9da960">GetACQParam</a>(name.Data());</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;            <span class="keywordflow">if</span> (par)</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;               par-&gt;<a class="code" href="classKVACQParam.html#a099cdd9db6eb12b4703472d1207e9473">SetPedestal</a>(<a class="code" href="classvalue.html">value</a>.Atof());</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;         }</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;         <span class="keyword">delete</span> toks;</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      }</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;   }</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;   pedfile.close();</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;}</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;</div><div class="line"><a name="l02160"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a9e0ac8f7d807a06632ebd97b0bd2cc4f"> 2160</a></span>&#160;<a class="code" href="classKVMultiDetArray.html">KVMultiDetArray</a>* <a class="code" href="classKVMultiDetArray.html#a9e0ac8f7d807a06632ebd97b0bd2cc4f">KVMultiDetArray::MakeMultiDetector</a>(<span class="keyword">const</span> Char_t* dataset_name, Int_t run, TString classname)</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;{</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;   <span class="comment">//Static function which will create and &#39;Build&#39; the multidetector object corresponding to</span></div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;   <span class="comment">//a given run of dataset &#39;dataset_name&#39;. Any previously existing multidetector will be</span></div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;   <span class="comment">//deleted.</span></div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;   <span class="comment">//We first activate the given dataset if not already done</span></div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;   <span class="comment">//Multidetector arrays are defined as &#39;Plugin&#39; objects in the file $KVROOT/KVFiles/.kvrootrc :</span></div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;   <span class="comment">//Plugin.KVMultiDet:    [dataset_name]    [classname]     [library]    &quot;[constructor]()&quot;</span></div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;   <span class="comment">//The constructors/macros are always without arguments</span></div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;   <span class="comment">//Dataset name is stored in fDataSet</span></div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;   <span class="keywordflow">if</span> (gMultiDetArray) {</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;      printf(<span class="stringliteral">&quot;Info in &lt;KVMultiDetArray::MakeMultiDetector&gt;: Deleting existing array %s\n&quot;</span>, gMultiDetArray-&gt;GetName());</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="KVIDGridManager_8cpp.html#ae610249c6884bb85a7d4ec2d90021a0f">gIDGridManager</a>) {</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;         <span class="keyword">delete</span> <a class="code" href="KVIDGridManager_8cpp.html#ae610249c6884bb85a7d4ec2d90021a0f">gIDGridManager</a>;</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;         <a class="code" href="KVIDGridManager_8cpp.html#ae610249c6884bb85a7d4ec2d90021a0f">gIDGridManager</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;      }</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      <span class="keyword">delete</span> <a class="code" href="KVMultiDetArray_8cpp.html#a2554fcc03212b313926f80da25349ae5">gMultiDetArray</a>;</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;      gMultiDetArray = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;   }</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a> || <a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a> != <a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>-&gt;<a class="code" href="classKVDataSetManager.html#ac7c68539958c9e3b45ad1360e4a90330">GetDataSet</a>(dataset_name))</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;      <a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>-&gt;<a class="code" href="classKVDataSetManager.html#ac7c68539958c9e3b45ad1360e4a90330">GetDataSet</a>(dataset_name)-&gt;<a class="code" href="classKVDataSet.html#ad5fd5ca1882d6abfc304d1127156732f">cd</a>();</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;   <span class="comment">// Creation of database when dataset is selected for first time may</span></div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;   <span class="comment">// include creation of multidetector array (by calling this method)</span></div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;   <a class="code" href="classKVMultiDetArray.html">KVMultiDetArray</a>* mda = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;   <span class="keywordflow">if</span> (!gMultiDetArray) {</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      TPluginHandler* ph;</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;      <span class="keywordflow">if</span> (!(ph = <a class="code" href="classKVBase.html#aea4df677b24064315cf1291af658e618">LoadPlugin</a>(classname.Data(), dataset_name)))</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;         <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      <span class="comment">//execute constructor/macro for multidetector - assumed without arguments</span></div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;      mda = (<a class="code" href="classKVMultiDetArray.html">KVMultiDetArray</a>*) ph-&gt;ExecPlugin(0);</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;      mda-&gt;<a class="code" href="classKVMultiDetArray.html#ae7b253afe23655e5995e6cbd87fb61ac">fDataSet</a> = dataset_name;</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      mda-&gt;<a class="code" href="classKVMultiDetArray.html#a8451dea53dfb351d142598ab717936da">Build</a>(run);</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;      <span class="comment">// if ROOT geometry is not allowed ([dataset_name].KVMultiDetArray.ROOTGeometry = no</span></div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      <span class="comment">// or KVMultiDetArray.ROOTGeometry = no), disable it</span></div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      mda-&gt;<a class="code" href="classKVMultiDetArray.html#ac292bfa88a8262f819dcd74a0071d991">fROOTGeometry</a> = <a class="code" href="classKVDataSet.html#a83f18bf826fc8b6511783d4e1d61a2fe">KVDataSet::GetDataSetEnv</a>(dataset_name, <span class="stringliteral">&quot;KVMultiDetArray.ROOTGeometry&quot;</span>, kTRUE);</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;      <span class="keywordflow">if</span> (mda-&gt;<a class="code" href="classKVMultiDetArray.html#ac292bfa88a8262f819dcd74a0071d991">fROOTGeometry</a>) mda-&gt;<a class="code" href="classKVMultiDetArray.html#a824d248be989ee63da5148ecf48a9919">CheckROOTGeometry</a>();</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;      <span class="comment">// set dataset-dependent lists of acceptable ID/E codes for reconstructed nuclei</span></div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      <a class="code" href="classKVString.html">KVString</a> codes = <a class="code" href="classKVDataSet.html#a83f18bf826fc8b6511783d4e1d61a2fe">KVDataSet::GetDataSetEnv</a>(dataset_name, Form(<span class="stringliteral">&quot;%s.ReconstructedNuclei.AcceptIDCodes&quot;</span>, mda-&gt;GetName()), <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;      <span class="keywordflow">if</span> (codes != <span class="stringliteral">&quot;&quot;</span>) mda-&gt;<a class="code" href="classKVMultiDetArray.html#a0d3553a3453b97072f024af2059a218f">fAcceptIDCodes</a>.<a class="code" href="classKVNumberList.html#ace4c9d11b503d87c782d55947c345131">Set</a>(codes);</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      codes = <a class="code" href="classKVDataSet.html#a83f18bf826fc8b6511783d4e1d61a2fe">KVDataSet::GetDataSetEnv</a>(dataset_name, Form(<span class="stringliteral">&quot;%s.ReconstructedNuclei.AcceptECodes&quot;</span>, mda-&gt;GetName()), <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;      <span class="keywordflow">if</span> (codes != <span class="stringliteral">&quot;&quot;</span>) mda-&gt;<a class="code" href="classKVMultiDetArray.html#a017fffe44394e279fdd2958525641c2a">fAcceptECodes</a>.<a class="code" href="classKVNumberList.html#ace4c9d11b503d87c782d55947c345131">Set</a>(codes);</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;   }</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;      mda = <a class="code" href="KVMultiDetArray_8cpp.html#a2554fcc03212b313926f80da25349ae5">gMultiDetArray</a>;</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;      <span class="comment">// database creation may not have set the right run</span></div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;      <span class="keywordflow">if</span> (run &gt; -1) mda-&gt;<a class="code" href="classKVMultiDetArray.html#a7bf20b2db02af58751d19e650e2d6566">SetParameters</a>(run);</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;   }</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;   <span class="keywordflow">return</span> mda;</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;}</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;</div><div class="line"><a name="l02232"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#af2c616d920ead86b7f3c4901a3302387"> 2232</a></span>&#160;<a class="code" href="classKVUpDater.html">KVUpDater</a>* <a class="code" href="classKVMultiDetArray.html#af2c616d920ead86b7f3c4901a3302387">KVMultiDetArray::GetUpDater</a>()</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;{</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;   <span class="comment">// Return pointer to KVUpDater defined by dataset for this multidetector, the class used</span></div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;   <span class="comment">// is defined as a plugin like this:</span></div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;   <span class="comment">// # Plugin.KVUpDater:    name_of_dataset    name_of_class    name_of_plugin_library   constructor_to_call</span></div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;   <span class="comment">// However, if a dataset defines a variable like this:</span></div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;   <span class="comment">// [dataset].ExpSetUp.Updater.[multidetector name]: [name_of_dataset for plugin]</span></div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;   <span class="comment">// then we use the updater plugin defined for the given dataset</span></div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a6645b3d9e4daae88c25603a691127498">fUpDater</a>) {</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <a class="code" href="classKVString.html">KVString</a> alt_updater = <a class="code" href="classKVDataSet.html#a83f18bf826fc8b6511783d4e1d61a2fe">KVDataSet::GetDataSetEnv</a>(<a class="code" href="classKVMultiDetArray.html#ae7b253afe23655e5995e6cbd87fb61ac">fDataSet</a>, Form(<span class="stringliteral">&quot;ExpSetUp.Updater.%s&quot;</span>, GetName()), <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;      <span class="keywordflow">if</span> (alt_updater != <span class="stringliteral">&quot;&quot;</span>) <a class="code" href="classKVMultiDetArray.html#a6645b3d9e4daae88c25603a691127498">fUpDater</a> = <a class="code" href="classKVUpDater.html#ae4a2f82836044063aeb683cba90e60af">KVUpDater::MakeUpDater</a>(alt_updater);</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;      <span class="keywordflow">else</span> <a class="code" href="classKVMultiDetArray.html#a6645b3d9e4daae88c25603a691127498">fUpDater</a> = <a class="code" href="classKVUpDater.html#ae4a2f82836044063aeb683cba90e60af">KVUpDater::MakeUpDater</a>(<a class="code" href="classKVMultiDetArray.html#ae7b253afe23655e5995e6cbd87fb61ac">fDataSet</a>);</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;   }</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a6645b3d9e4daae88c25603a691127498">fUpDater</a>;</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;}</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;</div><div class="line"><a name="l02261"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a7bf20b2db02af58751d19e650e2d6566"> 2261</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a7bf20b2db02af58751d19e650e2d6566">KVMultiDetArray::SetParameters</a>(UShort_t run)</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;{</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;   <span class="comment">//Set identification and calibration parameters for run.</span></div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;   <span class="comment">//This can only be done if gDataSet has been set i.e. a dataset has been chosen</span></div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;   <span class="comment">//Otherwise this just has the effect of setting the current run number</span></div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a3816c701f2f5990600305b5a2529392c">fCurrentRun</a> = run;</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;   <a class="code" href="classKVDataSet.html">KVDataSet</a>* ds = <a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>;</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;   <span class="keywordflow">if</span> (!ds) {</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>)</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;         ds = <a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>-&gt;<a class="code" href="classKVDataSetManager.html#ac7c68539958c9e3b45ad1360e4a90330">GetDataSet</a>(<a class="code" href="classKVMultiDetArray.html#ae7b253afe23655e5995e6cbd87fb61ac">fDataSet</a>.Data());</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;   }</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;   <span class="keywordflow">if</span> (ds) {</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;      <a class="code" href="classKVMultiDetArray.html#af2c616d920ead86b7f3c4901a3302387">GetUpDater</a>()-&gt;<a class="code" href="classKVUpDater.html#a6d04ef6f2ccae59726b4fa49465d5bea">SetParameters</a>(run);</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;      SetBit(<a class="code" href="classKVMultiDetArray.html#a47e809c6c786bf38bc9f31a92fa67922a91c774435e483a459b3fd6aa56835871">kParamsSet</a>);</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;   }</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;}</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;</div><div class="line"><a name="l02287"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a6f8e3eeceb57f16e46ce8f164d781d14"> 2287</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a6f8e3eeceb57f16e46ce8f164d781d14">KVMultiDetArray::SetRunIdentificationParameters</a>(UShort_t run)</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;{</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;   <span class="comment">//Set identification parameters for run.</span></div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;   <span class="comment">//This can only be done if gDataSet has been set i.e. a dataset has been chosen</span></div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;   <span class="comment">//Otherwise this just has the effect of setting the current run number</span></div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a3816c701f2f5990600305b5a2529392c">fCurrentRun</a> = run;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;   <a class="code" href="classKVDataSet.html">KVDataSet</a>* ds = <a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>;</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;   <span class="keywordflow">if</span> (!ds) {</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>)</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;         ds = <a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>-&gt;<a class="code" href="classKVDataSetManager.html#ac7c68539958c9e3b45ad1360e4a90330">GetDataSet</a>(<a class="code" href="classKVMultiDetArray.html#ae7b253afe23655e5995e6cbd87fb61ac">fDataSet</a>.Data());</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;   }</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;   <span class="keywordflow">if</span> (ds) {</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;      <a class="code" href="classKVMultiDetArray.html#af2c616d920ead86b7f3c4901a3302387">GetUpDater</a>()-&gt;<a class="code" href="classKVUpDater.html#aa65977b57b50b942d71db73e21653157">SetIdentificationParameters</a>(run);</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;      SetBit(<a class="code" href="classKVMultiDetArray.html#a47e809c6c786bf38bc9f31a92fa67922a200679320fe5c97c4bc68f9a37ee54b9">kIDParamsSet</a>);</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;   }</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;}</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;</div><div class="line"><a name="l02313"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#aad2fe1386ed01a212f25e91333dde86a"> 2313</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#aad2fe1386ed01a212f25e91333dde86a">KVMultiDetArray::SetRunCalibrationParameters</a>(UShort_t run)</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;{</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;   <span class="comment">//Set calibration parameters for run.</span></div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;   <span class="comment">//This can only be done if gDataSet has been set i.e. a dataset has been chosen</span></div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;   <span class="comment">//Otherwise this just has the effect of setting the current run number</span></div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a3816c701f2f5990600305b5a2529392c">fCurrentRun</a> = run;</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;   <a class="code" href="classKVDataSet.html">KVDataSet</a>* ds = <a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>;</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;   <span class="keywordflow">if</span> (!ds) {</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>)</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;         ds = <a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>-&gt;<a class="code" href="classKVDataSetManager.html#ac7c68539958c9e3b45ad1360e4a90330">GetDataSet</a>(<a class="code" href="classKVMultiDetArray.html#ae7b253afe23655e5995e6cbd87fb61ac">fDataSet</a>.Data());</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;   }</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;   <span class="keywordflow">if</span> (ds) {</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;      <a class="code" href="classKVMultiDetArray.html#af2c616d920ead86b7f3c4901a3302387">GetUpDater</a>()-&gt;<a class="code" href="classKVUpDater.html#a78746e3dfb558108d7102d08b6b647c0">SetCalibrationParameters</a>(run);</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;      SetBit(<a class="code" href="classKVMultiDetArray.html#a47e809c6c786bf38bc9f31a92fa67922a9f970a72bc25a344f0ee98267e8a8dba">kCalParamsSet</a>);</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;   }</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;}</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;</div><div class="line"><a name="l02351"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a795d9cc7f87c4454775dd5ded2c78c15"> 2351</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a795d9cc7f87c4454775dd5ded2c78c15">KVMultiDetArray::SetIdentifications</a>()</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;{</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;   <span class="comment">//Initialisation of all ACTIVE identification telescopes in the array, i.e. those appearing in a line</span></div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;   <span class="comment">//in the .kvrootrc file such as this:</span></div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;   <span class="comment">//# [dataset name].ActiveIdentifications:    [type1]  [type2] ...</span></div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;   <span class="comment">//The &#39;types&#39; given correspond to the value given by KVIDTelescope::GetLabel(), these are the</span></div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;   <span class="comment">//identifiers used to retrieve the different plugin classes in GetIDTelescopes(KVDetector*,KVDetector*,KVList*).</span></div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;   <span class="comment">//For each type of identification in the list, we retrieve the first identification telescope with this</span></div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;   <span class="comment">//label from the list of all ID telescopes, in order to call its KVIDTelescope::SetIdentificationParameters() method.</span></div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;   <span class="comment">//This method (when rederived in child classes of KVIDTelescope) initialises the identification objects</span></div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;   <span class="comment">//for ALL of the ID telescopes of the same type (class) in the array.</span></div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;   <span class="comment">//Note that, in general, the parameters of the identifications for a given run are not</span></div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;   <span class="comment">//set until SetParameters or SetRunIdentificationParameters is called.</span></div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;   TString id_labels = <a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>-&gt;<a class="code" href="classKVDataSet.html#a83f18bf826fc8b6511783d4e1d61a2fe">GetDataSetEnv</a>(<span class="stringliteral">&quot;ActiveIdentifications&quot;</span>);</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;   <span class="keywordflow">if</span> (id_labels == <span class="stringliteral">&quot;&quot;</span> || !<a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>-&gt;<a class="code" href="classKVDataSet.html#a7c3ddb4a88a58fd3cdef037761ea2c51">HasCalibIdentInfos</a>()) {</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      Info(<span class="stringliteral">&quot;SetIdentifications&quot;</span>, <span class="stringliteral">&quot;No active identifications&quot;</span>);</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;   }</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;   <span class="comment">//split list of labels</span></div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;   TObjArray* toks = id_labels.Tokenize(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;   TIter next_lab(toks);</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;   TObjString* lab;</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;   <span class="comment">//loop over labels/identification &#39;types&#39;</span></div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;   <span class="keywordflow">while</span> ((lab = (TObjString*)next_lab())) {</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;      <span class="comment">//get first telescope in list with right label</span></div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)<a class="code" href="classKVMultiDetArray.html#a07bfaec4d1bc948f065849f6378e815a">GetListOfIDTelescopes</a>()-&gt;<a class="code" href="classKVSeqCollection.html#a03fcc3b706728272bb140e52fb230fc8">FindObjectByLabel</a>(lab-&gt;String().Data());</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;      <span class="comment">//set ID parameters for all telescopes of this &#39;type&#39;</span></div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;      <span class="keywordflow">if</span> (idt) {</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;         Info(<span class="stringliteral">&quot;SetIdentifications&quot;</span>, <span class="stringliteral">&quot;Initialising %s identifications...&quot;</span>, idt-&gt;<a class="code" href="classKVBase.html#a79c7750593831396224d40bc20e082f1">GetLabel</a>());</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;         <span class="keywordflow">if</span> (idt-&gt;<a class="code" href="classKVIDTelescope.html#a3446a15ec82e6babb86d74a811a1deca">SetIdentificationParameters</a>(<span class="keyword">this</span>))</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;            Info(<span class="stringliteral">&quot;SetIdentifications&quot;</span>, <span class="stringliteral">&quot;OK&quot;</span>);</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;      }</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;   }</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;   <span class="keyword">delete</span> toks;</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;}</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;</div><div class="line"><a name="l02406"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a325f80dceb13e278c16a505457a40d48"> 2406</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a325f80dceb13e278c16a505457a40d48">KVMultiDetArray::UpdateIdentifications</a>()</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;{</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;   <span class="comment">//This method can be used to update the identifications of a KVMultiDetArray</span></div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;   <span class="comment">//object which has been read back from a ROOT file, and was possibly written with an old</span></div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;   <span class="comment">//version of the identification parameters which are now obsolete.</span></div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;   <span class="comment">//We remove/destroy the existing identification parameters and replace them with the current versions.</span></div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;   <span class="comment">//In order to set the parameters of the new identifications for a given run,</span></div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;   <span class="comment">//SetParameters or SetRunIdentificationParameters must be called after this method.</span></div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;   <span class="comment">//remove existing identification objects/parameters</span></div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;R__FOR_EACH(<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>, RemoveIdentificationParameters)();</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;   <span class="comment">//reset identifications</span></div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a795d9cc7f87c4454775dd5ded2c78c15">SetIdentifications</a>();</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;}</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;</div><div class="line"><a name="l02434"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#ac15a489a77cebdbaa9ecdb27bfff267c"> 2434</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#ac15a489a77cebdbaa9ecdb27bfff267c">KVMultiDetArray::UpdateIDTelescopes</a>()</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;{</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;   <span class="comment">//This method can be used to update the identification telescopes of a KVMultiDetArray</span></div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;   <span class="comment">//object which has been read back from a ROOT file, and was possibly written with an old</span></div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;   <span class="comment">//version of the classes which are now obsolete, or for which new KVIDTelescope classes</span></div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;   <span class="comment">//are now available.</span></div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;   <span class="comment">//In order to set the parameters of the new identifications for a given run,</span></div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;   <span class="comment">//SetParameters or SetRunIdentificationParameters must be called after this method.</span></div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;   <span class="comment">//destroy old ID telescopes</span></div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;<a class="code" href="classKVSeqCollection.html#af9525ec4e1fd6173129beb3ad68ec498">Delete</a>();</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;   <span class="comment">//now read list of groups and create list of ID telescopes</span></div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;   <a class="code" href="classKVGroup.html">KVGroup</a>* grp;</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;   <a class="code" href="classKVSeqCollection.html">KVSeqCollection</a>* fGroups = <a class="code" href="classKVGeoStrucElement.html#a6f2eb8d8f3a3f7ad4e067bf014caf57d">GetStructures</a>()-&gt;<a class="code" href="classKVSeqCollection.html#a7a75b4a4e95c399a59a242b817ee3502">GetSubListWithType</a>(<span class="stringliteral">&quot;GROUP&quot;</span>);</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;   TIter ngrp(fGroups);</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;   <span class="keywordflow">while</span> ((grp = (<a class="code" href="classKVGroup.html">KVGroup</a>*) ngrp())) {</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a11c61ca8b0eb91fa907aad961e234a12">GetIDTelescopesForGroup</a>(grp, <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>);</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;   }</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;   <span class="keyword">delete</span> fGroups;</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;   <span class="comment">//reset identifications</span></div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a795d9cc7f87c4454775dd5ded2c78c15">SetIdentifications</a>();</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;}</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;</div><div class="line"><a name="l02465"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#aa922b7280c6dee46110a857df7f226ce"> 2465</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#aa922b7280c6dee46110a857df7f226ce">KVMultiDetArray::InitializeIDTelescopes</a>()</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;{</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;   <span class="comment">// Calls Initialize() method of each identification telescope (see KVIDTelescope</span></div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;   <span class="comment">// and derived classes). This is essential before identification of particles is attempted.</span></div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;R__FOR_EACH(<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>, Initialize)();</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;}</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;</div><div class="line"><a name="l02480"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#ab43339d36e728098e5b5ddb70506a59b"> 2480</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#ab43339d36e728098e5b5ddb70506a59b">KVMultiDetArray::PrintStatusOfIDTelescopes</a>()</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;{</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;   <span class="comment">// Print full status report on ID telescopes in array, using informations stored in</span></div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;   <span class="comment">// fStatusIDTelescopes (see GetStatusOfIDTelescopes).</span></div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;   cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;-----STATUS OF IDENTIFICATION TELESCOPES&quot;</span>;</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a757d7b91f90cb68fcbffb36101c069f0">GetCurrentRunNumber</a>()) cout &lt;&lt; <span class="stringliteral">&quot; FOR RUN &quot;</span></div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;                                      &lt;&lt; <a class="code" href="classKVMultiDetArray.html#a757d7b91f90cb68fcbffb36101c069f0">GetCurrentRunNumber</a>();</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;   cout &lt;&lt; <span class="stringliteral">&quot;------&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;   <span class="comment">//get list of active telescopes</span></div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;   TString id_labels = <a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>-&gt;<a class="code" href="classKVDataSet.html#a83f18bf826fc8b6511783d4e1d61a2fe">GetDataSetEnv</a>(<span class="stringliteral">&quot;ActiveIdentifications&quot;</span>);</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;   <span class="keywordflow">if</span> (id_labels == <span class="stringliteral">&quot;&quot;</span>) {</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot; *** No active identifications *** &quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;   }</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;   <span class="comment">//split list of labels</span></div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;   TObjArray* toks = id_labels.Tokenize(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;   <span class="comment">//update status infos</span></div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a1082d6fcb05ca169d9c2d0b70872a318">GetStatusOfIDTelescopes</a>();</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;   TIter next_type(<a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a>);</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;   TList* id_type_list = 0;</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;   <span class="keywordflow">while</span> ((id_type_list = (TList*)next_type())) {</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot; *** &quot;</span> &lt;&lt; id_type_list-&gt;GetName() &lt;&lt; <span class="stringliteral">&quot; Identifications -------------------&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;      <span class="keywordflow">if</span> (!toks-&gt;FindObject(id_type_list-&gt;GetName())) {</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;         cout &lt;&lt; <span class="stringliteral">&quot;      [NOT ACTIVE]&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;      }</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      TList* ok_list = (TList*)id_type_list-&gt;FindObject(<span class="stringliteral">&quot;OK&quot;</span>);</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;      TList* notok_list = (TList*)id_type_list-&gt;FindObject(<span class="stringliteral">&quot;NOT OK&quot;</span>);</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;      TList* print_list = 0;</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;      Int_t Nok = ok_list-&gt;GetEntries();</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;      Int_t Notok = notok_list-&gt;GetEntries();</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;      <span class="keywordflow">if</span> (Nok &amp;&amp; Notok) {</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;         <span class="keywordflow">if</span> (Nok &lt; Notok) print_list = ok_list;</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;         <span class="keywordflow">else</span> print_list = notok_list;</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;      }</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;      <span class="keywordflow">if</span> (Nok &amp;&amp; (!Notok)) cout &lt;&lt; <span class="stringliteral">&quot;    ALL telescopes are OK&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Notok &amp;&amp; (!Nok)) cout &lt;&lt; <span class="stringliteral">&quot;    NO telescopes are OK&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;         cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; ok_list-&gt;GetEntries() &lt;&lt; <span class="stringliteral">&quot; telescopes are OK, &quot;</span></div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;              &lt;&lt; notok_list-&gt;GetEntries() &lt;&lt; <span class="stringliteral">&quot; telescopes are NOT OK&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;         cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; print_list-&gt;GetName() &lt;&lt; <span class="stringliteral">&quot; :&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;         print_list-&gt;ls();</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;      }</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;      cout &lt;&lt; endl;</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;   }</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;   <span class="keyword">delete</span> toks;</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;}</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;</div><div class="line"><a name="l02543"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a1082d6fcb05ca169d9c2d0b70872a318"> 2543</a></span>&#160;TList* <a class="code" href="classKVMultiDetArray.html#a1082d6fcb05ca169d9c2d0b70872a318">KVMultiDetArray::GetStatusOfIDTelescopes</a>()</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;{</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;   <span class="comment">// Fill and return pointer to list fStatusIDTelescopes which contains</span></div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;   <span class="comment">// a list for each type of ID telescope in the array, each list contains a list</span></div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;   <span class="comment">// &quot;OK&quot; with the ID telescopes which have IsReadyForID()=kTRUE, and</span></div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;   <span class="comment">// a list &quot;NOT OK&quot; with the others.</span></div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;   <span class="comment">// The returned TList object must not be deleted (it belongs to the KVMultiDetArray).</span></div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a>) {</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a> = <span class="keyword">new</span> TList;</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a>-&gt;SetOwner(kTRUE);</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;   }</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a>-&gt;Delete();</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;   }</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a> || !<a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;GetEntries()) <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a>;</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;   TIter next(<a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>);</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;   <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt = 0;</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;   <span class="keywordflow">while</span> ((idt = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)next())) {</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      TString id_type = idt-&gt;<a class="code" href="classKVBase.html#a79c7750593831396224d40bc20e082f1">GetLabel</a>();</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;      TList* id_type_list = (TList*)<a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a>-&gt;FindObject(id_type.Data());</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;      <span class="keywordflow">if</span> (!id_type_list) {</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;         id_type_list = <span class="keyword">new</span> TList;</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;         id_type_list-&gt;SetOwner(kTRUE);</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;         id_type_list-&gt;SetName(id_type.Data());</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;         <a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a>-&gt;Add(id_type_list);</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;         id_type_list-&gt;Add(<span class="keyword">new</span> TList);</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;         ((TList*)id_type_list-&gt;At(0))-&gt;SetName(<span class="stringliteral">&quot;OK&quot;</span>);</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;         id_type_list-&gt;Add(<span class="keyword">new</span> TList);</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;         ((TList*)id_type_list-&gt;At(1))-&gt;SetName(<span class="stringliteral">&quot;NOT OK&quot;</span>);</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;      }</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;      <span class="keywordflow">if</span> (idt-&gt;<a class="code" href="classKVIDTelescope.html#a062c3bf3961e074aca8f0bf2ba8a1a6d">IsReadyForID</a>())</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;         ((TList*)id_type_list-&gt;FindObject(<span class="stringliteral">&quot;OK&quot;</span>))-&gt;<a class="code" href="classKVGeoStrucElement.html#ab78b70c0729d4457ed92fbe07daae804">Add</a>(idt);</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;         ((TList*)id_type_list-&gt;FindObject(<span class="stringliteral">&quot;NOT OK&quot;</span>))-&gt;<a class="code" href="classKVGeoStrucElement.html#ab78b70c0729d4457ed92fbe07daae804">Add</a>(idt);</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;   }</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">fStatusIDTelescopes</a>;</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;}</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;</div><div class="line"><a name="l02593"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a6ac45bb0165015e4e1e79385cecb6b98"> 2593</a></span>&#160;<a class="code" href="classKVList.html">KVList</a>* <a class="code" href="classKVMultiDetArray.html#a6ac45bb0165015e4e1e79385cecb6b98">KVMultiDetArray::GetIDTelescopeTypes</a>()</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;{</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;   <span class="comment">// Create, fill and return pointer to a list of TObjString containing the name of each type</span></div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;   <span class="comment">// of ID telescope in the array.</span></div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;   <span class="comment">// Delete the KVList after use (it owns the TObjString objects)</span></div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;   <a class="code" href="classKVList.html">KVList</a>* type_list = <span class="keyword">new</span> <a class="code" href="classKVList.html">KVList</a>;</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a> || !<a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;GetEntries()) <span class="keywordflow">return</span> type_list;</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;   TIter next(<a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>);</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;   <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt = 0;</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;   <span class="keywordflow">while</span> ((idt = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)next())) {</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;      <span class="keywordflow">if</span> (!type_list-&gt;<a class="code" href="classKVSeqCollection.html#afd4b90b8bb56e3f9334078523795c104">FindObject</a>(idt-&gt;<a class="code" href="classKVBase.html#a79c7750593831396224d40bc20e082f1">GetLabel</a>())) {</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;         type_list-&gt;<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(<span class="keyword">new</span> TObjString(idt-&gt;<a class="code" href="classKVBase.html#a79c7750593831396224d40bc20e082f1">GetLabel</a>()));</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;      }</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;   }</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;   <span class="keywordflow">return</span> type_list;</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;}</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;</div><div class="line"><a name="l02623"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a29ab9fb99d763dd4c26857c26bd73ea6"> 2623</a></span>&#160;<a class="code" href="classKVSeqCollection.html">KVSeqCollection</a>* <a class="code" href="classKVMultiDetArray.html#a29ab9fb99d763dd4c26857c26bd73ea6">KVMultiDetArray::GetIDTelescopesWithType</a>(<span class="keyword">const</span> Char_t* type)</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;{</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;   <span class="comment">// Create, fill and return pointer to a list of KVIDTelescopes with</span></div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;   <span class="comment">// the given type in the array.</span></div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;   <span class="comment">// WARNING! - check pointer is not zero (we return NULL if ID telescopes</span></div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;   <span class="comment">// list is not defined or empty)</span></div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;   <span class="comment">// Delete the KVList after use (it does not own the KVIDTelescopes).</span></div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a> || !<a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;GetEntries()) <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;<a class="code" href="classKVSeqCollection.html#af2c55e01fcf189ecc8818f3fb1552e2b">GetSubListWithLabel</a>(type);</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;}</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;</div><div class="line"><a name="l02647"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a9439dd2a458bafbaad65ed11bceccde9"> 2647</a></span>&#160;TList* <a class="code" href="classKVMultiDetArray.html#a9439dd2a458bafbaad65ed11bceccde9">KVMultiDetArray::GetCalibrationStatusOfDetectors</a>()</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;{</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;   <span class="comment">// Fill and return pointer to list fCalibStatusDets which contains</span></div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;   <span class="comment">// a list for each type of detector in the array, each list contains a list</span></div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;   <span class="comment">// &quot;OK&quot; with the detectors which are calibrated, and</span></div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;   <span class="comment">// a list &quot;NOT OK&quot; with the others.</span></div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;   <span class="comment">// The returned TList object must not be deleted (it belongs to the KVMultiDetArray).</span></div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a>) {</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a> = <span class="keyword">new</span> TList;</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a>-&gt;SetOwner(kTRUE);</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;   }</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a>-&gt;Delete();</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;   }</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVGeoStrucElement.html#a4b6d338ffc65ca72c6bad64225cbc380">GetDetectors</a>()-&gt;GetEntries()) <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a>;</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;   TIter next(<a class="code" href="classKVGeoStrucElement.html#a4b6d338ffc65ca72c6bad64225cbc380">GetDetectors</a>());</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;   <a class="code" href="classKVDetector.html">KVDetector</a>* det = 0;</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;   <span class="keywordflow">while</span> ((det = (<a class="code" href="classKVDetector.html">KVDetector</a>*)next())) {</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;      TString type = det-&gt;<a class="code" href="classKVBase.html#a86746121f4faf4c7c4424d22947f2124">GetType</a>();</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;      TList* type_list = (TList*)<a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a>-&gt;FindObject(type.Data());</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;      <span class="keywordflow">if</span> (!type_list) {</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;         type_list = <span class="keyword">new</span> TList;</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;         type_list-&gt;SetOwner(kTRUE);</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;         type_list-&gt;SetName(type.Data());</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;         <a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a>-&gt;Add(type_list);</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;         type_list-&gt;Add(<span class="keyword">new</span> TList);</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;         ((TList*)type_list-&gt;At(0))-&gt;SetName(<span class="stringliteral">&quot;OK&quot;</span>);</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;         type_list-&gt;Add(<span class="keyword">new</span> TList);</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;         ((TList*)type_list-&gt;At(1))-&gt;SetName(<span class="stringliteral">&quot;NOT OK&quot;</span>);</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;      }</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;      <span class="keywordflow">if</span> (det-&gt;<a class="code" href="classKVDetector.html#a8baa59cd2a73e29c3f59506db79fe72a">IsCalibrated</a>())</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;         ((TList*)type_list-&gt;FindObject(<span class="stringliteral">&quot;OK&quot;</span>))-&gt;<a class="code" href="classKVGeoStrucElement.html#ab78b70c0729d4457ed92fbe07daae804">Add</a>(det);</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;         ((TList*)type_list-&gt;FindObject(<span class="stringliteral">&quot;NOT OK&quot;</span>))-&gt;<a class="code" href="classKVGeoStrucElement.html#ab78b70c0729d4457ed92fbe07daae804">Add</a>(det);</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;   }</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a>;</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;}</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;</div><div class="line"><a name="l02695"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#abe052973a6e8d1edefd0cc2f392a107a"> 2695</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#abe052973a6e8d1edefd0cc2f392a107a">KVMultiDetArray::PrintCalibStatusOfDetectors</a>()</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;{</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;   <span class="comment">// Print full status report on calibration of detectors in array, using informations stored in</span></div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;   <span class="comment">// fCalibStatusDets (see GetCalibrationStatusOfDetectors).</span></div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a757d7b91f90cb68fcbffb36101c069f0">GetCurrentRunNumber</a>()) {</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;      Info(<span class="stringliteral">&quot;PrintCalibStatusOfDetectors&quot;</span>, <span class="stringliteral">&quot;Cannot know status without knowing RUN NUMBER&quot;</span>);</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;   }</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;   cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;-----------STATUS OF CALIBRATIONS FOR RUN &quot;</span></div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;        &lt;&lt; <a class="code" href="classKVMultiDetArray.html#a757d7b91f90cb68fcbffb36101c069f0">GetCurrentRunNumber</a>() &lt;&lt; <span class="stringliteral">&quot;------------&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;   <span class="comment">//update status infos</span></div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a9439dd2a458bafbaad65ed11bceccde9">GetCalibrationStatusOfDetectors</a>();</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;   TIter next_type(<a class="code" href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">fCalibStatusDets</a>);</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;   TList* id_type_list = 0;</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;   <span class="keywordflow">while</span> ((id_type_list = (TList*)next_type())) {</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot; *** &quot;</span> &lt;&lt; id_type_list-&gt;GetName() &lt;&lt; <span class="stringliteral">&quot; Detectors -------------------&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;      TList* ok_list = (TList*)id_type_list-&gt;FindObject(<span class="stringliteral">&quot;OK&quot;</span>);</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;      TList* notok_list = (TList*)id_type_list-&gt;FindObject(<span class="stringliteral">&quot;NOT OK&quot;</span>);</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;      TList* print_list = 0;</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;      Int_t Nok = ok_list-&gt;GetEntries();</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;      Int_t Notok = notok_list-&gt;GetEntries();</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      <span class="keywordflow">if</span> (Nok &amp;&amp; Notok) {</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;         <span class="keywordflow">if</span> (Nok &lt; Notok) print_list = ok_list;</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;         <span class="keywordflow">else</span> print_list = notok_list;</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      }</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;      <span class="keywordflow">if</span> (Nok &amp;&amp; (!Notok)) cout &lt;&lt; <span class="stringliteral">&quot;    ALL calibrations are OK&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Notok &amp;&amp; (!Nok)) cout &lt;&lt; <span class="stringliteral">&quot;    NO calibrations are OK&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;         cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; ok_list-&gt;GetEntries() &lt;&lt; <span class="stringliteral">&quot; calibrations are OK, &quot;</span></div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;              &lt;&lt; notok_list-&gt;GetEntries() &lt;&lt; <span class="stringliteral">&quot; calibrations are NOT OK&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;         cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; print_list-&gt;GetName() &lt;&lt; <span class="stringliteral">&quot; :&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;         print_list-&gt;ls();</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;      }</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;      cout &lt;&lt; endl;</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;   }</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;}</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;</div><div class="line"><a name="l02757"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a23bc007d119c7e180bd6a5286a05cfbf"> 2757</a></span>&#160;Double_t <a class="code" href="classKVMultiDetArray.html#a23bc007d119c7e180bd6a5286a05cfbf">KVMultiDetArray::GetTargetEnergyLossCorrection</a>(<a class="code" href="classKVReconstructedNucleus.html">KVReconstructedNucleus</a>* ion)</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;{</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;   <span class="comment">// Calculate the energy loss in the current target of the multidetector</span></div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;   <span class="comment">// for the reconstructed charged particle &#39;ion&#39;, assuming that the current</span></div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;   <span class="comment">// energy and momentum of this particle correspond to its state on</span></div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;   <span class="comment">// leaving the target.</span></div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;   <span class="comment">// WARNING: for this correction to work, the target must be in the right &#39;state&#39;:</span></div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;   <span class="comment">//      gMultiDetArray-&gt;GetTarget()-&gt;SetIncoming(kFALSE);</span></div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;   <span class="comment">//      gMultiDetArray-&gt;GetTarget()-&gt;SetOutgoing(kTRUE);</span></div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;   <span class="comment">// (see KVTarget::GetParticleEIncFromERes).</span></div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;   <span class="comment">// The returned value is the energy lost in the target in MeV.</span></div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;   <span class="comment">// The energy/momentum of &#39;ion&#39; are not affected.</span></div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a> &amp;&amp; ion) <span class="keywordflow">return</span> (<a class="code" href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">fTarget</a>-&gt;<a class="code" href="classKVTarget.html#a5ea331fc1f2ab684e997743ed91d1f25">GetParticleEIncFromERes</a>(ion) - ion-&gt;<a class="code" href="classKVParticle.html#a4ee1e4204aed7301503f32e0b542781e">GetEnergy</a>());</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;}</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;</div><div class="line"><a name="l02784"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a9d47525150fdb078d289a7d77487ecff"> 2784</a></span>&#160;TGeoManager* <a class="code" href="classKVMultiDetArray.html#a9d47525150fdb078d289a7d77487ecff">KVMultiDetArray::GetGeometry</a>()<span class="keyword"> const</span></div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;   <span class="comment">// Return pointer to the (ROOT) geometry of the array.</span></div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;   <span class="keywordflow">return</span> gGeoManager;</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;}</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;</div><div class="line"><a name="l02794"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a64ab5564b31d33afa5ffbe58da309dda"> 2794</a></span>&#160;<a class="code" href="classKVGeoNavigator.html">KVGeoNavigator</a>* <a class="code" href="classKVMultiDetArray.html#a64ab5564b31d33afa5ffbe58da309dda">KVMultiDetArray::GetNavigator</a>()<span class="keyword"> const</span></div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a>;</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;}</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;</div><div class="line"><a name="l02826"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a0ecc5a12124550cfc6a68bedead76a81"> 2826</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a0ecc5a12124550cfc6a68bedead76a81">KVMultiDetArray::SetDetectorThicknesses</a>()</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;{</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;   <span class="comment">// Look for a file in the dataset directory with the name given by .kvrootrc variable:</span></div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;   <span class="comment">//    KVMultiDetArray.DetectorThicknesses:</span></div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;   <span class="comment">// or</span></div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;   <span class="comment">//    dataset.KVMultiDetArray.DetectorThicknesses:</span></div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;   <span class="comment">// and, if it exists, we use it to set the real thicknesses of the detectors.</span></div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;   <span class="comment">// Any detector which is not in the file will be left with its nominal thickness.</span></div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;   <span class="comment">// EXAMPLE FILE:</span></div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;   <span class="comment">//# thickness of detector DET01 in default units</span></div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;   <span class="comment">//DET01: 56.4627</span></div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;   <span class="comment">//# DET03 has several layers</span></div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;   <span class="comment">//DET03.Abs0: 61.34</span></div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;   <span class="comment">//DET03.Abs1: 205.62</span></div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;   <span class="comment">// !!! WARNING !!!</span></div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;   <span class="comment">// Single-layer detectors: The units are those defined by default for the detector&#39;s</span></div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;   <span class="comment">//         Get/SetThickness methods.</span></div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;   <span class="comment">// Multi-layer: Each layer is a KVMaterial object. The thickness MUST be given in centimetres</span></div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;   <span class="comment">//         (default thickness unit for KVMaterial).</span></div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;   TString filename = <a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>-&gt;<a class="code" href="classKVDataSet.html#a83f18bf826fc8b6511783d4e1d61a2fe">GetDataSetEnv</a>(<span class="stringliteral">&quot;KVMultiDetArray.DetectorThicknesses&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;   <span class="keywordflow">if</span> (filename == <span class="stringliteral">&quot;&quot;</span>) {</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;      Error(<span class="stringliteral">&quot;SetDetectorThicknesses&quot;</span>, <span class="stringliteral">&quot;*.KVMultiDetArray.DetectorThicknesses not defined in .kvrootrc&quot;</span>);</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;   }</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;   TString fullpath;</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVBase.html#adaa0b6b0275567d5fd50e2a1a869ed1c">SearchKVFile</a>(filename.Data(), fullpath, <a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>-&gt;GetName())) {</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;      Info(<span class="stringliteral">&quot;SetDetectorThicknesses&quot;</span>, <span class="stringliteral">&quot;File %s not found&quot;</span>, filename.Data());</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;   }</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;   TEnv thickdat;</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;   <span class="keywordflow">if</span> (thickdat.ReadFile(fullpath, kEnvUser) != 0) {</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;      Error(<span class="stringliteral">&quot;SetDetectorThicknesses&quot;</span>, <span class="stringliteral">&quot;Problem opening file %s&quot;</span>, fullpath.Data());</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;   }</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;   Info(<span class="stringliteral">&quot;SetDetectorThicknesses&quot;</span>, <span class="stringliteral">&quot;Setting thicknesses of detectors from file %s&quot;</span>, filename.Data());</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;   TIter next(<a class="code" href="classKVGeoStrucElement.html#a4b6d338ffc65ca72c6bad64225cbc380">GetDetectors</a>());</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;   <a class="code" href="classKVDetector.html">KVDetector</a>* det;</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;   <span class="keywordflow">while</span> ((det = (<a class="code" href="classKVDetector.html">KVDetector</a>*)next())) {</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;      <span class="keywordflow">if</span> (thickdat.Defined(det-&gt;GetName())) {</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;         <span class="comment">// simple single layer detector</span></div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;         Double_t thick = thickdat.GetValue(det-&gt;GetName(), 0.0);</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;         det-&gt;<a class="code" href="classKVDetector.html#a853e5dec9a5b5a0a9a0c87f581900068">SetThickness</a>(thick);</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;         <span class="comment">//Info(&quot;SetDetectorThicknesses&quot;, &quot;Set thickness of %s to %f&quot;, det-&gt;GetName(), thick);</span></div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;      }</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;         Char_t i = 0;</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;         TString absname;</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;         absname.Form(<span class="stringliteral">&quot;%s.Abs%d&quot;</span>, det-&gt;GetName(), (Int_t)i);</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;         <span class="keywordflow">if</span> (thickdat.Defined(absname.Data())) {</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;            <span class="comment">// detector with several layers</span></div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;            <a class="code" href="classKVMaterial.html">KVMaterial</a>* abs = 0;</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;            <span class="keywordflow">while</span> ((abs = det-&gt;<a class="code" href="classKVDetector.html#a70ca474a87ea69f52bf4c7ed220c64fe">GetAbsorber</a>(i))) {</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;               Double_t thick = thickdat.GetValue(absname.Data(), 0.0);</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;               abs-&gt;<a class="code" href="classKVMaterial.html#a2907369c43a719d2edf873693c76cd16">SetThickness</a>(thick);</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;               <span class="comment">//Info(&quot;SetDetectorThicknesses&quot;, &quot;Set thickness of %s.Abs%d to %f&quot;, det-&gt;GetName(), (Int_t)i, thick);</span></div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;               i++;</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;               absname.Form(<span class="stringliteral">&quot;%s.Abs%d&quot;</span>, det-&gt;GetName(), (Int_t)i);</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;               <span class="keywordflow">if</span> (!thickdat.Defined(absname.Data())) <span class="keywordflow">break</span>;</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;            }</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;         }</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;      }</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;   }</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;}</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;</div><div class="line"><a name="l02905"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a694ccf78022a106de15b70c9ddbaa3ae"> 2905</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a694ccf78022a106de15b70c9ddbaa3ae">KVMultiDetArray::SetGeometry</a>(TGeoManager* <a class="code" href="namespaceKVUnits.html#af13ae353c0bc16e77ec01cc6aee48999">g</a>)</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;{</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;   <span class="comment">// Define the geometry of the array with a valid ROOT geometry (TGeoManager instance)</span></div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;   <span class="comment">// If no name and/or title are defined for the array, the name and title of the TGeoManager</span></div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;   <span class="comment">// object will be used for the array.</span></div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;   <span class="comment">// ROOT geometry will be used by default from now on.</span></div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;   <span class="keywordflow">if</span> (!strcmp(GetName(), <span class="stringliteral">&quot;&quot;</span>)) SetName(g-&gt;GetName());</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;   <span class="keywordflow">if</span> (!strcmp(GetTitle(), <span class="stringliteral">&quot;&quot;</span>)) SetTitle(g-&gt;GetTitle());</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;   <a class="code" href="classKVMultiDetArray.html#aab136511a848c36f1dc5add9fd17a832">SetROOTGeometry</a>();</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;}</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;</div><div class="line"><a name="l02923"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#aa7bd657c217ada676d69268f6dea51c9"> 2923</a></span>&#160;Double_t <a class="code" href="classKVMultiDetArray.html#aa7bd657c217ada676d69268f6dea51c9">KVMultiDetArray::GetPunchThroughEnergy</a>(<span class="keyword">const</span> Char_t* detector, Int_t Z, Int_t A)</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;{</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;   <span class="comment">// Calculate incident energy of particle (Z,A) required to punch through given detector,</span></div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;   <span class="comment">// taking into account any detectors which the particle must first cross in order to reach it.</span></div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;   <a class="code" href="classKVDetector.html">KVDetector</a>* theDet = <a class="code" href="classKVGeoStrucElement.html#a48ff5d8e5e2146aa86d3a2b30f338487">GetDetector</a>(detector);</div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;   <span class="keywordflow">if</span> (!theDet) {</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;      Error(<span class="stringliteral">&quot;GetPunchThroughEnergy&quot;</span>, <span class="stringliteral">&quot;Detector %s not found in array&quot;</span>, detector);</div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;      <span class="keywordflow">return</span> -1.0;</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;   }</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;   Double_t E0 = theDet-&gt;<a class="code" href="classKVDetector.html#aa4cc01bb9831adda8fb9cdf7a0bb989b">GetPunchThroughEnergy</a>(Z, A);</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;   TIter alDets(theDet-&gt;<a class="code" href="classKVDetector.html#ac60bd4797fc7ccdd07bfd32742ed50bc">GetAlignedDetectors</a>());</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;   <span class="comment">// first detector in list is theDet</span></div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;   alDets.Next();</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;   <a class="code" href="classKVDetector.html">KVDetector</a>* D;</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;   <span class="keywordflow">while</span> ((D = (<a class="code" href="classKVDetector.html">KVDetector</a>*)alDets.Next())) {</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;      Double_t E1 = D-&gt;<a class="code" href="classKVDetector.html#ae2aafd40c71e8ceff6ac56212b9fb0a1">GetIncidentEnergyFromERes</a>(Z, A, E0);</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;      E0 = E1;</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;   }</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;   <span class="keywordflow">return</span> E0;</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;}</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;</div><div class="line"><a name="l02952"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#ac25253ec47b4216756eb39a3c3de22bb"> 2952</a></span>&#160;TGraph* <a class="code" href="classKVMultiDetArray.html#ac25253ec47b4216756eb39a3c3de22bb">KVMultiDetArray::DrawPunchThroughEnergyVsZ</a>(<span class="keyword">const</span> Char_t* detector, Int_t massform)</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;{</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;   <span class="comment">// Creates and fills a TGraph with the punch through energy in MeV vs. Z for the given detector,</span></div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;   <span class="comment">// for Z=1-92. The mass of each nucleus is calculated according to the given mass formula</span></div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;   <span class="comment">// (see KVNucleus).</span></div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;   TGraph* punch = <span class="keyword">new</span> TGraph(92);</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;   punch-&gt;SetName(Form(<span class="stringliteral">&quot;KVMultiDetpunchthrough_%s_mass%d&quot;</span>, detector, massform));</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;   punch-&gt;SetTitle(Form(<span class="stringliteral">&quot;Array Punch-through %s (MeV) (mass formula %d)&quot;</span>, detector, massform));</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;   <a class="code" href="classKVNucleus.html">KVNucleus</a> nuc;</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;   nuc.<a class="code" href="classKVNucleus.html#adc8a841035e9601bbefd08bdd3dd20e1">SetMassFormula</a>(massform);</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> Z = 1; Z &lt;= 92; Z++) {</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;      nuc.<a class="code" href="classKVNucleus.html#a6983e634af13af641a0d7f4725ca6521">SetZ</a>(Z);</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;      punch-&gt;SetPoint(Z - 1, Z, <a class="code" href="classKVMultiDetArray.html#aa7bd657c217ada676d69268f6dea51c9">GetPunchThroughEnergy</a>(detector, nuc.<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>(), nuc.<a class="code" href="classKVNucleus.html#a5d1a5c1b9ea016d11b9b4bd803c3a8c4">GetA</a>()));</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;   }</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;   <span class="keywordflow">return</span> punch;</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;}</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;</div><div class="line"><a name="l02977"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a4635c99e0a2e78ca59c68e3a57c7e10c"> 2977</a></span>&#160;TGraph* <a class="code" href="classKVMultiDetArray.html#a4635c99e0a2e78ca59c68e3a57c7e10c">KVMultiDetArray::DrawPunchThroughEsurAVsZ</a>(<span class="keyword">const</span> Char_t* detector, Int_t massform)</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;{</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;   <span class="comment">// Creates and fills a TGraph with the punch through energy in MeV/nucleon vs. Z for the given detector,</span></div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;   <span class="comment">// for Z=1-92. The mass of each nucleus is calculated according to the given mass formula</span></div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;   <span class="comment">// (see KVNucleus).</span></div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;   TGraph* punch = <span class="keyword">new</span> TGraph(92);</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;   punch-&gt;SetName(Form(<span class="stringliteral">&quot;KVMultiDetpunchthroughEsurA_%s_mass%d&quot;</span>, detector, massform));</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;   punch-&gt;SetTitle(Form(<span class="stringliteral">&quot;Array Punch-through %s (AMeV) (mass formula %d)&quot;</span>, detector, massform));</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;   <a class="code" href="classKVNucleus.html">KVNucleus</a> nuc;</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;   nuc.<a class="code" href="classKVNucleus.html#adc8a841035e9601bbefd08bdd3dd20e1">SetMassFormula</a>(massform);</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> Z = 1; Z &lt;= 92; Z++) {</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;      nuc.<a class="code" href="classKVNucleus.html#a6983e634af13af641a0d7f4725ca6521">SetZ</a>(Z);</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;      punch-&gt;SetPoint(Z - 1, Z, <a class="code" href="classKVMultiDetArray.html#aa7bd657c217ada676d69268f6dea51c9">GetPunchThroughEnergy</a>(detector, nuc.<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>(), nuc.<a class="code" href="classKVNucleus.html#a5d1a5c1b9ea016d11b9b4bd803c3a8c4">GetA</a>()) / nuc.<a class="code" href="classKVNucleus.html#a5d1a5c1b9ea016d11b9b4bd803c3a8c4">GetA</a>());</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;   }</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;   <span class="keywordflow">return</span> punch;</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;}</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;</div><div class="line"><a name="l03003"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#aa29e190e64c6eb7ec1f0c0f96acfbaaa"> 3003</a></span>&#160;TGraph* <a class="code" href="classKVMultiDetArray.html#aa29e190e64c6eb7ec1f0c0f96acfbaaa">KVMultiDetArray::DrawPunchThroughZVsVpar</a>(<span class="keyword">const</span> Char_t* detector, Int_t massform)</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;{</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;   <span class="comment">// Creates and fills a TGraph with the Z vs. the punch-through velocity paralllel to the beam</span></div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;   <span class="comment">// direction in cm/ns for the given detector,</span></div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;   <span class="comment">// for Z=1-92. The mass of each nucleus is calculated according to the given mass formula</span></div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;   <span class="comment">// (see KVNucleus).</span></div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;   TGraph* punch = <span class="keyword">new</span> TGraph(92);</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;   punch-&gt;SetName(Form(<span class="stringliteral">&quot;KVMultiDetpunchthroughV_%s_mass%d&quot;</span>, detector, massform));</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;   punch-&gt;SetTitle(Form(<span class="stringliteral">&quot;Array Punch-through %s (cm/ns) (mass formula %d)&quot;</span>, detector, massform));</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;   <a class="code" href="classKVNucleus.html">KVNucleus</a> nuc;</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;   nuc.<a class="code" href="classKVNucleus.html#adc8a841035e9601bbefd08bdd3dd20e1">SetMassFormula</a>(massform);</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> Z = 1; Z &lt;= 92; Z++) {</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;      nuc.<a class="code" href="classKVNucleus.html#a6983e634af13af641a0d7f4725ca6521">SetZ</a>(Z);</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;      nuc.<a class="code" href="classKVParticle.html#a90185da004429bf86a79a1f5de5b4878">SetE</a>(<a class="code" href="classKVMultiDetArray.html#aa7bd657c217ada676d69268f6dea51c9">GetPunchThroughEnergy</a>(detector, nuc.<a class="code" href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">GetZ</a>(), nuc.<a class="code" href="classKVNucleus.html#a5d1a5c1b9ea016d11b9b4bd803c3a8c4">GetA</a>()));</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;      nuc.<a class="code" href="classKVParticle.html#a0b89116bb53ce3c10529f4778289b018">SetTheta</a>(<a class="code" href="classKVGeoStrucElement.html#a48ff5d8e5e2146aa86d3a2b30f338487">GetDetector</a>(detector)-&gt;GetTheta());</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;      punch-&gt;SetPoint(Z - 1, nuc.<a class="code" href="classKVParticle.html#aac01211d09d67b9d33e55c4de6085d9e">GetVpar</a>(), Z);</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;   }</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;   <span class="keywordflow">return</span> punch;</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;}</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;</div><div class="line"><a name="l03030"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#aab136511a848c36f1dc5add9fd17a832"> 3030</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#aab136511a848c36f1dc5add9fd17a832">KVMultiDetArray::SetROOTGeometry</a>(Bool_t on)</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;{</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;   <span class="comment">// Call with on=kTRUE if array uses ROOT geometry for tracking</span></div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;   <span class="comment">// Call SetGeometry(TGeoManager*) first with a valid geometry.</span></div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;   <a class="code" href="classKVMultiDetArray.html#ac292bfa88a8262f819dcd74a0071d991">fROOTGeometry</a> = on;</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;   <span class="keywordflow">if</span> (on &amp;&amp; !gGeoManager) {</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;      Error(<span class="stringliteral">&quot;SetROOTGeometry&quot;</span>, <span class="stringliteral">&quot;ROOT geometry is requested, but has not been set: gGeoManager=0x0,\n Call CreateGeoManager() method first&quot;</span>);</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;   }</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;   <span class="comment">// set up geometry navigator</span></div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;   <span class="keywordflow">if</span> (on &amp;&amp; !<a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a>) <a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a> = <span class="keyword">new</span> <a class="code" href="classKVRangeTableGeoNavigator.html">KVRangeTableGeoNavigator</a>(gGeoManager, <a class="code" href="classKVMaterial.html#a432ade5dff2c1ea8ed4b0cbcaecee831">KVMaterial::GetRangeTable</a>());</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!on) SafeDelete(<a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a>);</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;}</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;</div><div class="line"><a name="l03056"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a5913fb0e69e0bc802215c237f1d016a1"> 3056</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a5913fb0e69e0bc802215c237f1d016a1">KVMultiDetArray::CalculateDetectorSegmentationIndex</a>()</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;{</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;   <span class="comment">// *** Set &#39;segmentation&#39; index of detectors ***</span></div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;   <span class="comment">// This is essential for particle reconstruction, judging whether particles can be identified</span></div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;   <span class="comment">// independently of any others in the same group etc.</span></div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;   <span class="comment">// Basically, any detector with &gt;1 detector placed directly behind it has a seg. index = 0</span></div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;   <span class="comment">// if &lt;=1 detector is directly behind, the seg. index = 1</span></div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;   <span class="comment">// This method is used for arrays imported from ROOT geometries.</span></div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;   TIter next(<a class="code" href="classKVGeoStrucElement.html#a4b6d338ffc65ca72c6bad64225cbc380">GetDetectors</a>());</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;   <a class="code" href="classKVDetector.html">KVDetector</a>* d;</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;   <span class="keywordflow">while</span> ((d = (<a class="code" href="classKVDetector.html">KVDetector</a>*)next())) {</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;      <span class="keywordflow">if</span> (d-&gt;<a class="code" href="classKVDetector.html#ac631b3547c5dceac6882b6138cdaba00">GetNode</a>()-&gt;<a class="code" href="classKVGeoDetectorNode.html#aa08323a7e20922bae5c2ebe1a0d40fcf">GetNDetsBehind</a>() &gt; 1) d-&gt;<a class="code" href="classKVDetector.html#a48ca7dc5e626fa40244cef07cf9d40a2">SetSegment</a>(0);</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;      <span class="keywordflow">else</span> d-&gt;<a class="code" href="classKVDetector.html#a48ca7dc5e626fa40244cef07cf9d40a2">SetSegment</a>(1);</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;   }</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;}</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;</div><div class="line"><a name="l03083"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#af4ee6c7373d6405e14a8f5d3e58ad98d"> 3083</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#af4ee6c7373d6405e14a8f5d3e58ad98d">KVMultiDetArray::GetAlignedIDTelescopesForDetector</a>(<a class="code" href="classKVDetector.html">KVDetector</a>* det, TCollection* list)</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;{</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;   <span class="comment">//Create and add to list all ID telescopes made of this detector</span></div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;   <span class="comment">//and the aligned detectors placed in front of it.</span></div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;   <span class="comment">//If list=0 then we store pointers to the ALREADY EXISTING ID telescopes</span></div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;   <span class="comment">//in det-&gt;fIDTelAlign. (first clear det-&gt;fIDTelAlign)</span></div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;   <span class="keywordflow">if</span> (!(det-&gt;<a class="code" href="classKVDetector.html#a0e85350dfaf073475b88e5922fc73b8c">IsOK</a>())) <span class="keywordflow">return</span>;</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;   TList* aligned = det-&gt;<a class="code" href="classKVDetector.html#ac60bd4797fc7ccdd07bfd32742ed50bc">GetAlignedDetectors</a>();</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;   Bool_t list_zero = kFALSE;</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;   <span class="keywordflow">if</span> (!list) {</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;      list_zero = kTRUE;</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;      <span class="comment">//the IDTelescopes created will be destroyed at the end,</span></div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;      <span class="comment">//once we have used their names to find pointers to the corresponding</span></div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;      <span class="comment">//telescopes in gMultiDetArray</span></div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;      list = <span class="keyword">new</span> <a class="code" href="classKVList.html">KVList</a>;</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;      <span class="comment">//clear any existing list of aligned telescopes</span></div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;      det-&gt;<a class="code" href="classKVDetector.html#a338f814acba30617cecc483780da5e8c">GetAlignedIDTelescopes</a>()-&gt;<a class="code" href="classKVSeqCollection.html#a5edbe1ce090e93f70da107c1dc5abbe1">Clear</a>();</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;   }</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;   <span class="keywordflow">if</span> (aligned-&gt;GetSize() &gt; 1) {</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;      <span class="comment">//pairwise looping through list</span></div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (aligned-&gt;GetSize() - 1); i++) {</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;         <a class="code" href="classKVDetector.html">KVDetector</a>* det1 = (<a class="code" href="classKVDetector.html">KVDetector</a>*) aligned-&gt;At(i + 1);</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;         <a class="code" href="classKVDetector.html">KVDetector</a>* det2 = (<a class="code" href="classKVDetector.html">KVDetector</a>*) aligned-&gt;At(i);</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;         <a class="code" href="classKVMultiDetArray.html#a68318a8f8303e84f60878e195af353f2">GetIDTelescopes</a>(det1, det2, list);</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;      }</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;   }</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;      <span class="comment">//The following line is in case there are no detectors aligned</span></div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;      <span class="comment">//with &#39;det&#39;, but &#39;det&#39; acts as an IDTelescope all by itself.</span></div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;      <span class="comment">//In this case we expect KVMultiDetArray::GetIDTelescopes</span></div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;      <span class="comment">//to define the appropriate ID telescope whenever one of the</span></div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;      <span class="comment">//two detector arguments (or both!) corresponds to &#39;det&#39;&#39;s type.</span></div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a68318a8f8303e84f60878e195af353f2">GetIDTelescopes</a>(det, det, list);</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;   }</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;   <span class="keywordflow">if</span> (list_zero) {</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;      <span class="comment">//now we use the created ID telescopes to find pointers to the already</span></div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;      <span class="comment">//existing identical telescopes in gMultiDetArray, stock them in</span></div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;      <span class="comment">//det-&gt;fIDTelAlign</span></div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;      TIter next_tel(list);</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;      <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* tel;</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;      <span class="keywordflow">while</span> ((tel = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*) next_tel())) {</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;         <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* trash = <a class="code" href="classKVMultiDetArray.html#ad915cf18454f95b852e13d3816a51abf">GetIDTelescope</a>(tel-&gt;GetName());</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;         <span class="keywordflow">if</span> (trash) {</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;            det-&gt;<a class="code" href="classKVDetector.html#a338f814acba30617cecc483780da5e8c">GetAlignedIDTelescopes</a>()-&gt;<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(trash);</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;         }</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;      }</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;      <span class="comment">//destroy the superfluous copy telescopes we just created</span></div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;      list-&gt;Delete();</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;      <span class="keyword">delete</span> list;</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;   }</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;}</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;</div><div class="line"><a name="l03160"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a11c61ca8b0eb91fa907aad961e234a12"> 3160</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a11c61ca8b0eb91fa907aad961e234a12">KVMultiDetArray::GetIDTelescopesForGroup</a>(<a class="code" href="classKVGroup.html">KVGroup</a>* grp, TCollection* tel_list)</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;{</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;   <span class="comment">//Identify all the ways of identifying particles possible from the detectors</span></div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;   <span class="comment">//in the group, create the appropriate KVIDTelescope objects and add them to</span></div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;   <span class="comment">//the list pointed to by tel_list.</span></div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;   <span class="comment">//USER&#39;S RESPONSIBILITY TO DELETE CONTENTS OF LIST!!</span></div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;   <span class="comment">//Starting from each detector in the group,</span></div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;   <span class="comment">//we build ID telescopes from all pairs of aligned detectors.</span></div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;   <span class="comment">//For each pair of detectors, it is KVMultiDetArray::GetIDTelescopes</span></div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;   <span class="comment">//which determines which KVIDTelescope class to use (specialise this method</span></div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;   <span class="comment">//in KVMultiDetArray child classes). It must also make sure that</span></div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;   <span class="comment">//each IDTelescope is added only once (i.e. check it is not already in the list).</span></div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;   TIter next_det(grp-&gt;<a class="code" href="classKVGeoStrucElement.html#a4b6d338ffc65ca72c6bad64225cbc380">GetDetectors</a>());</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;   <a class="code" href="classKVDetector.html">KVDetector</a>* det;</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;   <span class="keywordflow">while</span> ((det = (<a class="code" href="classKVDetector.html">KVDetector</a>*) next_det())) {</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;      <span class="keywordflow">if</span> (det-&gt;IsOK()) {</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;         <span class="comment">//1st call: create ID telescopes, they will be added to the</span></div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;         <span class="comment">//gMultiDetArray list of IDTelescopes</span></div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;         <a class="code" href="classKVMultiDetArray.html#af4ee6c7373d6405e14a8f5d3e58ad98d">GetAlignedIDTelescopesForDetector</a>(det, tel_list);</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;         <span class="comment">//2nd call: set up in the detector a list of pointers to the</span></div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;         <span class="comment">//ID telescopes made up of it and all aligned detectors in front</span></div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;         <span class="comment">//of it</span></div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;         <a class="code" href="classKVMultiDetArray.html#af4ee6c7373d6405e14a8f5d3e58ad98d">GetAlignedIDTelescopesForDetector</a>(det, 0);</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;      }</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;   }</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;}</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;</div><div class="line"><a name="l03203"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#ad0eb6737513df681a43bea22f6a336e3"> 3203</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#ad0eb6737513df681a43bea22f6a336e3">KVMultiDetArray::PrepareModifGroup</a>(<a class="code" href="classKVGroup.html">KVGroup</a>* grp, <a class="code" href="classKVDetector.html">KVDetector</a>* dd)</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;{</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;   <span class="comment">//Casse tous les liens entre les detecteurs d un meme groupe</span></div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;   <span class="comment">//Retire de la liste gMultiDetArray-&gt;GetListOfIDTelescopes() les</span></div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;   <span class="comment">//telescopes associes et les efface apres les avoir</span></div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;   <span class="comment">//retires des grilles auxquelles ils etaient associees</span></div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;   <span class="comment">//pour preparer l ajout ou le retrait d un detecteur</span></div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;   <span class="comment">//voir KVDetector::SetPresent()</span></div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;   <a class="code" href="classKVNameValueList.html">KVNameValueList</a> nv;</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;   <a class="code" href="classKVDetector.html">KVDetector</a>* det = 0;</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;   <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* <span class="keywordtype">id</span> = 0;</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;   <span class="keyword">const</span> <a class="code" href="classKVSeqCollection.html">KVSeqCollection</a>* lgrdet = grp-&gt;<a class="code" href="classKVGeoStrucElement.html#a4b6d338ffc65ca72c6bad64225cbc380">GetDetectors</a>();</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;   TIter nextdet(lgrdet);</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;   <span class="keywordflow">while</span> ((det = (<a class="code" href="classKVDetector.html">KVDetector</a>*)nextdet())) {</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;      <span class="comment">//Info(&quot;PrepareModif&quot;,&quot;On retire les detecteurs alignes pour %s&quot;,det-&gt;GetName());</span></div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;      det-&gt;<a class="code" href="classKVDetector.html#ae94f65b30fcb2ce4b6bed44904d0ffb0">ResetAlignedDetectors</a>(<a class="code" href="classKVGroup.html#a07b07de580ed03e7033fc5ec912f209fa816164a3ed06ae9a55774e740cff221d">KVGroup::kForwards</a>);</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;      det-&gt;<a class="code" href="classKVDetector.html#ae94f65b30fcb2ce4b6bed44904d0ffb0">ResetAlignedDetectors</a>(<a class="code" href="classKVGroup.html#a07b07de580ed03e7033fc5ec912f209fa689453ad50cf6e7f0a1d0e5e1aa9925c">KVGroup::kBackwards</a>);</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;      Int_t ntel = det-&gt;<a class="code" href="classKVDetector.html#a5c7b16cbf1e460e3e6ae2b1b519a09fa">GetIDTelescopes</a>()-&gt;GetEntries();</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;      <span class="keywordflow">for</span> (Int_t ii = 0; ii &lt; ntel; ii += 1) {</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;         <span class="keywordtype">id</span> = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)det-&gt;<a class="code" href="classKVDetector.html#a5c7b16cbf1e460e3e6ae2b1b519a09fa">GetIDTelescopes</a>()-&gt;<a class="code" href="classKVSeqCollection.html#a68606f35f850c66862119b5ba0bfb69c">At</a>(0);</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;         <span class="keywordflow">if</span> (id-&gt;<a class="code" href="classKVIDTelescope.html#af028c09f950a42b73427db655f06aec3">GetDetectors</a>()-&gt;<a class="code" href="classKVSeqCollection.html#afd4b90b8bb56e3f9334078523795c104">FindObject</a>(dd)) {</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;            nv.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(id-&gt;GetName(), <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;            det-&gt;<a class="code" href="classKVDetector.html#a5c7b16cbf1e460e3e6ae2b1b519a09fa">GetIDTelescopes</a>()-&gt;RemoveAt(0);</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;         }</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;      }</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;   }</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;   <a class="code" href="classKVHashList.html">KVHashList</a>* lidtel = (<a class="code" href="classKVHashList.html">KVHashList</a>*)<a class="code" href="classKVMultiDetArray.html#a07bfaec4d1bc948f065849f6378e815a">GetListOfIDTelescopes</a>();</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;   <span class="keywordflow">for</span> (Int_t ii = 0; ii &lt; nv.<a class="code" href="classKVNameValueList.html#a79ddefcb915b4674fce8b752c344d856">GetEntries</a>(); ii += 1) {</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;      <span class="keywordtype">id</span> = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)lidtel-&gt;<a class="code" href="classKVSeqCollection.html#afd4b90b8bb56e3f9334078523795c104">FindObject</a>(nv.<a class="code" href="classKVNameValueList.html#a5d5ebecfdcb97b376a6d89e5d82242f4">GetNameAt</a>(ii));</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;      <span class="comment">//Info(&quot;PrepareModif&quot;,&quot;On retire et on detruit l&#39;ID tel %s&quot;,id-&gt;GetName());</span></div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;      <span class="keywordflow">if</span> (id-&gt;<a class="code" href="classKVIDTelescope.html#aa10843bc940f8207c4617fd6ea3471cc">GetListOfIDGrids</a>()) {</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;         <a class="code" href="classKVIDGraph.html">KVIDGraph</a>* idg = 0;</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;         <span class="keywordflow">for</span> (Int_t kk = 0; kk &lt; <span class="keywordtype">id</span>-&gt;GetListOfIDGrids()-&gt;GetEntries(); kk += 1) {</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;            idg = (<a class="code" href="classKVIDGraph.html">KVIDGraph</a>*)id-&gt;<a class="code" href="classKVIDTelescope.html#aa10843bc940f8207c4617fd6ea3471cc">GetListOfIDGrids</a>()-&gt;<a class="code" href="classKVSeqCollection.html#a68606f35f850c66862119b5ba0bfb69c">At</a>(kk);</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;            idg-&gt;<a class="code" href="classKVIDGraph.html#af02db3b0be329acb36fe40b1bec596da">RemoveIDTelescope</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;         }</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;      }</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;      <span class="comment">//Info(&quot;PrepareModif&quot;,&quot;Je retire et j efface le idtel %s %s&quot;,id-&gt;GetName(),id-&gt;ClassName());</span></div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;      <span class="keyword">delete</span> lidtel-&gt;<a class="code" href="classKVSeqCollection.html#af8e06106d2e2e33c431ce62153e6c507">Remove</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;   }</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;   nv.<a class="code" href="classKVNameValueList.html#a5ae922a154a8a2cb8286379400c50772">Clear</a>();</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;}</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;</div><div class="line"><a name="l03269"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a58d80ed2b8528f3dc881f49a217c2a54"> 3269</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a58d80ed2b8528f3dc881f49a217c2a54">KVMultiDetArray::SetPresent</a>(<a class="code" href="classKVDetector.html">KVDetector</a>* det, Bool_t present)</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;{</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;   <span class="comment">// If present=kTRUE (default), detector is present</span></div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;   <span class="comment">// If present=kFALSE, detector has been removed</span></div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;   <span class="comment">// This method does nothing is required state is already current state.</span></div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;   <span class="comment">// Methode applicable seulement pour un detecteur</span></div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;   <span class="comment">// etant le seul dans un telescope</span></div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;   <span class="comment">// ex les ChIo pour Indra</span></div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;   <span class="comment">// This method as always to be call before</span></div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;   <span class="comment">// call the SetDetecting() method</span></div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;   <span class="keywordflow">if</span> (present == det-&gt;<a class="code" href="classKVDetector.html#ae7ba81608f1cc7ee9a1c1055d2fc122f">IsPresent</a>())</div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;</div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;   det-&gt;<a class="code" href="classKVDetector.html#afdbd195fa9a847417efbc105c56ee45a">SetPresent</a>(present);</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;   <span class="comment">//On passe l etat d un detecteur de present a absent</span></div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;   <a class="code" href="classKVTelescope.html">KVTelescope</a>* fTelescope = (<a class="code" href="classKVTelescope.html">KVTelescope</a>*)det-&gt;<a class="code" href="classKVDetector.html#a356e6af853055f0097e7bd2a3e4b6ddf">GetParentStructure</a>(<span class="stringliteral">&quot;TELESCOPE&quot;</span>);</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;   <span class="keywordflow">if</span> (!det-&gt;<a class="code" href="classKVDetector.html#ae7ba81608f1cc7ee9a1c1055d2fc122f">IsPresent</a>()) {</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;      <span class="comment">//Le detecteur etait l unique d un KVTelescope</span></div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;      <span class="comment">//on retire directement le KVTelescope</span></div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;      <span class="keywordflow">if</span> (fTelescope-&gt;<a class="code" href="classKVGeoStrucElement.html#a4b6d338ffc65ca72c6bad64225cbc380">GetDetectors</a>()-&gt;GetEntries() == 1) {</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;         <a class="code" href="classKVGroup.html">KVGroup</a>* gr = (<a class="code" href="classKVGroup.html">KVGroup</a>*)fTelescope-&gt;<a class="code" href="classKVGeoStrucElement.html#aef54034d0b26682dbe38bc8700722837">GetParentStructure</a>(<span class="stringliteral">&quot;GROUP&quot;</span>);</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;         <a class="code" href="classKVMultiDetArray.html#ad0eb6737513df681a43bea22f6a336e3">PrepareModifGroup</a>(gr, det);</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;         gr-&gt;<a class="code" href="classKVGeoStrucElement.html#a5d0dbbbcc4a0573f08db5a5f52a4dc61">Remove</a>(fTelescope);</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;         gr-&gt;<a class="code" href="classKVGeoStrucElement.html#a5d0dbbbcc4a0573f08db5a5f52a4dc61">Remove</a>(det);</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;         <a class="code" href="classKVMultiDetArray.html#a11c61ca8b0eb91fa907aad961e234a12">GetIDTelescopesForGroup</a>(gr, <a class="code" href="classKVMultiDetArray.html#a07bfaec4d1bc948f065849f6378e815a">GetListOfIDTelescopes</a>());</div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;      }</div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;         Warning(<span class="stringliteral">&quot;SetPresent&quot;</span>, <span class="stringliteral">&quot;Method implemented only in case detector is alone in telescope&quot;</span>);</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;      }</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;   }</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;   <span class="comment">//On remet le detecteur dans le groupe auquel il appartenait</span></div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;      <span class="keywordflow">if</span> (!det-&gt;<a class="code" href="classKVDetector.html#a36c14085e0ec80f25c1bf8fd47e1232f">GetGroup</a>()) {</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;         <a class="code" href="classKVGroup.html">KVGroup</a>* gr = <a class="code" href="classKVMultiDetArray.html#aa01302c5d51862d88f78de2293f679eb">GetGroupWithAngles</a>(det-&gt;<a class="code" href="classKVPosition.html#a0ea6f2fbe02656976de3ffd2e238075f">GetTheta</a>(), det-&gt;<a class="code" href="classKVPosition.html#ae80f70863fccfd90fd042462b7235d34">GetPhi</a>());</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;         <a class="code" href="classKVMultiDetArray.html#ad0eb6737513df681a43bea22f6a336e3">PrepareModifGroup</a>(gr, det);</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;         gr-&gt;<a class="code" href="classKVGeoStrucElement.html#ab78b70c0729d4457ed92fbe07daae804">Add</a>(fTelescope);</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;         gr-&gt;<a class="code" href="classKVGeoStrucElement.html#ab78b70c0729d4457ed92fbe07daae804">Add</a>(det);</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;         gr-&gt;<a class="code" href="classKVGroup.html#ac9cdd827967822e8e7e12731226141af">Sort</a>();</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;         gr-&gt;<a class="code" href="classKVGroup.html#a86f41d55f430b725b1c2fe3683985a9e">CountLayers</a>();</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;         <a class="code" href="classKVMultiDetArray.html#a11c61ca8b0eb91fa907aad961e234a12">GetIDTelescopesForGroup</a>(gr, <a class="code" href="classKVMultiDetArray.html#a07bfaec4d1bc948f065849f6378e815a">GetListOfIDTelescopes</a>());</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;      }</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;   }</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;}</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;</div><div class="line"><a name="l03340"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a5533ef3557e261c30a83a35a78005ec1"> 3340</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a5533ef3557e261c30a83a35a78005ec1">KVMultiDetArray::SetDetecting</a>(<a class="code" href="classKVDetector.html">KVDetector</a>* det, Bool_t detecting)</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;{</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;   <span class="comment">// This method has effect only if detector is present</span></div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;   <span class="comment">// If detecting=kTRUE (default), detector is detecting</span></div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;   <span class="comment">// If detecting=kFALSE, detector has been switch off or no gas or just dead</span></div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;   <span class="comment">// Does nothing if:</span></div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;   <span class="comment">//    - detector already marked as absent</span></div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;   <span class="comment">//    - required state is already current state</span></div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;   <span class="keywordflow">if</span> (!det-&gt;<a class="code" href="classKVDetector.html#ae7ba81608f1cc7ee9a1c1055d2fc122f">IsPresent</a>())</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;   <span class="keywordflow">if</span> (detecting == det-&gt;<a class="code" href="classKVDetector.html#aba8fb091c9f1f6dcef8fbca1236d2b63">IsDetecting</a>())</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;   det-&gt;<a class="code" href="classKVDetector.html#a91f586905d9a7dc05559c0e721a3ce72">SetDetecting</a>(detecting);</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;   <span class="keywordflow">if</span> (!det-&gt;<a class="code" href="classKVDetector.html#aba8fb091c9f1f6dcef8fbca1236d2b63">IsDetecting</a>()) {</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;      <a class="code" href="classKVGroup.html">KVGroup</a>* gr = det-&gt;<a class="code" href="classKVDetector.html#a36c14085e0ec80f25c1bf8fd47e1232f">GetGroup</a>();</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;      <a class="code" href="classKVMultiDetArray.html#ad0eb6737513df681a43bea22f6a336e3">PrepareModifGroup</a>(gr, det);</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a11c61ca8b0eb91fa907aad961e234a12">GetIDTelescopesForGroup</a>(gr, <a class="code" href="classKVMultiDetArray.html#a07bfaec4d1bc948f065849f6378e815a">GetListOfIDTelescopes</a>());</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;   }</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;      <a class="code" href="classKVGroup.html">KVGroup</a>* gr = <a class="code" href="classKVMultiDetArray.html#aa01302c5d51862d88f78de2293f679eb">GetGroupWithAngles</a>(det-&gt;<a class="code" href="classKVPosition.html#a0ea6f2fbe02656976de3ffd2e238075f">GetTheta</a>(), det-&gt;<a class="code" href="classKVPosition.html#ae80f70863fccfd90fd042462b7235d34">GetPhi</a>());</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;      <a class="code" href="classKVMultiDetArray.html#ad0eb6737513df681a43bea22f6a336e3">PrepareModifGroup</a>(gr, det);</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a11c61ca8b0eb91fa907aad961e234a12">GetIDTelescopesForGroup</a>(gr, <a class="code" href="classKVMultiDetArray.html#a07bfaec4d1bc948f065849f6378e815a">GetListOfIDTelescopes</a>());</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;   }</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;}</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;</div><div class="line"><a name="l03377"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#ad66b671937919b1b374c60c6ec76471f"> 3377</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#ad66b671937919b1b374c60c6ec76471f">KVMultiDetArray::SetGridsInTelescopes</a>(UInt_t run)</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;{</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;   <span class="comment">// For each grid which is valid for this run, we call the KVIDTelescope::SetIDGrid method</span></div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;   <span class="comment">// of each associated ID telescope.</span></div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;   TIter next(<a class="code" href="KVIDGridManager_8cpp.html#ae610249c6884bb85a7d4ec2d90021a0f">gIDGridManager</a>-&gt;<a class="code" href="classKVIDGridManager.html#a2aa162802ab815f02bd37a7914298182">GetGrids</a>());</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;   <a class="code" href="classKVIDGraph.html">KVIDGraph</a>* gr = 0;</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;   <span class="keywordflow">while</span> ((gr = (<a class="code" href="classKVIDGraph.html">KVIDGraph</a>*) next())) {</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;      <span class="keywordflow">if</span> (gr-&gt;GetRuns().Contains((Int_t) run)) {</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;         <span class="comment">//Info(&quot;SetGridsInTelescopes&quot;,&quot;la grille %s contient le numero de run %d&quot;,gr-&gt;GetName(),run);</span></div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;         TIter nxtid(gr-&gt;GetIDTelescopes());</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;         <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt;</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;         <span class="keywordflow">while</span> ((idt = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*) nxtid())) {</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;            <span class="comment">//Info(&quot;SetGridsInTelescopes&quot;,&quot;%s %s&quot;,idt-&gt;GetName(),idt-&gt;ClassName());</span></div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;            idt-&gt;<a class="code" href="classKVIDTelescope.html#a36e0780baa2f7d26ec65933f1da76d58">SetIDGrid</a>(gr);</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;         }</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;      }</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;   }</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;}</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;</div><div class="line"><a name="l03402"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a0bc22d0cf9cb6fc4b0ebcf5e323e4948"> 3402</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a0bc22d0cf9cb6fc4b0ebcf5e323e4948">KVMultiDetArray::FillListOfIDTelescopes</a>(<a class="code" href="classKVIDGraph.html">KVIDGraph</a>* gr)<span class="keyword"> const</span></div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;   <span class="comment">// Fill list of ID telescopes with which this grid is associated</span></div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;   <span class="comment">// from list of names read from ascii file.</span></div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;   gr-&gt;<a class="code" href="classKVIDGraph.html#afdbd1c003a293a38fc2f5dffaafbbb4f">ClearListOfTelescopes</a>();</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;   <span class="keywordflow">if</span> (gr-&gt;<a class="code" href="classKVIDGraph.html#aa946936cd846f1d6f02532c360059d88">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#ad81da56b0c9d6c38963f14421cb9eca4">HasParameter</a>(<span class="stringliteral">&quot;IDTelescopes&quot;</span>)) {</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;      <a class="code" href="classKVString.html">KVString</a> tel_list = gr-&gt;<a class="code" href="classKVIDGraph.html#aa946936cd846f1d6f02532c360059d88">GetParameters</a>()-&gt;<a class="code" href="classKVNameValueList.html#ac7100068241e27ba17a83e8eabcd9e18">GetStringValue</a>(<span class="stringliteral">&quot;IDTelescopes&quot;</span>);</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;      tel_list.<a class="code" href="classKVString.html#a09cf7b4f40f96fc75a3e1d244aecc386">Begin</a>(<span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;      <span class="keywordflow">while</span> (!tel_list.<a class="code" href="classKVString.html#a2b4b016b6db4b17ce8acdacf8c3b9f85">End</a>()) {</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;         TString tel_name = tel_list.<a class="code" href="classKVString.html#a3c430dc4fec2741cb11c6e8ba2eae185">Next</a>();</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;         <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt = <a class="code" href="classKVMultiDetArray.html#ad915cf18454f95b852e13d3816a51abf">GetIDTelescope</a>(tel_name.Data()) ;</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;         <span class="keywordflow">if</span> (idt) gr-&gt;<a class="code" href="classKVIDGraph.html#a4687cdeefb465f933ed02eb5d3861b88">AddIDTelescope</a>(idt);</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;      }</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;   }</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;}</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;</div><div class="line"><a name="l03431"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a94b2271787563af7389858309a0055d4"> 3431</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a94b2271787563af7389858309a0055d4">KVMultiDetArray::Draw</a>(Option_t* option)</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;{</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;   <span class="comment">// Use OpenGL viewer to view multidetector geometry (only for ROOT geometries)</span></div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;   <span class="comment">// If option=&quot;tracks&quot; we draw any tracks corresponding to the last simulated</span></div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;   <span class="comment">// event whose detection was simulated with DetectEvent</span></div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;   <span class="comment">// If option=&quot;tracks:[numberlist]&quot; with a list of numbers,</span></div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;   <span class="comment">// it will be interpreted as a KVNumberList containing the Z of tracks to be drawn</span></div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;   <span class="comment">//    e.g. option=&quot;tracks:1-92&quot; draw only tracks with 1&lt;=Z&lt;=92 (no neutrons)</span></div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;   <span class="comment">//         option=&quot;tracks:2&quot;    draw only helium isotopes</span></div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVMultiDetArray.html#a03411dfb64018cc61f25d20576e4e584">IsROOTGeometry</a>()) {</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;      <a class="code" href="classKVMultiDetArray.html#a9d47525150fdb078d289a7d77487ecff">GetGeometry</a>()-&gt;GetTopVolume()-&gt;Draw(<span class="stringliteral">&quot;ogl&quot;</span>);</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;      <a class="code" href="classKVString.html">KVString</a> opt(option);</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;      opt.<a class="code" href="classKVString.html#a09cf7b4f40f96fc75a3e1d244aecc386">Begin</a>(<span class="stringliteral">&quot;:&quot;</span>);</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;      <span class="keywordflow">if</span> (opt.<a class="code" href="classKVString.html#a3c430dc4fec2741cb11c6e8ba2eae185">Next</a>() == <span class="stringliteral">&quot;tracks&quot;</span>) {</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;         <span class="keywordflow">if</span> (!opt.<a class="code" href="classKVString.html#a2b4b016b6db4b17ce8acdacf8c3b9f85">End</a>()) {</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;            <a class="code" href="classKVNumberList.html">KVNumberList</a> zlist(opt.<a class="code" href="classKVString.html#a3c430dc4fec2741cb11c6e8ba2eae185">Next</a>());</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;            <a class="code" href="classKVMultiDetArray.html#a64ab5564b31d33afa5ffbe58da309dda">GetNavigator</a>()-&gt;<a class="code" href="classKVGeoNavigator.html#afca341c042557cca81471b6971690bbf">DrawTracks</a>(&amp;zlist);</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;         }</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;            <a class="code" href="classKVMultiDetArray.html#a64ab5564b31d33afa5ffbe58da309dda">GetNavigator</a>()-&gt;<a class="code" href="classKVGeoNavigator.html#afca341c042557cca81471b6971690bbf">DrawTracks</a>();</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;      }</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;<span class="preprocessor">#ifdef WITH_OPENGL</span></div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;      TGLViewer* view = (TGLViewer*)gPad-&gt;GetViewer3D();</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;      view-&gt;SetCurrentCamera(TGLViewer::kCameraPerspYOZ);</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;      view-&gt;SetStyle(TGLRnrCtx::kOutline);</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;      view-&gt;SetSmoothLines(kTRUE);</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;      view-&gt;SetSmoothPoints(kTRUE);</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;   }</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;   <span class="keywordflow">else</span> Error(<span class="stringliteral">&quot;Draw&quot;</span>, <span class="stringliteral">&quot;Only ROOT geometries can be viewed&quot;</span>);</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;}</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;</div><div class="line"><a name="l03469"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#aecd2f4127285d2dd2a559b983087e32a"> 3469</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#aecd2f4127285d2dd2a559b983087e32a">KVMultiDetArray::SetNavigator</a>(<a class="code" href="classKVGeoNavigator.html">KVGeoNavigator</a>* geo)</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;{</div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">fNavigator</a> = (<a class="code" href="classKVRangeTableGeoNavigator.html">KVRangeTableGeoNavigator</a>*)geo;</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;}</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;</div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;</div><div class="line"><a name="l03481"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a0fbe6b0b650bc4ecae648c371970a02f"> 3481</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a0fbe6b0b650bc4ecae648c371970a02f">KVMultiDetArray::MakeHistogramsForAllIDTelescopes</a>(<a class="code" href="classKVSeqCollection.html">KVSeqCollection</a>* list, Int_t dimension)</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;{</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;   <span class="comment">// Create TH2F histograms for all IDTelescopes of the array</span></div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;   <span class="comment">// They will be added to the list</span></div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;   <span class="comment">// histograms will have resolution of dimension*dimension</span></div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;   TIter it(<a class="code" href="classKVMultiDetArray.html#a07bfaec4d1bc948f065849f6378e815a">GetListOfIDTelescopes</a>());</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;   <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt;</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;   <span class="keywordflow">while</span> ((idt = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)it())) {</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;      TString name(idt-&gt;GetName());</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;      name.ReplaceAll(<span class="stringliteral">&quot;-&quot;</span>, <span class="stringliteral">&quot;_&quot;</span>);</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;      list-&gt;<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(<span class="keyword">new</span> TH2F(name, Form(<span class="stringliteral">&quot;Hits in %s&quot;</span>, idt-&gt;GetName()), dimension, 0., 0., dimension, 0., 0.));</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;   }</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;}</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;</div><div class="line"><a name="l03501"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a45260ad70596597dbb3655dc27b269a9"> 3501</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a45260ad70596597dbb3655dc27b269a9">KVMultiDetArray::FillHistogramsForAllIDTelescopes</a>(<a class="code" href="classKVSeqCollection.html">KVSeqCollection</a>* list)</div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;{</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;   <span class="comment">// Fill TH2F histograms for all IDTelescopes of the array</span></div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;   TIter it(<a class="code" href="classKVMultiDetArray.html#a07bfaec4d1bc948f065849f6378e815a">GetListOfIDTelescopes</a>());</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;   <a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>* idt;</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;   <span class="keywordflow">while</span> ((idt = (<a class="code" href="classKVIDTelescope.html">KVIDTelescope</a>*)it())) {</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;      TString name(idt-&gt;GetName());</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;      name.ReplaceAll(<span class="stringliteral">&quot;-&quot;</span>, <span class="stringliteral">&quot;_&quot;</span>);</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;      TH2F* h = (TH2F*)list-&gt;<a class="code" href="classKVSeqCollection.html#afd4b90b8bb56e3f9334078523795c104">FindObject</a>(name);</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;      <span class="keywordflow">if</span> (h) h-&gt;Fill(idt-&gt;<a class="code" href="classKVIDTelescope.html#a2e3cfe63cf7256804876625c36da36e4">GetIDMapX</a>(), idt-&gt;<a class="code" href="classKVIDTelescope.html#a051f7c6f30ce1c531a78adac2542fb7e">GetIDMapY</a>());</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;   }</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;}</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;</div><div class="line"><a name="l03520"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a77a3d850c4624a79561ae484d9e05bcc"> 3520</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a77a3d850c4624a79561ae484d9e05bcc">KVMultiDetArray::SetDetectorTransparency</a>(Char_t t)</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;{</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;   <span class="comment">// Modify the transparency of detector volumes in OpenGL view</span></div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;   TIter itV(<a class="code" href="classKVMultiDetArray.html#a9d47525150fdb078d289a7d77487ecff">GetGeometry</a>()-&gt;GetListOfVolumes());</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;   TGeoVolume* vol;</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;   <span class="keywordflow">while</span> ((vol = (TGeoVolume*)itV())) vol-&gt;SetTransparency(t);</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;}</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;</div><div class="line"><a name="l03535"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#ad9cc49455cee4bd01a9a0ad394fa29cb"> 3535</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#ad9cc49455cee4bd01a9a0ad394fa29cb">KVMultiDetArray::CalculateReconstructionTrajectories</a>()</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;{</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;   <span class="comment">// Calculate all possible (sub-)trajectories</span></div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;   <span class="comment">// for particle reconstruction (GetReconTrajectories())</span></div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;   unique_ptr&lt;KVSeqCollection&gt; groups(<a class="code" href="classKVGeoStrucElement.html#ac15228a74ea3508ebec6e269a2e0821a">GetStructureTypeList</a>(<span class="stringliteral">&quot;GROUP&quot;</span>));</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;   TIter it(groups.get());</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;   <a class="code" href="classKVGroup.html">KVGroup</a>* group;</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;   Int_t ntr = 0;</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;   Info(<span class="stringliteral">&quot;CalculateReconstructionTrajectories&quot;</span>, <span class="stringliteral">&quot;Calculating trajectories for particle reconstruction:&quot;</span>);</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVDataAnalyser.html#aa7f3043eee39a220de523b665e485f06">KVDataAnalyser::IsRunningBatchAnalysis</a>())</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;\xd&quot;</span> &lt;&lt; <span class="stringliteral">&quot; -- calculated &quot;</span> &lt;&lt; ntr &lt;&lt; <span class="stringliteral">&quot; reconstruction trajectories&quot;</span> &lt;&lt; std::flush;</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;   <span class="keywordflow">while</span> ((group = (<a class="code" href="classKVGroup.html">KVGroup</a>*)it())) {</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;      ntr += group-&gt;CalculateReconstructionTrajectories();</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classKVDataAnalyser.html#aa7f3043eee39a220de523b665e485f06">KVDataAnalyser::IsRunningBatchAnalysis</a>())</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;         std::cout &lt;&lt; <span class="stringliteral">&quot;\xd&quot;</span> &lt;&lt; <span class="stringliteral">&quot; -- calculated &quot;</span> &lt;&lt; ntr &lt;&lt; <span class="stringliteral">&quot; reconstruction trajectories&quot;</span> &lt;&lt; std::flush;</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;   }</div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVDataAnalyser.html#aa7f3043eee39a220de523b665e485f06">KVDataAnalyser::IsRunningBatchAnalysis</a>())</div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot; -- calculated &quot;</span> &lt;&lt; ntr &lt;&lt; <span class="stringliteral">&quot; reconstruction trajectories&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;      std::cout &lt;&lt; std::endl;</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;}</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;</div><div class="line"><a name="l03567"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a1b257ecf03d4b8a242f8293af3c3c875"> 3567</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a1b257ecf03d4b8a242f8293af3c3c875">KVMultiDetArray::DeduceIdentificationTelescopesFromGeometry</a>()</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;{</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;   <span class="comment">// Track over all possible particle trajectories calling</span></div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;   <span class="comment">//   GetIDTelescopes(KVDetector*,KVDetector*)</span></div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;   <span class="comment">// for each pair of (present &amp; functioning) detectors.</span></div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;   <span class="comment">// This will create all possible KVIDTelescope identification</span></div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;   <span class="comment">// objects and put them in list fIDTelescopes</span></div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;</div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">fIDTelescopes</a>-&gt;<a class="code" href="classKVSeqCollection.html#af9525ec4e1fd6173129beb3ad68ec498">Delete</a>();</div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;   TIter next_traj(<a class="code" href="classKVMultiDetArray.html#a89331d593797477a1471a3a8a66910e0">GetTrajectories</a>());</div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;   <a class="code" href="classKVGeoDNTrajectory.html">KVGeoDNTrajectory</a>* traj;</div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;   Int_t count = 0;</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;   Info(<span class="stringliteral">&quot;DeduceIdentificationTelescopesFromGeometry&quot;</span>, <span class="stringliteral">&quot;Calculating...&quot;</span>);</div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVDataAnalyser.html#aa7f3043eee39a220de523b665e485f06">KVDataAnalyser::IsRunningBatchAnalysis</a>())</div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;\xd&quot;</span> &lt;&lt; <span class="stringliteral">&quot; -- created &quot;</span> &lt;&lt; count &lt;&lt; <span class="stringliteral">&quot; telescopes&quot;</span> &lt;&lt; std::flush;</div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;   <span class="keywordflow">while</span> ((traj = (<a class="code" href="classKVGeoDNTrajectory.html">KVGeoDNTrajectory</a>*)next_traj())) {   <span class="comment">// loop over all trajectories</span></div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;      traj-&gt;<a class="code" href="classKVGeoDNTrajectory.html#a75e09fa430860b18e29a9cd075cf494f">IterateFrom</a>();   <span class="comment">// from furthest-out to closest-in detector</span></div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;</div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;      <a class="code" href="classKVGeoDetectorNode.html">KVGeoDetectorNode</a>* N;</div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;      <span class="keywordflow">while</span> ((N = traj-&gt;<a class="code" href="classKVGeoDNTrajectory.html#a1b1c7be8ea445285231997d1de7ac7f5">GetNextNode</a>())) {</div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;         <a class="code" href="classKVGeoDetectorNode.html">KVGeoDetectorNode</a>* Nplus1 = traj-&gt;<a class="code" href="classKVGeoDNTrajectory.html#aa7e4a01eea564c3d2b638ef96a6be0df">GetNodeInFront</a>(N);</div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;</div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;         <span class="keywordflow">if</span> (Nplus1) {</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;            count += <a class="code" href="classKVMultiDetArray.html#a68318a8f8303e84f60878e195af353f2">GetIDTelescopes</a>(Nplus1-&gt;<a class="code" href="classKVGeoDetectorNode.html#a5be4a56c807f89da29f4106fb7cf18b1">GetDetector</a>(), N-&gt;<a class="code" href="classKVGeoDetectorNode.html#a5be4a56c807f89da29f4106fb7cf18b1">GetDetector</a>(), traj-&gt;<a class="code" href="classKVGeoDNTrajectory.html#a2de07c919cf48d6b75fbecb2a0c2c8a8">AccessIDTelescopeList</a>());</div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classKVDataAnalyser.html#aa7f3043eee39a220de523b665e485f06">KVDataAnalyser::IsRunningBatchAnalysis</a>())</div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;               std::cout &lt;&lt; <span class="stringliteral">&quot;\xd&quot;</span> &lt;&lt; <span class="stringliteral">&quot; -- created &quot;</span> &lt;&lt; count &lt;&lt; <span class="stringliteral">&quot; telescopes&quot;</span> &lt;&lt; std::flush;</div><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;         }</div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;      }</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;   }</div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="classKVDataAnalyser.html#aa7f3043eee39a220de523b665e485f06">KVDataAnalyser::IsRunningBatchAnalysis</a>())</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot; -- created &quot;</span> &lt;&lt; count &lt;&lt; <span class="stringliteral">&quot; telescopes&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;      std::cout &lt;&lt; std::endl;</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;}</div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;</div><div class="line"><a name="l03610"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#ae7fa572a422c8aab8d670ef3c5d2b582"> 3610</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#ae7fa572a422c8aab8d670ef3c5d2b582">KVMultiDetArray::AssociateTrajectoriesAndNodes</a>()</div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;{</div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;   <span class="comment">// Eliminate any trajectories which are just sub-trajectories of others</span></div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;   <span class="comment">// For each trajectory in list fTrajectories, we add a reference to the trajectory to each node on the trajectory</span></div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;   <span class="comment">// We also fill the trajectory list of each group</span></div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;</div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;   TIter it(&amp;<a class="code" href="classKVMultiDetArray.html#adb623aa6851f3ae0e057587ef7eb9dc4">fTrajectories</a>);</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;   <a class="code" href="classKVGeoDNTrajectory.html">KVGeoDNTrajectory</a>* tr;</div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;   <a class="code" href="classKVList.html">KVList</a> duplicates;</div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;   <span class="comment">// look for duplicate sub-trajectories</span></div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;   <span class="keywordflow">while</span> ((tr = (<a class="code" href="classKVGeoDNTrajectory.html">KVGeoDNTrajectory</a>*)it())) {</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;      <span class="keywordtype">int</span> len_tr = tr-&gt;<a class="code" href="classKVGeoDNTrajectory.html#a00b3d6bea25cfaf134b2fb1163aedfcd">GetN</a>();</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;      TIter it2(&amp;<a class="code" href="classKVMultiDetArray.html#adb623aa6851f3ae0e057587ef7eb9dc4">fTrajectories</a>);</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;      <a class="code" href="classKVGeoDNTrajectory.html">KVGeoDNTrajectory</a>* tr2;</div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;      <span class="keywordflow">while</span> ((tr2 = (<a class="code" href="classKVGeoDNTrajectory.html">KVGeoDNTrajectory</a>*)it2())) {</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;         <span class="keywordflow">if</span> ((tr2 != tr) &amp;&amp; (len_tr &lt; tr2-&gt;GetN()) &amp;&amp; (tr2-&gt;<a class="code" href="classKVGeoDNTrajectory.html#a92acdbe77c732f196fdf57a5a705bfee">ContainsPath</a>(tr))) {</div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;            duplicates.<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(tr);</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;         }</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;      }</div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;   }</div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;   <span class="comment">// remove duplicates</span></div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;   <span class="keywordflow">if</span> (duplicates.GetEntries()) {</div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;      TIter it_dup(&amp;duplicates);</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;      <span class="keywordflow">while</span> ((tr = (<a class="code" href="classKVGeoDNTrajectory.html">KVGeoDNTrajectory</a>*)it_dup())) {</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;         <a class="code" href="classKVMultiDetArray.html#adb623aa6851f3ae0e057587ef7eb9dc4">fTrajectories</a>.<a class="code" href="classKVSeqCollection.html#af8e06106d2e2e33c431ce62153e6c507">Remove</a>(tr);</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;      }</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;      Info(<span class="stringliteral">&quot;AssociateTrajectoriesAndNodes&quot;</span>, <span class="stringliteral">&quot;Removed %d duplicated sub-trajectories&quot;</span>, duplicates.GetEntries());</div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;   }</div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;   Info(<span class="stringliteral">&quot;AssociateTrajectoriesAndNodes&quot;</span>, <span class="stringliteral">&quot;Calculated %d particle trajectories&quot;</span>, <a class="code" href="classKVMultiDetArray.html#adb623aa6851f3ae0e057587ef7eb9dc4">fTrajectories</a>.GetEntries());</div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;   it.Reset();</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;   <span class="keywordflow">while</span> ((tr = (<a class="code" href="classKVGeoDNTrajectory.html">KVGeoDNTrajectory</a>*)it())) {</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;      tr-&gt;<a class="code" href="classKVGeoDNTrajectory.html#a750b5f58f7ee589c0068f49c697cea5f">AddToNodes</a>();</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;      tr-&gt;<a class="code" href="classKVGeoDNTrajectory.html#afa700e88f9cb8f35b980978bb6fa818f">GetNodeAt</a>(0)-&gt;<a class="code" href="classKVGeoDetectorNode.html#a5be4a56c807f89da29f4106fb7cf18b1">GetDetector</a>()-&gt;<a class="code" href="classKVDetector.html#a36c14085e0ec80f25c1bf8fd47e1232f">GetGroup</a>()-&gt;<a class="code" href="classKVGroup.html#a033e1e67719e7ef083af1224acf5406b">AddTrajectory</a>(tr);</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;   }</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;}</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;</div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;</div><div class="line"><a name="l03653"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a849e85bb6dbee9ba7f5d46158137bd49"> 3653</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a849e85bb6dbee9ba7f5d46158137bd49">KVMultiDetArray::FillDetectorList</a>(<a class="code" href="classKVReconstructedNucleus.html">KVReconstructedNucleus</a>*, <a class="code" href="classKVHashList.html">KVHashList</a>* DetList, <span class="keyword">const</span> <a class="code" href="classKVString.html">KVString</a>&amp; DetNames)</div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;{</div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;   <span class="comment">// Called when required to fill KVReconstructedNucleus::fDetList with pointers to</span></div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;   <span class="comment">// the detectors whose names are stored in KVReconstructedNucleus::fDetNames.</span></div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;   DetList-&gt;<a class="code" href="classKVSeqCollection.html#a5edbe1ce090e93f70da107c1dc5abbe1">Clear</a>();</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;   DetNames.<a class="code" href="classKVString.html#a09cf7b4f40f96fc75a3e1d244aecc386">Begin</a>(<span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;   <span class="keywordflow">while</span> (!DetNames.<a class="code" href="classKVString.html#a2b4b016b6db4b17ce8acdacf8c3b9f85">End</a>()) {</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;      <a class="code" href="classKVDetector.html">KVDetector</a>* det = <a class="code" href="classKVGeoStrucElement.html#a48ff5d8e5e2146aa86d3a2b30f338487">GetDetector</a>(DetNames.<a class="code" href="classKVString.html#a3c430dc4fec2741cb11c6e8ba2eae185">Next</a>(kTRUE));</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;      <span class="keywordflow">if</span> (det) DetList-&gt;<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(det);</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;   }</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;}</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;</div><div class="line"><a name="l03679"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#aebbc3a6b2a0c372ea51f9516a25ec91e"> 3679</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#aebbc3a6b2a0c372ea51f9516a25ec91e">KVMultiDetArray::AcceptParticleForAnalysis</a>(<a class="code" href="classKVReconstructedNucleus.html">KVReconstructedNucleus</a>* NUC)<span class="keyword"> const</span></div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;   <span class="comment">// Set status (IsOK) of particle by comparing its identification/calibration codes</span></div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;   <span class="comment">// with those set as acceptable in fAcceptIDCodes and fAcceptECodes.</span></div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;   <span class="comment">// The default lists are defined in variables of the form</span></div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;   <span class="comment">//   [DataSet].[name].ReconstructedNuclei.AcceptIDCodes:  [list]</span></div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;   <span class="comment">//   [DataSet].[name].ReconstructedNuclei.AcceptECodes:  [list]</span></div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;   <span class="comment">// where DataSet is an optional dataset name for dataset-specific lists</span></div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;   <span class="comment">//       name is the name of the multidetector array</span></div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;   <span class="comment">//       list is a numeric list (KVNumberList format)</span></div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;   <span class="comment">// If either list is empty, no selection is made for the corresponding code</span></div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;   Bool_t ok = kTRUE;</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a0d3553a3453b97072f024af2059a218f">fAcceptIDCodes</a>.<a class="code" href="classKVNumberList.html#ad4860304ca76b17bd01a564019b4ac1f">IsEmpty</a>()) ok = <a class="code" href="classKVMultiDetArray.html#a0d3553a3453b97072f024af2059a218f">fAcceptIDCodes</a>.<a class="code" href="classKVNumberList.html#a2bbb2cfe1b472ee4c049f69fd801cffe">Contains</a>(NUC-&gt;<a class="code" href="classKVReconstructedNucleus.html#a854cb154b2553d86534dc723a9204a86">GetIDCode</a>());</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a017fffe44394e279fdd2958525641c2a">fAcceptECodes</a>.<a class="code" href="classKVNumberList.html#ad4860304ca76b17bd01a564019b4ac1f">IsEmpty</a>()) ok = ok &amp;&amp; <a class="code" href="classKVMultiDetArray.html#a017fffe44394e279fdd2958525641c2a">fAcceptECodes</a>.<a class="code" href="classKVNumberList.html#a2bbb2cfe1b472ee4c049f69fd801cffe">Contains</a>(NUC-&gt;<a class="code" href="classKVReconstructedNucleus.html#a4c8452371e50787e48287f092461b767">GetECode</a>());</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;   NUC-&gt;<a class="code" href="classKVParticle.html#a0ae34ffdf7b6f767733ba8c08b278789">SetIsOK</a>(ok);</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;}</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;</div><div class="line"><a name="l03706"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a35971cf98f9284d9c565536dafc3ba56"> 3706</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVMultiDetArray.html#a35971cf98f9284d9c565536dafc3ba56">KVMultiDetArray::SetMinimumOKMultiplicity</a>(<a class="code" href="classKVEvent.html">KVEvent</a>* e)<span class="keyword"> const</span></div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;   <span class="comment">// Set the minimum number of particles which are &quot;OK&quot; in the event</span></div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;   <span class="comment">// (usually a KVReconstructedEvent) for it to be retained for analysis.</span></div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;   <span class="comment">// This could, for example, depend on the experimental multiplicity trigger</span></div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;   <span class="comment">// used during the run.</span></div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;   <span class="comment">// This default version sets a minimum of 1 &quot;OK&quot; particle</span></div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;   e-&gt;<a class="code" href="classKVEvent.html#a63269e241c1d055b9bdc3fcab1c92424">SetMinimumOKMultiplicity</a>(1);</div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;}</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;</div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;</div><div class="line"><a name="l03722"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a85991ca6a61acc62268816000f58f568"> 3722</a></span>&#160;Bool_t <a class="code" href="classKVMultiDetArray.html#a85991ca6a61acc62268816000f58f568">KVMultiDetArray::handle_raw_data_event_ebyedat</a>(<a class="code" href="classKVGANILDataReader.html">KVGANILDataReader</a>&amp;)</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;{</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;   <span class="comment">// General method for reading raw data in old GANIL ebyedat format</span></div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;   <span class="comment">// Values of all KVACQParam objects appearing in the event are updated</span></div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;   AbstractMethod(<span class="stringliteral">&quot;handle_raw_data_event_ebyedat&quot;</span>);</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;   <span class="keywordflow">return</span> kFALSE;</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;}</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;</div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;</div><div class="line"><a name="l03738"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#aa717871057b987b563a8facb5a5a0659"> 3738</a></span>&#160;Bool_t <a class="code" href="classKVMultiDetArray.html#aa717871057b987b563a8facb5a5a0659">KVMultiDetArray::HandleRawDataEvent</a>(<a class="code" href="classKVRawDataReader.html">KVRawDataReader</a>* rawdata)</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;{</div><div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;   <span class="comment">// Update array according to last event read using the KVRawDataReader object</span></div><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;   <span class="comment">// (it is assumed that KVRawDataReader::GetNextEvent() was called before calling this method)</span></div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;   <span class="comment">// Return kTRUE if raw data was treated</span></div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;</div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;<span class="preprocessor">#ifdef WITH_MFM</span></div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;   <span class="keywordflow">if</span> (rawdata-&gt;<a class="code" href="classKVRawDataReader.html#acc74143275fc91129baeed9c2f37816b">GetDataFormat</a>() == <span class="stringliteral">&quot;MFM&quot;</span>) <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a91fd9f15c3922a7306cd8f51d2903f36">handle_raw_data_event_mfmfile</a>((<a class="code" href="classKVMFMDataFileReader.html">KVMFMDataFileReader</a>&amp;)(*rawdata));</div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;      <span class="keywordflow">if</span> (rawdata-&gt;<a class="code" href="classKVRawDataReader.html#acc74143275fc91129baeed9c2f37816b">GetDataFormat</a>() == <span class="stringliteral">&quot;EBYEDAT&quot;</span>) <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a85991ca6a61acc62268816000f58f568">handle_raw_data_event_ebyedat</a>((<a class="code" href="classKVGANILDataReader.html">KVGANILDataReader</a>&amp;)(*rawdata));</div><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;   <span class="keywordflow">return</span> kFALSE;</div><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;}</div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;<span class="preprocessor">#ifdef WITH_MFM</span></div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;</div><div class="line"><a name="l03762"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a91fd9f15c3922a7306cd8f51d2903f36"> 3762</a></span>&#160;Bool_t <a class="code" href="classKVMultiDetArray.html#a91fd9f15c3922a7306cd8f51d2903f36">KVMultiDetArray::handle_raw_data_event_mfmfile</a>(<a class="code" href="classKVMFMDataFileReader.html">KVMFMDataFileReader</a>&amp; mfmreader)</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;{</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;   <span class="comment">// Update array according to last event read using the KVMFMDataFileReader object</span></div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;   <span class="comment">// (it is assumed that KVRawDataReader::GetNextEvent() was called before calling this method)</span></div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;   <span class="comment">// Return kTRUE if raw data was treated</span></div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;   <span class="keywordflow">if</span> (mfmreader.IsFrameReadMerge()) {</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a24498573c3b6c6ecb80195a193e4d6ac">handle_raw_data_event_mfmmergeframe</a>(mfmreader.<a class="code" href="classKVMFMDataFileReader.html#a319b73b5ac06c1b356ae5ec88c97d305">GetMergeManager</a>());</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;   }</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;   <span class="keywordflow">else</span> {</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a9968eab60718ee341f209d5bc1f1a20c">handle_raw_data_event_mfmframe</a>(mfmreader.GetFrameRead());</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;   }</div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;   <span class="keywordflow">return</span> kFALSE;</div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;}</div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;</div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;</div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;</div><div class="line"><a name="l03784"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a24498573c3b6c6ecb80195a193e4d6ac"> 3784</a></span>&#160;Bool_t <a class="code" href="classKVMultiDetArray.html#a24498573c3b6c6ecb80195a193e4d6ac">KVMultiDetArray::handle_raw_data_event_mfmmergeframe</a>(<span class="keyword">const</span> MFMMergeFrameManager&amp; mergeframe)</div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;{</div><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;   <span class="comment">// Method used to handle merged MFM frames</span></div><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;   <span class="comment">// We call handle_raw_data_event_mfmframe() for each frame contained in the merge</span></div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;</div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;   Bool_t ok = <span class="keyword">false</span>;</div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;   <span class="keywordflow">while</span> (mergeframe.ReadNextFrame()) {</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;      Bool_t <a class="code" href="namespaceme.html">me</a> = <a class="code" href="classKVMultiDetArray.html#a9968eab60718ee341f209d5bc1f1a20c">handle_raw_data_event_mfmframe</a>(mergeframe.GetFrameRead());</div><div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;      ok = (ok || me);</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;   }</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;   <span class="keywordflow">return</span> ok;</div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;}</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;</div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;</div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;</div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;</div><div class="line"><a name="l03807"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a9968eab60718ee341f209d5bc1f1a20c"> 3807</a></span>&#160;Bool_t <a class="code" href="classKVMultiDetArray.html#a9968eab60718ee341f209d5bc1f1a20c">KVMultiDetArray::handle_raw_data_event_mfmframe</a>(<span class="keyword">const</span> MFMCommonFrame&amp; mfmframe)</div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;{</div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;   <span class="comment">// Method used to treat raw data in MFM format read by KVMFMDataFileReader</span></div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;   <span class="comment">// A generic method is provided to treat MFM-encapsulated ebyedat data</span></div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;   <span class="comment">//   - see handle_raw_data_event_mfmframe_ebyedat(const MFMEbyedatFrame&amp;)</span></div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;   <span class="comment">// Treatment of other frame types will need to be implemented in child classes.</span></div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;   <span class="comment">// Return kTRUE if raw data was treated</span></div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;</div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">fACQParams</a>) <span class="keywordflow">return</span> kFALSE;<span class="comment">// no (ebyedat) acquisition parameters defined for array</span></div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;</div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;   <span class="keywordflow">if</span> (mfmframe.GetFrameType() == MFM_EBY_EN_FRAME_TYPE</div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;         || mfmframe.GetFrameType() == MFM_EBY_TS_FRAME_TYPE</div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;         || mfmframe.GetFrameType() == MFM_EBY_EN_TS_FRAME_TYPE)</div><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classKVMultiDetArray.html#a0c7f73be44e79305fe8e67d7029e4753">handle_raw_data_event_mfmframe_ebyedat</a>((<span class="keyword">const</span> MFMEbyedatFrame&amp;)mfmframe);</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;   <span class="keywordflow">return</span> kFALSE;</div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;}</div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;</div><div class="line"><a name="l03835"></a><span class="lineno"><a class="line" href="classKVMultiDetArray.html#a0c7f73be44e79305fe8e67d7029e4753"> 3835</a></span>&#160;Bool_t <a class="code" href="classKVMultiDetArray.html#a0c7f73be44e79305fe8e67d7029e4753">KVMultiDetArray::handle_raw_data_event_mfmframe_ebyedat</a>(<span class="keyword">const</span> MFMEbyedatFrame&amp; ebyframe)</div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;{</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;   <span class="comment">// General method for reading raw data in MFM-encapsulated ebyedat format</span></div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;   <span class="comment">// Values of all KVACQParam objects appearing in the event are updated</span></div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;   <span class="comment">// (first set all parameter values to (UShort_t)-1).</span></div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;   <span class="comment">// Fills list of hit acquisition parameters.</span></div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;   <span class="comment">// Returns kTRUE if at least one parameter belonging to the array is present.</span></div><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;   uint16_t val;</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;   <span class="keywordtype">string</span> lab;</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;   <a class="code" href="classKVACQParam.html">KVACQParam</a>* acqpar;</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;   Bool_t ok = <span class="keyword">false</span>;</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;   TIter it(<a class="code" href="classKVMultiDetArray.html#ae5a033c03d756ba1809baa5f317daf2c">GetACQParams</a>());</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;   <span class="keywordflow">while</span> ((acqpar = (<a class="code" href="classKVACQParam.html">KVACQParam</a>*)it())) acqpar-&gt;<a class="code" href="classKVACQParam.html#a7958fba5bcd289315acb39465d3a1a45">Clear</a>();</div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;   <a class="code" href="classKVMultiDetArray.html#a36a6f1a9b90b2af504ab6610c55ede2a">fFiredACQParams</a>.<a class="code" href="classKVSeqCollection.html#a5edbe1ce090e93f70da107c1dc5abbe1">Clear</a>();</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;</div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ebyframe.GetNbItems(); ++i) {</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;      ebyframe.GetDataItem(i, lab, val);</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;      <span class="keywordflow">if</span> ((acqpar = <a class="code" href="classKVMultiDetArray.html#ab8899bed5ec9e5306e9366ca6f9da960">GetACQParam</a>(lab.c_str()))) {</div><div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;         acqpar-&gt;<a class="code" href="classKVACQParam.html#ae7456bcbcef8554e0e1ce46e976144d2">SetData</a>(val);</div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;         <a class="code" href="classKVMultiDetArray.html#a36a6f1a9b90b2af504ab6610c55ede2a">fFiredACQParams</a>.<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(acqpar);</div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;         ok = kTRUE;</div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;      }</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;   }</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;   <span class="keywordflow">if</span> (ok) <a class="code" href="classKVMultiDetArray.html#a36a6f1a9b90b2af504ab6610c55ede2a">fFiredACQParams</a>.ls();</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;</div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;   <span class="keywordflow">return</span> ok;</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;}</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;</div><div class="ttc" id="classKVIDTelescope_html_a19678d488b3e31d3cdfdc1bbdb585b40"><div class="ttname"><a href="classKVIDTelescope.html#a19678d488b3e31d3cdfdc1bbdb585b40">KVIDTelescope::SetGroup</a></div><div class="ttdeci">void SetGroup(KVGroup *kvg)</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8cpp_source.html#l00395">KVIDTelescope.cpp:395</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ad0957486eddcaaac12bb2534c3e8f578"><div class="ttname"><a href="classKVMultiDetArray.html#ad0957486eddcaaac12bb2534c3e8f578">KVMultiDetArray::fFilterType</a></div><div class="ttdeci">Int_t fFilterType</div><div class="ttdoc">type of filtering (used by DetectEvent) </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00076">KVMultiDetArray.h:76</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a71098007b7dcfe1f49386c8012beefa4"><div class="ttname"><a href="classKVMultiDetArray.html#a71098007b7dcfe1f49386c8012beefa4">KVMultiDetArray::Clear</a></div><div class="ttdeci">virtual void Clear(Option_t *opt=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01621">KVMultiDetArray.cpp:1621</a></div></div>
<div class="ttc" id="classKVUpDater_html_aa65977b57b50b942d71db73e21653157"><div class="ttname"><a href="classKVUpDater.html#aa65977b57b50b942d71db73e21653157">KVUpDater::SetIdentificationParameters</a></div><div class="ttdeci">virtual void SetIdentificationParameters(UInt_t)</div><div class="ttdef"><b>Definition:</b> <a href="KVUpDater_8cpp_source.html#l00163">KVUpDater.cpp:163</a></div></div>
<div class="ttc" id="classKVParticle_html_a7a2809e4949fda47f65f97eee666ad1f"><div class="ttname"><a href="classKVParticle.html#a7a2809e4949fda47f65f97eee666ad1f">KVParticle::GetE</a></div><div class="ttdeci">Double_t GetE() const</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8h_source.html#l00252">KVParticle.h:252</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a1a6a0ae1878ac5df37cfafaede899340"><div class="ttname"><a href="classKVReconstructedNucleus.html#a1a6a0ae1878ac5df37cfafaede899340">KVReconstructedNucleus::SetAMeasured</a></div><div class="ttdeci">virtual void SetAMeasured(Bool_t yes=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00301">KVReconstructedNucleus.h:301</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a6e3f1b0eaea07656f816c8ee0302ad05"><div class="ttname"><a href="classKVIDTelescope.html#a6e3f1b0eaea07656f816c8ee0302ad05">KVIDTelescope::CanIdentify</a></div><div class="ttdeci">virtual Bool_t CanIdentify(Int_t Z, Int_t)</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8h_source.html#l00226">KVIDTelescope.h:226</a></div></div>
<div class="ttc" id="KVNamedParameter_8h_html"><div class="ttname"><a href="KVNamedParameter_8h.html">KVNamedParameter.h</a></div></div>
<div class="ttc" id="classKVRangeTableGeoNavigator_html_a88668e1992f904fc6bfd62f85c344b2e"><div class="ttname"><a href="classKVRangeTableGeoNavigator.html#a88668e1992f904fc6bfd62f85c344b2e">KVRangeTableGeoNavigator::CheckIonForRangeTable</a></div><div class="ttdeci">Bool_t CheckIonForRangeTable(Int_t Z, Int_t A)</div><div class="ttdef"><b>Definition:</b> <a href="KVRangeTableGeoNavigator_8h_source.html#l00044">KVRangeTableGeoNavigator.h:44</a></div></div>
<div class="ttc" id="classKVSeqCollection_html_a50a61ec8a84ae8f5c42afd2b27a12b60"><div class="ttname"><a href="classKVSeqCollection.html#a50a61ec8a84ae8f5c42afd2b27a12b60">KVSeqCollection::SetOwner</a></div><div class="ttdeci">virtual void SetOwner(Bool_t enable=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8h_source.html#l00162">KVSeqCollection.h:162</a></div></div>
<div class="ttc" id="classKVReconstructedEvent_html_a4d354ed9fa1f101bf1b159956b2058ca"><div class="ttname"><a href="classKVReconstructedEvent.html#a4d354ed9fa1f101bf1b159956b2058ca">KVReconstructedEvent::IdentifyEvent</a></div><div class="ttdeci">virtual void IdentifyEvent()</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedEvent_8cpp_source.html#l00241">KVReconstructedEvent.cpp:241</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aa29e190e64c6eb7ec1f0c0f96acfbaaa"><div class="ttname"><a href="classKVMultiDetArray.html#aa29e190e64c6eb7ec1f0c0f96acfbaaa">KVMultiDetArray::DrawPunchThroughZVsVpar</a></div><div class="ttdeci">virtual TGraph * DrawPunchThroughZVsVpar(const Char_t *detector, Int_t massform=KVNucleus::kBetaMass)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03003">KVMultiDetArray.cpp:3003</a></div></div>
<div class="ttc" id="classKVTarget_html"><div class="ttname"><a href="classKVTarget.html">KVTarget</a></div><div class="ttdoc">Simulation of passage of particles through a target. </div><div class="ttdef"><b>Definition:</b> <a href="KVTarget_8h_source.html#l00018">KVTarget.h:18</a></div></div>
<div class="ttc" id="classKVDataSet_html_a83f18bf826fc8b6511783d4e1d61a2fe"><div class="ttname"><a href="classKVDataSet.html#a83f18bf826fc8b6511783d4e1d61a2fe">KVDataSet::GetDataSetEnv</a></div><div class="ttdeci">const Char_t * GetDataSetEnv(const Char_t *type, const Char_t *defval=&quot;&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSet_8cpp_source.html#l01119">KVDataSet.cpp:1119</a></div></div>
<div class="ttc" id="classKVNameValueList_html_a2150c09e62ba33c9ab5948b3432eb7ee"><div class="ttname"><a href="classKVNameValueList.html#a2150c09e62ba33c9ab5948b3432eb7ee">KVNameValueList::GetDoubleValue</a></div><div class="ttdeci">Double_t GetDoubleValue(const Char_t *name) const</div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8h_source.html#l00190">KVNameValueList.h:190</a></div></div>
<div class="ttc" id="classKVIDGraph_html_a4687cdeefb465f933ed02eb5d3861b88"><div class="ttname"><a href="classKVIDGraph.html#a4687cdeefb465f933ed02eb5d3861b88">KVIDGraph::AddIDTelescope</a></div><div class="ttdeci">void AddIDTelescope(KVBase *t)</div><div class="ttdef"><b>Definition:</b> <a href="KVIDGraph_8h_source.html#l00332">KVIDGraph.h:332</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a8fb014a392dbaa9e25856ea9352bc8a5"><div class="ttname"><a href="classKVReconstructedNucleus.html#a8fb014a392dbaa9e25856ea9352bc8a5">KVReconstructedNucleus::SetIsCalibrated</a></div><div class="ttdeci">void SetIsCalibrated()</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00223">KVReconstructedNucleus.h:223</a></div></div>
<div class="ttc" id="classKVIDGraph_html_af02db3b0be329acb36fe40b1bec596da"><div class="ttname"><a href="classKVIDGraph.html#af02db3b0be329acb36fe40b1bec596da">KVIDGraph::RemoveIDTelescope</a></div><div class="ttdeci">void RemoveIDTelescope(KVBase *t)</div><div class="ttdef"><b>Definition:</b> <a href="KVIDGraph_8h_source.html#l00341">KVIDGraph.h:341</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a6ac45bb0165015e4e1e79385cecb6b98"><div class="ttname"><a href="classKVMultiDetArray.html#a6ac45bb0165015e4e1e79385cecb6b98">KVMultiDetArray::GetIDTelescopeTypes</a></div><div class="ttdeci">KVList * GetIDTelescopeTypes()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02593">KVMultiDetArray.cpp:2593</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_aca1e2fe49c2c19874953bcb5c79cdbcf"><div class="ttname"><a href="classKVIDTelescope.html#aca1e2fe49c2c19874953bcb5c79cdbcf">KVIDTelescope::SetIdentificationStatus</a></div><div class="ttdeci">virtual void SetIdentificationStatus(KVReconstructedNucleus *)</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8cpp_source.html#l01589">KVIDTelescope.cpp:1589</a></div></div>
<div class="ttc" id="classKVReconstructedEvent_html"><div class="ttname"><a href="classKVReconstructedEvent.html">KVReconstructedEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedEvent_8h_source.html#l00029">KVReconstructedEvent.h:29</a></div></div>
<div class="ttc" id="classKVString_html_a09cf7b4f40f96fc75a3e1d244aecc386"><div class="ttname"><a href="classKVString.html#a09cf7b4f40f96fc75a3e1d244aecc386">KVString::Begin</a></div><div class="ttdeci">virtual void Begin(TString delim) const</div><div class="ttdef"><b>Definition:</b> <a href="KVString_8cpp_source.html#l00600">KVString.cpp:600</a></div></div>
<div class="ttc" id="classKVSeqCollection_html_af8e06106d2e2e33c431ce62153e6c507"><div class="ttname"><a href="classKVSeqCollection.html#af8e06106d2e2e33c431ce62153e6c507">KVSeqCollection::Remove</a></div><div class="ttdeci">virtual TObject * Remove(TObject *obj)</div><div class="ttdoc">Remove object from list. </div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8cpp_source.html#l00482">KVSeqCollection.cpp:482</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a5a82f060b2ffd45c5519de9b96325e0c"><div class="ttname"><a href="classKVMultiDetArray.html#a5a82f060b2ffd45c5519de9b96325e0c">KVMultiDetArray::AnalyseGroupAndReconstructEvent</a></div><div class="ttdeci">virtual void AnalyseGroupAndReconstructEvent(KVReconstructedEvent *recev, KVGroup *grp)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01935">KVMultiDetArray.cpp:1935</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a0bc22d0cf9cb6fc4b0ebcf5e323e4948"><div class="ttname"><a href="classKVMultiDetArray.html#a0bc22d0cf9cb6fc4b0ebcf5e323e4948">KVMultiDetArray::FillListOfIDTelescopes</a></div><div class="ttdeci">void FillListOfIDTelescopes(KVIDGraph *gr) const</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03402">KVMultiDetArray.cpp:3402</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a3816c701f2f5990600305b5a2529392c"><div class="ttname"><a href="classKVMultiDetArray.html#a3816c701f2f5990600305b5a2529392c">KVMultiDetArray::fCurrentRun</a></div><div class="ttdeci">UInt_t fCurrentRun</div><div class="ttdoc">Number of the current run used to call SetParameters. </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00069">KVMultiDetArray.h:69</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aad2fe1386ed01a212f25e91333dde86a"><div class="ttname"><a href="classKVMultiDetArray.html#aad2fe1386ed01a212f25e91333dde86a">KVMultiDetArray::SetRunCalibrationParameters</a></div><div class="ttdeci">virtual void SetRunCalibrationParameters(UShort_t n)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02313">KVMultiDetArray.cpp:2313</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a4635c99e0a2e78ca59c68e3a57c7e10c"><div class="ttname"><a href="classKVMultiDetArray.html#a4635c99e0a2e78ca59c68e3a57c7e10c">KVMultiDetArray::DrawPunchThroughEsurAVsZ</a></div><div class="ttdeci">virtual TGraph * DrawPunchThroughEsurAVsZ(const Char_t *detector, Int_t massform=KVNucleus::kBetaMass)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02977">KVMultiDetArray.cpp:2977</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ad9cc49455cee4bd01a9a0ad394fa29cb"><div class="ttname"><a href="classKVMultiDetArray.html#ad9cc49455cee4bd01a9a0ad394fa29cb">KVMultiDetArray::CalculateReconstructionTrajectories</a></div><div class="ttdeci">void CalculateReconstructionTrajectories()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03535">KVMultiDetArray.cpp:3535</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aeabb9eccb433db780ad9d61c63b6ed0c"><div class="ttname"><a href="classKVMultiDetArray.html#aeabb9eccb433db780ad9d61c63b6ed0c">KVMultiDetArray::SetTargetThickness</a></div><div class="ttdeci">void SetTargetThickness(const Float_t thickness)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02024">KVMultiDetArray.cpp:2024</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a2df7fc58e8cf16e6b9781116c47cf122"><div class="ttname"><a href="classKVMultiDetArray.html#a2df7fc58e8cf16e6b9781116c47cf122">KVMultiDetArray::GetDetectorEvent</a></div><div class="ttdeci">virtual void GetDetectorEvent(KVDetectorEvent *detev, TSeqCollection *fired_params=0)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01841">KVMultiDetArray.cpp:1841</a></div></div>
<div class="ttc" id="classKVNamedParameter_html"><div class="ttname"><a href="classKVNamedParameter.html">KVNamedParameter</a></div><div class="ttdoc">A generic parameter with a name and a value. </div><div class="ttdef"><b>Definition:</b> <a href="KVNamedParameter_8h_source.html#l00012">KVNamedParameter.h:12</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a67a6714e337ef10248be524cabac2dca"><div class="ttname"><a href="classKVMultiDetArray.html#a67a6714e337ef10248be524cabac2dca">KVMultiDetArray::SetTarget</a></div><div class="ttdeci">void SetTarget(const Char_t *material, const Float_t thickness)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01958">KVMultiDetArray.cpp:1958</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a52966ea51a0558b391529ba71b72711c"><div class="ttname"><a href="classKVIDTelescope.html#a52966ea51a0558b391529ba71b72711c">KVIDTelescope::GetMultiHitFirstStageIDCode</a></div><div class="ttdeci">virtual UShort_t GetMultiHitFirstStageIDCode()</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8h_source.html#l00194">KVIDTelescope.h:194</a></div></div>
<div class="ttc" id="classKVDetector_html_ae7ba81608f1cc7ee9a1c1055d2fc122f"><div class="ttname"><a href="classKVDetector.html#ae7ba81608f1cc7ee9a1c1055d2fc122f">KVDetector::IsPresent</a></div><div class="ttdeci">virtual Bool_t IsPresent() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00407">KVDetector.h:407</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a35971cf98f9284d9c565536dafc3ba56"><div class="ttname"><a href="classKVMultiDetArray.html#a35971cf98f9284d9c565536dafc3ba56">KVMultiDetArray::SetMinimumOKMultiplicity</a></div><div class="ttdeci">virtual void SetMinimumOKMultiplicity(KVEvent *) const</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03706">KVMultiDetArray.cpp:3706</a></div></div>
<div class="ttc" id="classKVMaterial_html_a432ade5dff2c1ea8ed4b0cbcaecee831"><div class="ttname"><a href="classKVMaterial.html#a432ade5dff2c1ea8ed4b0cbcaecee831">KVMaterial::GetRangeTable</a></div><div class="ttdeci">static KVIonRangeTable * GetRangeTable()</div><div class="ttdef"><b>Definition:</b> <a href="KVMaterial_8cpp_source.html#l00166">KVMaterial.cpp:166</a></div></div>
<div class="ttc" id="classKVGeoDNTrajectory_html_aa7e4a01eea564c3d2b638ef96a6be0df"><div class="ttname"><a href="classKVGeoDNTrajectory.html#aa7e4a01eea564c3d2b638ef96a6be0df">KVGeoDNTrajectory::GetNodeInFront</a></div><div class="ttdeci">KVGeoDetectorNode * GetNodeInFront(const KVGeoDetectorNode *n) const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoDNTrajectory_8h_source.html#l00056">KVGeoDNTrajectory.h:56</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aa01302c5d51862d88f78de2293f679eb"><div class="ttname"><a href="classKVMultiDetArray.html#aa01302c5d51862d88f78de2293f679eb">KVMultiDetArray::GetGroupWithAngles</a></div><div class="ttdeci">virtual KVGroup * GetGroupWithAngles(Float_t, Float_t)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00176">KVMultiDetArray.h:176</a></div></div>
<div class="ttc" id="classKVTelescope_html"><div class="ttname"><a href="classKVTelescope.html">KVTelescope</a></div><div class="ttdef"><b>Definition:</b> <a href="KVTelescope_8h_source.html#l00033">KVTelescope.h:33</a></div></div>
<div class="ttc" id="classKVGroup_html_a07b07de580ed03e7033fc5ec912f209fa689453ad50cf6e7f0a1d0e5e1aa9925c"><div class="ttname"><a href="classKVGroup.html#a07b07de580ed03e7033fc5ec912f209fa689453ad50cf6e7f0a1d0e5e1aa9925c">KVGroup::kBackwards</a></div><div class="ttdef"><b>Definition:</b> <a href="KVGroup_8h_source.html#l00027">KVGroup.h:27</a></div></div>
<div class="ttc" id="classKVEvent_html_a016bba0854f04905c4b2788cd771ac2f"><div class="ttname"><a href="classKVEvent.html#a016bba0854f04905c4b2788cd771ac2f">KVEvent::GetParameters</a></div><div class="ttdeci">KVNameValueList * GetParameters() const</div><div class="ttdef"><b>Definition:</b> <a href="KVEvent_8h_source.html#l00240">KVEvent.h:240</a></div></div>
<div class="ttc" id="classKVRangeTableGeoNavigator_html_ac3c2b21b63ca7f1670e75743b9de1fe8"><div class="ttname"><a href="classKVRangeTableGeoNavigator.html#ac3c2b21b63ca7f1670e75743b9de1fe8">KVRangeTableGeoNavigator::PropagateParticle</a></div><div class="ttdeci">virtual void PropagateParticle(KVNucleus *, TVector3 *TheOrigin=0)</div><div class="ttdef"><b>Definition:</b> <a href="KVRangeTableGeoNavigator_8cpp_source.html#l00323">KVRangeTableGeoNavigator.cpp:323</a></div></div>
<div class="ttc" id="classKVDetector_html_a48ca7dc5e626fa40244cef07cf9d40a2"><div class="ttname"><a href="classKVDetector.html#a48ca7dc5e626fa40244cef07cf9d40a2">KVDetector::SetSegment</a></div><div class="ttdeci">virtual void SetSegment(UShort_t s)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00499">KVDetector.h:499</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a24498573c3b6c6ecb80195a193e4d6ac"><div class="ttname"><a href="classKVMultiDetArray.html#a24498573c3b6c6ecb80195a193e4d6ac">KVMultiDetArray::handle_raw_data_event_mfmmergeframe</a></div><div class="ttdeci">virtual Bool_t handle_raw_data_event_mfmmergeframe(const MFMMergeFrameManager &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03784">KVMultiDetArray.cpp:3784</a></div></div>
<div class="ttc" id="classKVGeoDNTrajectory_html_a00b3d6bea25cfaf134b2fb1163aedfcd"><div class="ttname"><a href="classKVGeoDNTrajectory.html#a00b3d6bea25cfaf134b2fb1163aedfcd">KVGeoDNTrajectory::GetN</a></div><div class="ttdeci">Int_t GetN() const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoDNTrajectory_8h_source.html#l00071">KVGeoDNTrajectory.h:71</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a795d9cc7f87c4454775dd5ded2c78c15"><div class="ttname"><a href="classKVMultiDetArray.html#a795d9cc7f87c4454775dd5ded2c78c15">KVMultiDetArray::SetIdentifications</a></div><div class="ttdeci">virtual void SetIdentifications()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02351">KVMultiDetArray.cpp:2351</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a34c1af932e9092034252e780445a8080"><div class="ttname"><a href="classKVMultiDetArray.html#a34c1af932e9092034252e780445a8080">KVMultiDetArray::FilteredEventCoherencyAnalysis</a></div><div class="ttdeci">virtual Int_t FilteredEventCoherencyAnalysis(Int_t round, KVReconstructedEvent *rec_event)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00647">KVMultiDetArray.cpp:647</a></div></div>
<div class="ttc" id="classKVGeoDetectorNode_html_a5be4a56c807f89da29f4106fb7cf18b1"><div class="ttname"><a href="classKVGeoDetectorNode.html#a5be4a56c807f89da29f4106fb7cf18b1">KVGeoDetectorNode::GetDetector</a></div><div class="ttdeci">KVDetector * GetDetector() const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoDetectorNode_8cpp_source.html#l00192">KVGeoDetectorNode.cpp:192</a></div></div>
<div class="ttc" id="classKVGeoDNTrajectory_html_a1b1c7be8ea445285231997d1de7ac7f5"><div class="ttname"><a href="classKVGeoDNTrajectory.html#a1b1c7be8ea445285231997d1de7ac7f5">KVGeoDNTrajectory::GetNextNode</a></div><div class="ttdeci">KVGeoDetectorNode * GetNextNode() const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoDNTrajectory_8h_source.html#l00199">KVGeoDNTrajectory.h:199</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a4dc82d00456c3e5a5267bbccada20844"><div class="ttname"><a href="classKVReconstructedNucleus.html#a4dc82d00456c3e5a5267bbccada20844">KVReconstructedNucleus::SetStatus</a></div><div class="ttdeci">void SetStatus(Int_t a)</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00149">KVReconstructedNucleus.h:149</a></div></div>
<div class="ttc" id="classKVGeoDetectorNode_html_aa08323a7e20922bae5c2ebe1a0d40fcf"><div class="ttname"><a href="classKVGeoDetectorNode.html#aa08323a7e20922bae5c2ebe1a0d40fcf">KVGeoDetectorNode::GetNDetsBehind</a></div><div class="ttdeci">Int_t GetNDetsBehind() const</div><div class="ttdoc">Returns number of detectors directly behind this one. </div><div class="ttdef"><b>Definition:</b> <a href="KVGeoDetectorNode_8cpp_source.html#l00328">KVGeoDetectorNode.cpp:328</a></div></div>
<div class="ttc" id="classKVEvent_html_a63269e241c1d055b9bdc3fcab1c92424"><div class="ttname"><a href="classKVEvent.html#a63269e241c1d055b9bdc3fcab1c92424">KVEvent::SetMinimumOKMultiplicity</a></div><div class="ttdeci">void SetMinimumOKMultiplicity(Int_t)</div><div class="ttdef"><b>Definition:</b> <a href="KVEvent_8cpp_source.html#l00744">KVEvent.cpp:744</a></div></div>
<div class="ttc" id="classKVNucleus_html_abc45f4e6459623414028a5688e238d19"><div class="ttname"><a href="classKVNucleus.html#abc45f4e6459623414028a5688e238d19">KVNucleus::SetZandA</a></div><div class="ttdeci">void SetZandA(Int_t z, Int_t a)</div><div class="ttdoc">Set atomic number and mass number. </div><div class="ttdef"><b>Definition:</b> <a href="KVNucleus_8cpp_source.html#l00875">KVNucleus.cpp:875</a></div></div>
<div class="ttc" id="classKVDetector_html_a70ca474a87ea69f52bf4c7ed220c64fe"><div class="ttname"><a href="classKVDetector.html#a70ca474a87ea69f52bf4c7ed220c64fe">KVDetector::GetAbsorber</a></div><div class="ttdeci">KVMaterial * GetAbsorber(Int_t i) const</div><div class="ttdoc">Returns pointer to the i-th absorber in the detector (i=0 first absorber, i=1 second, etc.) </div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l00807">KVDetector.cpp:807</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a23bc007d119c7e180bd6a5286a05cfbf"><div class="ttname"><a href="classKVMultiDetArray.html#a23bc007d119c7e180bd6a5286a05cfbf">KVMultiDetArray::GetTargetEnergyLossCorrection</a></div><div class="ttdeci">virtual Double_t GetTargetEnergyLossCorrection(KVReconstructedNucleus *)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02757">KVMultiDetArray.cpp:2757</a></div></div>
<div class="ttc" id="classKVDataSetManager_html_ac7c68539958c9e3b45ad1360e4a90330"><div class="ttname"><a href="classKVDataSetManager.html#ac7c68539958c9e3b45ad1360e4a90330">KVDataSetManager::GetDataSet</a></div><div class="ttdeci">virtual KVDataSet * GetDataSet(Int_t) const</div><div class="ttdoc">Return pointer to DataSet using index in list of all datasets, index&gt;=0. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetManager_8cpp_source.html#l00413">KVDataSetManager.cpp:413</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a898417d35b1ac9908c43d687e41abca9"><div class="ttname"><a href="classKVMultiDetArray.html#a898417d35b1ac9908c43d687e41abca9">KVMultiDetArray::MakeListOfDetectors</a></div><div class="ttdeci">virtual void MakeListOfDetectors()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01609">KVMultiDetArray.cpp:1609</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a4c8452371e50787e48287f092461b767"><div class="ttname"><a href="classKVReconstructedNucleus.html#a4c8452371e50787e48287f092461b767">KVReconstructedNucleus::GetECode</a></div><div class="ttdeci">virtual Int_t GetECode() const</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00208">KVReconstructedNucleus.h:208</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_af028c09f950a42b73427db655f06aec3"><div class="ttname"><a href="classKVIDTelescope.html#af028c09f950a42b73427db655f06aec3">KVIDTelescope::GetDetectors</a></div><div class="ttdeci">KVList * GetDetectors() const</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8h_source.html#l00072">KVIDTelescope.h:72</a></div></div>
<div class="ttc" id="classKVIDGridManager_html_a2aa162802ab815f02bd37a7914298182"><div class="ttname"><a href="classKVIDGridManager.html#a2aa162802ab815f02bd37a7914298182">KVIDGridManager::GetGrids</a></div><div class="ttdeci">KVList * GetGrids()</div><div class="ttdef"><b>Definition:</b> <a href="KVIDGridManager_8h_source.html#l00041">KVIDGridManager.h:41</a></div></div>
<div class="ttc" id="classKVNumberList_html_a2bbb2cfe1b472ee4c049f69fd801cffe"><div class="ttname"><a href="classKVNumberList.html#a2bbb2cfe1b472ee4c049f69fd801cffe">KVNumberList::Contains</a></div><div class="ttdeci">Bool_t Contains(Int_t val) const</div><div class="ttdoc">returns kTRUE if the value &amp;#39;val&amp;#39; is contained in the ranges defined by the number list ...</div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8cpp_source.html#l00454">KVNumberList.cpp:454</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_af2c616d920ead86b7f3c4901a3302387"><div class="ttname"><a href="classKVMultiDetArray.html#af2c616d920ead86b7f3c4901a3302387">KVMultiDetArray::GetUpDater</a></div><div class="ttdeci">KVUpDater * GetUpDater()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02232">KVMultiDetArray.cpp:2232</a></div></div>
<div class="ttc" id="classKVGeoDNTrajectory_html_a75e09fa430860b18e29a9cd075cf494f"><div class="ttname"><a href="classKVGeoDNTrajectory.html#a75e09fa430860b18e29a9cd075cf494f">KVGeoDNTrajectory::IterateFrom</a></div><div class="ttdeci">void IterateFrom(const KVGeoDetectorNode *node0=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoDNTrajectory_8h_source.html#l00172">KVGeoDNTrajectory.h:172</a></div></div>
<div class="ttc" id="classKVPosition_html_a0ea6f2fbe02656976de3ffd2e238075f"><div class="ttname"><a href="classKVPosition.html#a0ea6f2fbe02656976de3ffd2e238075f">KVPosition::GetTheta</a></div><div class="ttdeci">Double_t GetTheta() const</div><div class="ttdef"><b>Definition:</b> <a href="KVPosition_8h_source.html#l00089">KVPosition.h:89</a></div></div>
<div class="ttc" id="classKVDetector_html_aba8fb091c9f1f6dcef8fbca1236d2b63"><div class="ttname"><a href="classKVDetector.html#aba8fb091c9f1f6dcef8fbca1236d2b63">KVDetector::IsDetecting</a></div><div class="ttdeci">virtual Bool_t IsDetecting() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00416">KVDetector.h:416</a></div></div>
<div class="ttc" id="classKVParticle_html_aab64291633c01af020a84ebfbc421844"><div class="ttname"><a href="classKVParticle.html#aab64291633c01af020a84ebfbc421844">KVParticle::GetKE</a></div><div class="ttdeci">Double_t GetKE() const</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8h_source.html#l00208">KVParticle.h:208</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a36e0780baa2f7d26ec65933f1da76d58"><div class="ttname"><a href="classKVIDTelescope.html#a36e0780baa2f7d26ec65933f1da76d58">KVIDTelescope::SetIDGrid</a></div><div class="ttdeci">void SetIDGrid(KVIDGraph *)</div><div class="ttdoc">Add an identification grid to the list of grids used by this telescope. </div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8cpp_source.html#l00522">KVIDTelescope.cpp:522</a></div></div>
<div class="ttc" id="classKVTarget_html_ada81eafb79af46c727e06d4e3f28d7f2"><div class="ttname"><a href="classKVTarget.html#ada81eafb79af46c727e06d4e3f28d7f2">KVTarget::SetOutgoing</a></div><div class="ttdeci">void SetOutgoing(Bool_t r=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVTarget_8h_source.html#l00127">KVTarget.h:127</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_aa2d4c0883465134928c31947192501cd"><div class="ttname"><a href="classKVIDTelescope.html#aa2d4c0883465134928c31947192501cd">KVIDTelescope::GetIDCode</a></div><div class="ttdeci">virtual UShort_t GetIDCode()</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8h_source.html#l00201">KVIDTelescope.h:201</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a1082d6fcb05ca169d9c2d0b70872a318"><div class="ttname"><a href="classKVMultiDetArray.html#a1082d6fcb05ca169d9c2d0b70872a318">KVMultiDetArray::GetStatusOfIDTelescopes</a></div><div class="ttdeci">TList * GetStatusOfIDTelescopes()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02543">KVMultiDetArray.cpp:2543</a></div></div>
<div class="ttc" id="classKVNameValueList_html_a5ae922a154a8a2cb8286379400c50772"><div class="ttname"><a href="classKVNameValueList.html#a5ae922a154a8a2cb8286379400c50772">KVNameValueList::Clear</a></div><div class="ttdeci">virtual void Clear(Option_t *opt=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8cpp_source.html#l00166">KVNameValueList.cpp:166</a></div></div>
<div class="ttc" id="classKVSeqCollection_html_a7a75b4a4e95c399a59a242b817ee3502"><div class="ttname"><a href="classKVSeqCollection.html#a7a75b4a4e95c399a59a242b817ee3502">KVSeqCollection::GetSubListWithType</a></div><div class="ttdeci">KVSeqCollection * GetSubListWithType(const Char_t *retvalue) const</div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8cpp_source.html#l01087">KVSeqCollection.cpp:1087</a></div></div>
<div class="ttc" id="classKVParticle_html_a0ae34ffdf7b6f767733ba8c08b278789"><div class="ttname"><a href="classKVParticle.html#a0ae34ffdf7b6f767733ba8c08b278789">KVParticle::SetIsOK</a></div><div class="ttdeci">void SetIsOK(Bool_t flag=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8cpp_source.html#l01064">KVParticle.cpp:1064</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_aa10843bc940f8207c4617fd6ea3471cc"><div class="ttname"><a href="classKVIDTelescope.html#aa10843bc940f8207c4617fd6ea3471cc">KVIDTelescope::GetListOfIDGrids</a></div><div class="ttdeci">virtual KVList * GetListOfIDGrids() const</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8h_source.html#l00133">KVIDTelescope.h:133</a></div></div>
<div class="ttc" id="classKVUpDater_html_a78746e3dfb558108d7102d08b6b647c0"><div class="ttname"><a href="classKVUpDater.html#a78746e3dfb558108d7102d08b6b647c0">KVUpDater::SetCalibrationParameters</a></div><div class="ttdeci">virtual void SetCalibrationParameters(UInt_t)</div><div class="ttdef"><b>Definition:</b> <a href="KVUpDater_8cpp_source.html#l00207">KVUpDater.cpp:207</a></div></div>
<div class="ttc" id="namespaceKVUnits_html_af13ae353c0bc16e77ec01cc6aee48999"><div class="ttname"><a href="namespaceKVUnits.html#af13ae353c0bc16e77ec01cc6aee48999">KVUnits::g</a></div><div class="ttdeci">const long double g</div><div class="ttdef"><b>Definition:</b> <a href="KVUnits_8h_source.html#l00024">KVUnits.h:24</a></div></div>
<div class="ttc" id="classKVDetector_html_a356e6af853055f0097e7bd2a3e4b6ddf"><div class="ttname"><a href="classKVDetector.html#a356e6af853055f0097e7bd2a3e4b6ddf">KVDetector::GetParentStructure</a></div><div class="ttdeci">KVGeoStrucElement * GetParentStructure(const Char_t *type, const Char_t *name=&quot;&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l02226">KVDetector.cpp:2226</a></div></div>
<div class="ttc" id="classKVDetector_html_aaba68857ef4503f07db07c466262c87d"><div class="ttname"><a href="classKVDetector.html#aaba68857ef4503f07db07c466262c87d">KVDetector::SetFiredBitmask</a></div><div class="ttdeci">virtual void SetFiredBitmask(KVString &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l01551">KVDetector.cpp:1551</a></div></div>
<div class="ttc" id="classKVDataSet_html"><div class="ttname"><a href="classKVDataSet.html">KVDataSet</a></div><div class="ttdoc">Describes a set of experimental data which may be analysed with KaliVeda. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSet_8h_source.html#l00029">KVDataSet.h:29</a></div></div>
<div class="ttc" id="KVNucleus_8h_html"><div class="ttname"><a href="KVNucleus_8h.html">KVNucleus.h</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a47e809c6c786bf38bc9f31a92fa67922a9f970a72bc25a344f0ee98267e8a8dba"><div class="ttname"><a href="classKVMultiDetArray.html#a47e809c6c786bf38bc9f31a92fa67922a9f970a72bc25a344f0ee98267e8a8dba">KVMultiDetArray::kCalParamsSet</a></div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00057">KVMultiDetArray.h:57</a></div></div>
<div class="ttc" id="KVIDTelescope_8h_html"><div class="ttname"><a href="KVIDTelescope_8h.html">KVIDTelescope.h</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aed96731a5f2cf30283e62e3149bd83c5a30f68fad9963af39b0d7ae4d87816dd4"><div class="ttname"><a href="classKVMultiDetArray.html#aed96731a5f2cf30283e62e3149bd83c5a30f68fad9963af39b0d7ae4d87816dd4">KVMultiDetArray::kFilterType_Geo</a></div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00154">KVMultiDetArray.h:154</a></div></div>
<div class="ttc" id="classKVReconstructedEvent_html_abf26410e0846cbeae63b99a8ba8d7869"><div class="ttname"><a href="classKVReconstructedEvent.html#abf26410e0846cbeae63b99a8ba8d7869">KVReconstructedEvent::GetNextParticle</a></div><div class="ttdeci">KVReconstructedNucleus * GetNextParticle(Option_t *opt=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedEvent_8h_source.html#l00131">KVReconstructedEvent.h:131</a></div></div>
<div class="ttc" id="classKVDetectorEvent_html"><div class="ttname"><a href="classKVDetectorEvent.html">KVDetectorEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="KVDetectorEvent_8h_source.html#l00028">KVDetectorEvent.h:28</a></div></div>
<div class="ttc" id="classKVPosition_html_a1f2422675a97b3691c8ed99a654bfd4f"><div class="ttname"><a href="classKVPosition.html#a1f2422675a97b3691c8ed99a654bfd4f">KVPosition::GetRandomDirection</a></div><div class="ttdeci">TVector3 GetRandomDirection(Option_t *t=&quot;isotropic&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVPosition_8cpp_source.html#l00295">KVPosition.cpp:295</a></div></div>
<div class="ttc" id="classKVIDGraph_html"><div class="ttname"><a href="classKVIDGraph.html">KVIDGraph</a></div><div class="ttdoc">Base class for particle identification in a 2D map. </div><div class="ttdef"><b>Definition:</b> <a href="KVIDGraph_8h_source.html#l00024">KVIDGraph.h:24</a></div></div>
<div class="ttc" id="classKVGeoStrucElement_html_a2c2efd8df8fe59a09b2df64012b15a62"><div class="ttname"><a href="classKVGeoStrucElement.html#a2c2efd8df8fe59a09b2df64012b15a62">KVGeoStrucElement::fDetectors</a></div><div class="ttdeci">KVUniqueNameList fDetectors</div><div class="ttdoc">detectors in this structure element </div><div class="ttdef"><b>Definition:</b> <a href="KVGeoStrucElement_8h_source.html#l00015">KVGeoStrucElement.h:15</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ac292bfa88a8262f819dcd74a0071d991"><div class="ttname"><a href="classKVMultiDetArray.html#ac292bfa88a8262f819dcd74a0071d991">KVMultiDetArray::fROOTGeometry</a></div><div class="ttdeci">Bool_t fROOTGeometry</div><div class="ttdoc">=kTRUE use ROOT geometry </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00074">KVMultiDetArray.h:74</a></div></div>
<div class="ttc" id="classKVBase_html_adaa0b6b0275567d5fd50e2a1a869ed1c"><div class="ttname"><a href="classKVBase.html#adaa0b6b0275567d5fd50e2a1a869ed1c">KVBase::SearchKVFile</a></div><div class="ttdeci">static Bool_t SearchKVFile(const Char_t *name, TString &amp;fullpath, const Char_t *kvsubdir=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVBase_8cpp_source.html#l00732">KVBase.cpp:732</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a8a291a38f4673fa558dd79289e990e51"><div class="ttname"><a href="classKVMultiDetArray.html#a8a291a38f4673fa558dd79289e990e51">KVMultiDetArray::SetTargetMaterial</a></div><div class="ttdeci">void SetTargetMaterial(const Char_t *material)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02009">KVMultiDetArray.cpp:2009</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a31972a45e90d8ea6d4a5ad7779f65c15"><div class="ttname"><a href="classKVMultiDetArray.html#a31972a45e90d8ea6d4a5ad7779f65c15">KVMultiDetArray::GetTarget</a></div><div class="ttdeci">KVTarget * GetTarget()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00228">KVMultiDetArray.h:228</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a8c2caa68fc2e0e3317fb3508e3b3d9d3"><div class="ttname"><a href="classKVMultiDetArray.html#a8c2caa68fc2e0e3317fb3508e3b3d9d3">KVMultiDetArray::fBuildTarget</a></div><div class="ttdeci">static Bool_t fBuildTarget</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00048">KVMultiDetArray.h:48</a></div></div>
<div class="ttc" id="classKVParticle_html_a32a39659542dbdd65c691f70524e4ea4"><div class="ttname"><a href="classKVParticle.html#a32a39659542dbdd65c691f70524e4ea4">KVParticle::GetParameters</a></div><div class="ttdeci">KVNameValueList * GetParameters() const</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8h_source.html#l00373">KVParticle.h:373</a></div></div>
<div class="ttc" id="classKVGroup_html_a033e1e67719e7ef083af1224acf5406b"><div class="ttname"><a href="classKVGroup.html#a033e1e67719e7ef083af1224acf5406b">KVGroup::AddTrajectory</a></div><div class="ttdeci">void AddTrajectory(KVGeoDNTrajectory *t)</div><div class="ttdef"><b>Definition:</b> <a href="KVGroup_8h_source.html#l00071">KVGroup.h:71</a></div></div>
<div class="ttc" id="classKVReconstructedEvent_html_a7f124298cd70a0c4ba20a58cf3a9cc9f"><div class="ttname"><a href="classKVReconstructedEvent.html#a7f124298cd70a0c4ba20a58cf3a9cc9f">KVReconstructedEvent::AddParticle</a></div><div class="ttdeci">KVReconstructedNucleus * AddParticle()</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedEvent_8h_source.html#l00119">KVReconstructedEvent.h:119</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ae5a033c03d756ba1809baa5f317daf2c"><div class="ttname"><a href="classKVMultiDetArray.html#ae5a033c03d756ba1809baa5f317daf2c">KVMultiDetArray::GetACQParams</a></div><div class="ttdeci">KVSeqCollection * GetACQParams()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00185">KVMultiDetArray.h:185</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a2dcb6c98e406efb4db4042800bac159b"><div class="ttname"><a href="classKVMultiDetArray.html#a2dcb6c98e406efb4db4042800bac159b">KVMultiDetArray::fHitGroups</a></div><div class="ttdeci">KVDetectorEvent * fHitGroups</div><div class="ttdoc">list of hit groups in simulation </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00063">KVMultiDetArray.h:63</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a6645b3d9e4daae88c25603a691127498"><div class="ttname"><a href="classKVMultiDetArray.html#a6645b3d9e4daae88c25603a691127498">KVMultiDetArray::fUpDater</a></div><div class="ttdeci">KVUpDater * fUpDater</div><div class="ttdoc">used to set parameters for multidetector </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00070">KVMultiDetArray.h:70</a></div></div>
<div class="ttc" id="classKVEvent_html"><div class="ttname"><a href="classKVEvent.html">KVEvent</a></div><div class="ttdoc">Base class for all types of multiparticle event consisting of KVNucleus objects. </div><div class="ttdef"><b>Definition:</b> <a href="KVEvent_8h_source.html#l00042">KVEvent.h:42</a></div></div>
<div class="ttc" id="classKVSeqCollection_html_af9525ec4e1fd6173129beb3ad68ec498"><div class="ttname"><a href="classKVSeqCollection.html#af9525ec4e1fd6173129beb3ad68ec498">KVSeqCollection::Delete</a></div><div class="ttdeci">virtual void Delete(Option_t *option=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8cpp_source.html#l00437">KVSeqCollection.cpp:437</a></div></div>
<div class="ttc" id="classKVGeoStrucElement_html_aef54034d0b26682dbe38bc8700722837"><div class="ttname"><a href="classKVGeoStrucElement.html#aef54034d0b26682dbe38bc8700722837">KVGeoStrucElement::GetParentStructure</a></div><div class="ttdeci">KVGeoStrucElement * GetParentStructure(const Char_t *type, const Char_t *name=&quot;&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoStrucElement_8cpp_source.html#l00333">KVGeoStrucElement.cpp:333</a></div></div>
<div class="ttc" id="KVIonRangeTable_8h_html"><div class="ttname"><a href="KVIonRangeTable_8h.html">KVIonRangeTable.h</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_aef678889124defa5592d519989807e8b"><div class="ttname"><a href="classKVReconstructedNucleus.html#aef678889124defa5592d519989807e8b">KVReconstructedNucleus::SetIdentifyingTelescope</a></div><div class="ttdeci">void SetIdentifyingTelescope(KVIDTelescope *i)</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00185">KVReconstructedNucleus.h:185</a></div></div>
<div class="ttc" id="KVMaterial_8h_html"><div class="ttname"><a href="KVMaterial_8h.html">KVMaterial.h</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a77a3d850c4624a79561ae484d9e05bcc"><div class="ttname"><a href="classKVMultiDetArray.html#a77a3d850c4624a79561ae484d9e05bcc">KVMultiDetArray::SetDetectorTransparency</a></div><div class="ttdeci">void SetDetectorTransparency(Char_t)</div><div class="ttdoc">Modify the transparency of detector volumes in OpenGL view. </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03520">KVMultiDetArray.cpp:3520</a></div></div>
<div class="ttc" id="classKVSeqCollection_html_a5edbe1ce090e93f70da107c1dc5abbe1"><div class="ttname"><a href="classKVSeqCollection.html#a5edbe1ce090e93f70da107c1dc5abbe1">KVSeqCollection::Clear</a></div><div class="ttdeci">virtual void Clear(Option_t *option=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8cpp_source.html#l00411">KVSeqCollection.cpp:411</a></div></div>
<div class="ttc" id="classKVSeqCollection_html_ad8572701209c97af7ed6e2fd72978a6b"><div class="ttname"><a href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">KVSeqCollection::Add</a></div><div class="ttdeci">virtual void Add(TObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8h_source.html#l00142">KVSeqCollection.h:142</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aa717871057b987b563a8facb5a5a0659"><div class="ttname"><a href="classKVMultiDetArray.html#aa717871057b987b563a8facb5a5a0659">KVMultiDetArray::HandleRawDataEvent</a></div><div class="ttdeci">Bool_t HandleRawDataEvent(KVRawDataReader *)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03738">KVMultiDetArray.cpp:3738</a></div></div>
<div class="ttc" id="classKVACQParam_html_ab449ad13f8715a4f582f3618792e6767"><div class="ttname"><a href="classKVACQParam.html#ab449ad13f8715a4f582f3618792e6767">KVACQParam::GetDetector</a></div><div class="ttdeci">KVDetector * GetDetector() const</div><div class="ttdef"><b>Definition:</b> <a href="KVACQParam_8h_source.html#l00049">KVACQParam.h:49</a></div></div>
<div class="ttc" id="classKVGeoNavigator_html"><div class="ttname"><a href="classKVGeoNavigator.html">KVGeoNavigator</a></div><div class="ttdoc">Propagate particles of an event through a TGeo geometry. </div><div class="ttdef"><b>Definition:</b> <a href="KVGeoNavigator_8h_source.html#l00020">KVGeoNavigator.h:20</a></div></div>
<div class="ttc" id="classKVParticle_html_a90185da004429bf86a79a1f5de5b4878"><div class="ttname"><a href="classKVParticle.html#a90185da004429bf86a79a1f5de5b4878">KVParticle::SetE</a></div><div class="ttdeci">void SetE(Double_t a)</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8h_source.html#l00194">KVParticle.h:194</a></div></div>
<div class="ttc" id="classKVDetector_html_afdbd195fa9a847417efbc105c56ee45a"><div class="ttname"><a href="classKVDetector.html#afdbd195fa9a847417efbc105c56ee45a">KVDetector::SetPresent</a></div><div class="ttdeci">void SetPresent(Bool_t yes=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00412">KVDetector.h:412</a></div></div>
<div class="ttc" id="classKVDetector_html_a436dd5ff84df265bd5b5029de686f7ec"><div class="ttname"><a href="classKVDetector.html#a436dd5ff84df265bd5b5029de686f7ec">KVDetector::GetHits</a></div><div class="ttdeci">KVList * GetHits() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00263">KVDetector.h:263</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a20fdf05449df9edca542e5a8f18f1e50"><div class="ttname"><a href="classKVReconstructedNucleus.html#a20fdf05449df9edca542e5a8f18f1e50">KVReconstructedNucleus::GetAnglesFromStoppingDetector</a></div><div class="ttdeci">virtual void GetAnglesFromStoppingDetector(Option_t *opt=&quot;random&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8cpp_source.html#l00695">KVReconstructedNucleus.cpp:695</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a1b257ecf03d4b8a242f8293af3c3c875"><div class="ttname"><a href="classKVMultiDetArray.html#a1b257ecf03d4b8a242f8293af3c3c875">KVMultiDetArray::DeduceIdentificationTelescopesFromGeometry</a></div><div class="ttdeci">void DeduceIdentificationTelescopesFromGeometry()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03567">KVMultiDetArray.cpp:3567</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_af4ee6c7373d6405e14a8f5d3e58ad98d"><div class="ttname"><a href="classKVMultiDetArray.html#af4ee6c7373d6405e14a8f5d3e58ad98d">KVMultiDetArray::GetAlignedIDTelescopesForDetector</a></div><div class="ttdeci">virtual void GetAlignedIDTelescopesForDetector(KVDetector *det, TCollection *list)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03083">KVMultiDetArray.cpp:3083</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdoc">STL namespace. </div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a225bc41a3152a3f98c19676bc9f09bcfa2a9e7ad5e6c7f973f1e127df5384995e"><div class="ttname"><a href="classKVReconstructedNucleus.html#a225bc41a3152a3f98c19676bc9f09bcfa2a9e7ad5e6c7f973f1e127df5384995e">KVReconstructedNucleus::kStatusOK</a></div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00046">KVReconstructedNucleus.h:46</a></div></div>
<div class="ttc" id="KVNameValueList_8h_html"><div class="ttname"><a href="KVNameValueList_8h.html">KVNameValueList.h</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a7d068ba1bd87fd2c52950e69849da695"><div class="ttname"><a href="classKVMultiDetArray.html#a7d068ba1bd87fd2c52950e69849da695">KVMultiDetArray::fStatusIDTelescopes</a></div><div class="ttdeci">TList * fStatusIDTelescopes</div><div class="ttdoc">used by GetStatusIDTelescopes </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00060">KVMultiDetArray.h:60</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aecd2f4127285d2dd2a559b983087e32a"><div class="ttname"><a href="classKVMultiDetArray.html#aecd2f4127285d2dd2a559b983087e32a">KVMultiDetArray::SetNavigator</a></div><div class="ttdeci">void SetNavigator(KVGeoNavigator *geo)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03469">KVMultiDetArray.cpp:3469</a></div></div>
<div class="ttc" id="classKVDetector_html_a8baa59cd2a73e29c3f59506db79fe72a"><div class="ttname"><a href="classKVDetector.html#a8baa59cd2a73e29c3f59506db79fe72a">KVDetector::IsCalibrated</a></div><div class="ttdeci">virtual Bool_t IsCalibrated() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l00767">KVDetector.cpp:767</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a469865d6baec4e1becb670b527408978"><div class="ttname"><a href="classKVReconstructedNucleus.html#a469865d6baec4e1becb670b527408978">KVReconstructedNucleus::SetIsIdentified</a></div><div class="ttdeci">void SetIsIdentified()</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00215">KVReconstructedNucleus.h:215</a></div></div>
<div class="ttc" id="classKVList_html"><div class="ttname"><a href="classKVList.html">KVList</a></div><div class="ttdoc">Extended TList class which owns its objects by default. </div><div class="ttdef"><b>Definition:</b> <a href="KVList_8h_source.html#l00007">KVList.h:7</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_adfd55edcac9e28ab2a86e02c7b5f5eb9"><div class="ttname"><a href="classKVMultiDetArray.html#adfd55edcac9e28ab2a86e02c7b5f5eb9">KVMultiDetArray::AddACQParam</a></div><div class="ttdeci">void AddACQParam(KVACQParam *)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01647">KVMultiDetArray.cpp:1647</a></div></div>
<div class="ttc" id="classKVGeoStrucElement_html_a4b6d338ffc65ca72c6bad64225cbc380"><div class="ttname"><a href="classKVGeoStrucElement.html#a4b6d338ffc65ca72c6bad64225cbc380">KVGeoStrucElement::GetDetectors</a></div><div class="ttdeci">const KVSeqCollection * GetDetectors() const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoStrucElement_8h_source.html#l00087">KVGeoStrucElement.h:87</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a002d1b3b6b0e60a423684c2244202be7"><div class="ttname"><a href="classKVMultiDetArray.html#a002d1b3b6b0e60a423684c2244202be7">KVMultiDetArray::SetCalibrators</a></div><div class="ttdeci">virtual void SetCalibrators()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01777">KVMultiDetArray.cpp:1777</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ad66b671937919b1b374c60c6ec76471f"><div class="ttname"><a href="classKVMultiDetArray.html#ad66b671937919b1b374c60c6ec76471f">KVMultiDetArray::SetGridsInTelescopes</a></div><div class="ttdeci">virtual void SetGridsInTelescopes(UInt_t run)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03377">KVMultiDetArray.cpp:3377</a></div></div>
<div class="ttc" id="classKVNameValueList_html_a66ed545bcb57246f6c8f6394192aeacf"><div class="ttname"><a href="classKVNameValueList.html#a66ed545bcb57246f6c8f6394192aeacf">KVNameValueList::GetNpar</a></div><div class="ttdeci">Int_t GetNpar() const</div><div class="ttdoc">return the number of stored parameters </div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8cpp_source.html#l00420">KVNameValueList.cpp:420</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html"><div class="ttname"><a href="classKVMultiDetArray.html">KVMultiDetArray</a></div><div class="ttdoc">Multidetector array base class. </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00040">KVMultiDetArray.h:40</a></div></div>
<div class="ttc" id="classKVGeoDNTrajectory_html_a750b5f58f7ee589c0068f49c697cea5f"><div class="ttname"><a href="classKVGeoDNTrajectory.html#a750b5f58f7ee589c0068f49c697cea5f">KVGeoDNTrajectory::AddToNodes</a></div><div class="ttdeci">void AddToNodes()</div><div class="ttdoc">Add reference to this trajectory to all nodes on it. </div><div class="ttdef"><b>Definition:</b> <a href="KVGeoDNTrajectory_8cpp_source.html#l00283">KVGeoDNTrajectory.cpp:283</a></div></div>
<div class="ttc" id="classKVDetector_html_a4d6c13b0ac229c9ca0ca59709f1735c0"><div class="ttname"><a href="classKVDetector.html#a4d6c13b0ac229c9ca0ca59709f1735c0">KVDetector::GetFiredACQParameterListFormatString</a></div><div class="ttdeci">virtual const Char_t * GetFiredACQParameterListFormatString() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00338">KVDetector.h:338</a></div></div>
<div class="ttc" id="classKVRawDataReader_html_acc74143275fc91129baeed9c2f37816b"><div class="ttname"><a href="classKVRawDataReader.html#acc74143275fc91129baeed9c2f37816b">KVRawDataReader::GetDataFormat</a></div><div class="ttdeci">virtual TString GetDataFormat() const =0</div></div>
<div class="ttc" id="classKVGroup_html_a44055e1d2e38cc51a883feba88fc0a1c"><div class="ttname"><a href="classKVGroup.html#a44055e1d2e38cc51a883feba88fc0a1c">KVGroup::SetNumber</a></div><div class="ttdeci">virtual void SetNumber(UInt_t num)</div><div class="ttdef"><b>Definition:</b> <a href="KVGroup_8h_source.html#l00032">KVGroup.h:32</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a89331d593797477a1471a3a8a66910e0"><div class="ttname"><a href="classKVMultiDetArray.html#a89331d593797477a1471a3a8a66910e0">KVMultiDetArray::GetTrajectories</a></div><div class="ttdeci">const TSeqCollection * GetTrajectories() const</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00329">KVMultiDetArray.h:329</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a7dc06514cd3bba95e10241d743d9c74d"><div class="ttname"><a href="classKVReconstructedNucleus.html#a7dc06514cd3bba95e10241d743d9c74d">KVReconstructedNucleus::IsIdentified</a></div><div class="ttdeci">Bool_t IsIdentified() const</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00239">KVReconstructedNucleus.h:239</a></div></div>
<div class="ttc" id="classKVGANILDataReader_html"><div class="ttname"><a href="classKVGANILDataReader.html">KVGANILDataReader</a></div><div class="ttdoc">Reads GANIL acquisition files. </div><div class="ttdef"><b>Definition:</b> <a href="KVGANILDataReader_8h_source.html#l00014">KVGANILDataReader.h:14</a></div></div>
<div class="ttc" id="classKVIDGraph_html_afdbd1c003a293a38fc2f5dffaafbbb4f"><div class="ttname"><a href="classKVIDGraph.html#afdbd1c003a293a38fc2f5dffaafbbb4f">KVIDGraph::ClearListOfTelescopes</a></div><div class="ttdeci">void ClearListOfTelescopes()</div><div class="ttdef"><b>Definition:</b> <a href="KVIDGraph_8h_source.html#l00087">KVIDGraph.h:87</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a8451dea53dfb351d142598ab717936da"><div class="ttname"><a href="classKVMultiDetArray.html#a8451dea53dfb351d142598ab717936da">KVMultiDetArray::Build</a></div><div class="ttdeci">virtual void Build(Int_t run=-1)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00229">KVMultiDetArray.cpp:229</a></div></div>
<div class="ttc" id="KVLayer_8h_html"><div class="ttname"><a href="KVLayer_8h.html">KVLayer.h</a></div></div>
<div class="ttc" id="classKVGeoStrucElement_html_ac94614611d0985c4a38188100e0a6bca"><div class="ttname"><a href="classKVGeoStrucElement.html#ac94614611d0985c4a38188100e0a6bca">KVGeoStrucElement::GetStructure</a></div><div class="ttdeci">KVGeoStrucElement * GetStructure(const Char_t *name) const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoStrucElement_8h_source.html#l00072">KVGeoStrucElement.h:72</a></div></div>
<div class="ttc" id="classKVNumberList_html_ad4860304ca76b17bd01a564019b4ac1f"><div class="ttname"><a href="classKVNumberList.html#ad4860304ca76b17bd01a564019b4ac1f">KVNumberList::IsEmpty</a></div><div class="ttdeci">Bool_t IsEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8h_source.html#l00106">KVNumberList.h:106</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aed96731a5f2cf30283e62e3149bd83c5a4db3e048156484746d29706431b3d6bb"><div class="ttname"><a href="classKVMultiDetArray.html#aed96731a5f2cf30283e62e3149bd83c5a4db3e048156484746d29706431b3d6bb">KVMultiDetArray::kFilterType_Full</a></div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00156">KVMultiDetArray.h:156</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a3e88c8d36d75796d307c8547c7e39fc9"><div class="ttname"><a href="classKVReconstructedNucleus.html#a3e88c8d36d75796d307c8547c7e39fc9">KVReconstructedNucleus::GetNUnidentifiedInGroup</a></div><div class="ttdeci">static UInt_t GetNUnidentifiedInGroup(KVGroup *grp)</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00413">KVReconstructedNucleus.h:413</a></div></div>
<div class="ttc" id="classKVGeoNavigator_html_afca341c042557cca81471b6971690bbf"><div class="ttname"><a href="classKVGeoNavigator.html#afca341c042557cca81471b6971690bbf">KVGeoNavigator::DrawTracks</a></div><div class="ttdeci">void DrawTracks(KVNumberList *=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoNavigator_8cpp_source.html#l00870">KVGeoNavigator.cpp:870</a></div></div>
<div class="ttc" id="classKVDetector_html_ab64fcb32e4162e14ba04320803b0967f"><div class="ttname"><a href="classKVDetector.html#ab64fcb32e4162e14ba04320803b0967f">KVDetector::GetEnergy</a></div><div class="ttdeci">virtual Double_t GetEnergy()</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00197">KVDetector.h:197</a></div></div>
<div class="ttc" id="classKVNucleus_html_a5d1a5c1b9ea016d11b9b4bd803c3a8c4"><div class="ttname"><a href="classKVNucleus.html#a5d1a5c1b9ea016d11b9b4bd803c3a8c4">KVNucleus::GetA</a></div><div class="ttdeci">Int_t GetA() const</div><div class="ttdef"><b>Definition:</b> <a href="KVNucleus_8cpp_source.html#l00953">KVNucleus.cpp:953</a></div></div>
<div class="ttc" id="classKVNameValueList_html_a2b9beaf43ac8d3374c57f8cba5eb030b"><div class="ttname"><a href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">KVNameValueList::SetValue</a></div><div class="ttdeci">void SetValue(const Char_t *name, value_type value)</div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8h_source.html#l00043">KVNameValueList.h:43</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a5533ef3557e261c30a83a35a78005ec1"><div class="ttname"><a href="classKVMultiDetArray.html#a5533ef3557e261c30a83a35a78005ec1">KVMultiDetArray::SetDetecting</a></div><div class="ttdeci">virtual void SetDetecting(KVDetector *det, Bool_t detecting=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03340">KVMultiDetArray.cpp:3340</a></div></div>
<div class="ttc" id="classKVGeoDNTrajectory_html_a92acdbe77c732f196fdf57a5a705bfee"><div class="ttname"><a href="classKVGeoDNTrajectory.html#a92acdbe77c732f196fdf57a5a705bfee">KVGeoDNTrajectory::ContainsPath</a></div><div class="ttdeci">Bool_t ContainsPath(KVGeoDNTrajectory *other)</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoDNTrajectory_8h_source.html#l00232">KVGeoDNTrajectory.h:232</a></div></div>
<div class="ttc" id="classKVDetector_html_a5aff4f2592814dd5e652f3affaba1e26"><div class="ttname"><a href="classKVDetector.html#a5aff4f2592814dd5e652f3affaba1e26">KVDetector::SetACQParams</a></div><div class="ttdeci">virtual void SetACQParams()</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l00840">KVDetector.cpp:840</a></div></div>
<div class="ttc" id="classKVBase_html_a0acffffea0435f2d28e3782be31063e2"><div class="ttname"><a href="classKVBase.html#a0acffffea0435f2d28e3782be31063e2">KVBase::SetLabel</a></div><div class="ttdeci">void SetLabel(const Char_t *lab)</div><div class="ttdef"><b>Definition:</b> <a href="KVBase_8h_source.html#l00076">KVBase.h:76</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a4d5ce7fcb8e017a84d9282dcb1509762"><div class="ttname"><a href="classKVIDTelescope.html#a4d5ce7fcb8e017a84d9282dcb1509762">KVIDTelescope::SetIDCode</a></div><div class="ttdeci">virtual void SetIDCode(KVReconstructedNucleus *, UShort_t)</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8cpp_source.html#l01525">KVIDTelescope.cpp:1525</a></div></div>
<div class="ttc" id="classKVUpDater_html"><div class="ttname"><a href="classKVUpDater.html">KVUpDater</a></div><div class="ttdef"><b>Definition:</b> <a href="KVUpDater_8h_source.html#l00015">KVUpDater.h:15</a></div></div>
<div class="ttc" id="classKVSeqCollection_html_a68606f35f850c66862119b5ba0bfb69c"><div class="ttname"><a href="classKVSeqCollection.html#a68606f35f850c66862119b5ba0bfb69c">KVSeqCollection::At</a></div><div class="ttdeci">virtual TObject * At(Int_t idx) const</div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8h_source.html#l00072">KVSeqCollection.h:72</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a959be0d7af93982fb118b62cd4d3ea7e"><div class="ttname"><a href="classKVMultiDetArray.html#a959be0d7af93982fb118b62cd4d3ea7e">KVMultiDetArray::ReplaceDetector</a></div><div class="ttdeci">void ReplaceDetector(const Char_t *name, KVDetector *new_kvd)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01521">KVMultiDetArray.cpp:1521</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ab7a6fa98648163f4be0e11d8b091258c"><div class="ttname"><a href="classKVMultiDetArray.html#ab7a6fa98648163f4be0e11d8b091258c">KVMultiDetArray::SetACQParams</a></div><div class="ttdeci">virtual void SetACQParams()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01695">KVMultiDetArray.cpp:1695</a></div></div>
<div class="ttc" id="classKVTarget_html_a5ea331fc1f2ab684e997743ed91d1f25"><div class="ttname"><a href="classKVTarget.html#a5ea331fc1f2ab684e997743ed91d1f25">KVTarget::GetParticleEIncFromERes</a></div><div class="ttdeci">virtual Double_t GetParticleEIncFromERes(KVNucleus *, TVector3 *norm=0)</div><div class="ttdef"><b>Definition:</b> <a href="KVTarget_8cpp_source.html#l01169">KVTarget.cpp:1169</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a9e0ac8f7d807a06632ebd97b0bd2cc4f"><div class="ttname"><a href="classKVMultiDetArray.html#a9e0ac8f7d807a06632ebd97b0bd2cc4f">KVMultiDetArray::MakeMultiDetector</a></div><div class="ttdeci">static KVMultiDetArray * MakeMultiDetector(const Char_t *dataset_name, Int_t run=-1, TString classname=&quot;KVMultiDetArray&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02160">KVMultiDetArray.cpp:2160</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a325f80dceb13e278c16a505457a40d48"><div class="ttname"><a href="classKVMultiDetArray.html#a325f80dceb13e278c16a505457a40d48">KVMultiDetArray::UpdateIdentifications</a></div><div class="ttdeci">virtual void UpdateIdentifications()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02406">KVMultiDetArray.cpp:2406</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a2a06a6feeb4980fe5b6713f0f43971bd"><div class="ttname"><a href="classKVMultiDetArray.html#a2a06a6feeb4980fe5b6713f0f43971bd">KVMultiDetArray::fCalibStatusDets</a></div><div class="ttdeci">TList * fCalibStatusDets</div><div class="ttdoc">used by GetStatusIDTelescopes </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00061">KVMultiDetArray.h:61</a></div></div>
<div class="ttc" id="classKVGroup_html_add6bc2fea7023957d38c2e621f85ca74"><div class="ttname"><a href="classKVGroup.html#add6bc2fea7023957d38c2e621f85ca74">KVGroup::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdef"><b>Definition:</b> <a href="KVGroup_8cpp_source.html#l00111">KVGroup.cpp:111</a></div></div>
<div class="ttc" id="classKVString_html"><div class="ttname"><a href="classKVString.html">KVString</a></div><div class="ttdef"><b>Definition:</b> <a href="KVString_8h_source.html#l00025">KVString.h:25</a></div></div>
<div class="ttc" id="KVGroup_8h_html"><div class="ttname"><a href="KVGroup_8h.html">KVGroup.h</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a7f5b305c8b899e54fa8cce64e71db6ae"><div class="ttname"><a href="classKVIDTelescope.html#a7f5b305c8b899e54fa8cce64e71db6ae">KVIDTelescope::GetBadIDCode</a></div><div class="ttdeci">virtual UShort_t GetBadIDCode()</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8h_source.html#l00180">KVIDTelescope.h:180</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_af4d07c860cc661c3bb991d7933aaf68a"><div class="ttname"><a href="classKVMultiDetArray.html#af4d07c860cc661c3bb991d7933aaf68a">KVMultiDetArray::set_up_single_stage_telescope</a></div><div class="ttdeci">virtual void set_up_single_stage_telescope(KVDetector *det, KVIDTelescope *idt, TCollection *l)</div><div class="ttdoc">Set up detector in single-stage identification telescope and add to fIDTelescopes and to l...</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00584">KVMultiDetArray.cpp:584</a></div></div>
<div class="ttc" id="classKVDetector_html_a338f814acba30617cecc483780da5e8c"><div class="ttname"><a href="classKVDetector.html#a338f814acba30617cecc483780da5e8c">KVDetector::GetAlignedIDTelescopes</a></div><div class="ttdeci">KVList * GetAlignedIDTelescopes()</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l00896">KVDetector.cpp:896</a></div></div>
<div class="ttc" id="classKVDetector_html_a853e5dec9a5b5a0a9a0c87f581900068"><div class="ttname"><a href="classKVDetector.html#a853e5dec9a5b5a0a9a0c87f581900068">KVDetector::SetThickness</a></div><div class="ttdeci">void SetThickness(Double_t thick)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l02386">KVDetector.cpp:2386</a></div></div>
<div class="ttc" id="classKVNucleus_html_a57714f5cce37bc6d718a303087a39314"><div class="ttname"><a href="classKVNucleus.html#a57714f5cce37bc6d718a303087a39314">KVNucleus::Print</a></div><div class="ttdeci">virtual void Print(Option_t *t=&quot;&quot;) const</div><div class="ttdoc">Display nucleus parameters. </div><div class="ttdef"><b>Definition:</b> <a href="KVNucleus_8cpp_source.html#l00912">KVNucleus.cpp:912</a></div></div>
<div class="ttc" id="classKVParticle_html_a4ee1e4204aed7301503f32e0b542781e"><div class="ttname"><a href="classKVParticle.html#a4ee1e4204aed7301503f32e0b542781e">KVParticle::GetEnergy</a></div><div class="ttdeci">Double_t GetEnergy() const</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8h_source.html#l00215">KVParticle.h:215</a></div></div>
<div class="ttc" id="classKVDataSet_html_a7c3ddb4a88a58fd3cdef037761ea2c51"><div class="ttname"><a href="classKVDataSet.html#a7c3ddb4a88a58fd3cdef037761ea2c51">KVDataSet::HasCalibIdentInfos</a></div><div class="ttdeci">Bool_t HasCalibIdentInfos() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSet_8h_source.html#l00205">KVDataSet.h:205</a></div></div>
<div class="ttc" id="classKVDetectorEvent_html_a57c1682bd1bd06b1dc98c6088766acc0"><div class="ttname"><a href="classKVDetectorEvent.html#a57c1682bd1bd06b1dc98c6088766acc0">KVDetectorEvent::AddGroup</a></div><div class="ttdeci">void AddGroup(KVGroup *grp)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetectorEvent_8h_source.html#l00039">KVDetectorEvent.h:39</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a12cf6e0f66ca75963199c99f4fd636b6"><div class="ttname"><a href="classKVMultiDetArray.html#a12cf6e0f66ca75963199c99f4fd636b6">KVMultiDetArray::fCloseGeometryNow</a></div><div class="ttdeci">static Bool_t fCloseGeometryNow</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00047">KVMultiDetArray.h:47</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a17bdda27d1130e346e14bed8a46ad52e"><div class="ttname"><a href="classKVMultiDetArray.html#a17bdda27d1130e346e14bed8a46ad52e">KVMultiDetArray::GetGroup</a></div><div class="ttdeci">virtual KVGroup * GetGroup(const Char_t *)</div><div class="ttdoc">Return pointer to group with name. </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01597">KVMultiDetArray.cpp:1597</a></div></div>
<div class="ttc" id="classKVParticle_html_a126f6c7a8facce07847669cd9eff661d"><div class="ttname"><a href="classKVParticle.html#a126f6c7a8facce07847669cd9eff661d">KVParticle::AddGroup</a></div><div class="ttdeci">void AddGroup(const Char_t *groupname, const Char_t *from=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8cpp_source.html#l01216">KVParticle.cpp:1216</a></div></div>
<div class="ttc" id="classKVGeoStrucElement_html_a5d0dbbbcc4a0573f08db5a5f52a4dc61"><div class="ttname"><a href="classKVGeoStrucElement.html#a5d0dbbbcc4a0573f08db5a5f52a4dc61">KVGeoStrucElement::Remove</a></div><div class="ttdeci">virtual void Remove(KVBase *)</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoStrucElement_8cpp_source.html#l00174">KVGeoStrucElement.cpp:174</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ab8bfb5013eabd91da21b6907d4b8081d"><div class="ttname"><a href="classKVMultiDetArray.html#ab8bfb5013eabd91da21b6907d4b8081d">KVMultiDetArray::try_upper_and_lower_doubleIDtelescope</a></div><div class="ttdeci">bool try_upper_and_lower_doubleIDtelescope(TString uri, KVDetector *de, KVDetector *e, TCollection *l)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00457">KVMultiDetArray.cpp:457</a></div></div>
<div class="ttc" id="classKVACQParam_html"><div class="ttname"><a href="classKVACQParam.html">KVACQParam</a></div><div class="ttdef"><b>Definition:</b> <a href="KVACQParam_8h_source.html#l00028">KVACQParam.h:28</a></div></div>
<div class="ttc" id="classKVNucleus_html_adc8a841035e9601bbefd08bdd3dd20e1"><div class="ttname"><a href="classKVNucleus.html#adc8a841035e9601bbefd08bdd3dd20e1">KVNucleus::SetMassFormula</a></div><div class="ttdeci">void SetMassFormula(UChar_t mt)</div><div class="ttdef"><b>Definition:</b> <a href="KVNucleus_8h_source.html#l00227">KVNucleus.h:227</a></div></div>
<div class="ttc" id="classKVIDGraph_html_aa946936cd846f1d6f02532c360059d88"><div class="ttname"><a href="classKVIDGraph.html#aa946936cd846f1d6f02532c360059d88">KVIDGraph::GetParameters</a></div><div class="ttdeci">KVNameValueList * GetParameters() const</div><div class="ttdef"><b>Definition:</b> <a href="KVIDGraph_8h_source.html#l00254">KVIDGraph.h:254</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a0c7f73be44e79305fe8e67d7029e4753"><div class="ttname"><a href="classKVMultiDetArray.html#a0c7f73be44e79305fe8e67d7029e4753">KVMultiDetArray::handle_raw_data_event_mfmframe_ebyedat</a></div><div class="ttdeci">virtual Bool_t handle_raw_data_event_mfmframe_ebyedat(const MFMEbyedatFrame &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03835">KVMultiDetArray.cpp:3835</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a47e809c6c786bf38bc9f31a92fa67922a200679320fe5c97c4bc68f9a37ee54b9"><div class="ttname"><a href="classKVMultiDetArray.html#a47e809c6c786bf38bc9f31a92fa67922a200679320fe5c97c4bc68f9a37ee54b9">KVMultiDetArray::kIDParamsSet</a></div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00056">KVMultiDetArray.h:56</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a58d80ed2b8528f3dc881f49a217c2a54"><div class="ttname"><a href="classKVMultiDetArray.html#a58d80ed2b8528f3dc881f49a217c2a54">KVMultiDetArray::SetPresent</a></div><div class="ttdeci">virtual void SetPresent(KVDetector *det, Bool_t present=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03269">KVMultiDetArray.cpp:3269</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a017fffe44394e279fdd2958525641c2a"><div class="ttname"><a href="classKVMultiDetArray.html#a017fffe44394e279fdd2958525641c2a">KVMultiDetArray::fAcceptECodes</a></div><div class="ttdeci">KVNumberList fAcceptECodes</div><div class="ttdoc">list of acceptable calibration codes for reconstructed nuclei </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00083">KVMultiDetArray.h:83</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ae7b253afe23655e5995e6cbd87fb61ac"><div class="ttname"><a href="classKVMultiDetArray.html#ae7b253afe23655e5995e6cbd87fb61ac">KVMultiDetArray::fDataSet</a></div><div class="ttdeci">TString fDataSet</div><div class="ttdoc">name of associated dataset, used with MakeMultiDetector() </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00068">KVMultiDetArray.h:68</a></div></div>
<div class="ttc" id="classKVSeqCollection_html"><div class="ttname"><a href="classKVSeqCollection.html">KVSeqCollection</a></div><div class="ttdoc">KaliVeda extensions to ROOT collections. </div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8h_source.html#l00012">KVSeqCollection.h:12</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a694ccf78022a106de15b70c9ddbaa3ae"><div class="ttname"><a href="classKVMultiDetArray.html#a694ccf78022a106de15b70c9ddbaa3ae">KVMultiDetArray::SetGeometry</a></div><div class="ttdeci">void SetGeometry(TGeoManager *)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02905">KVMultiDetArray.cpp:2905</a></div></div>
<div class="ttc" id="classKVDetector_html_a36c14085e0ec80f25c1bf8fd47e1232f"><div class="ttname"><a href="classKVDetector.html#a36c14085e0ec80f25c1bf8fd47e1232f">KVDetector::GetGroup</a></div><div class="ttdeci">KVGroup * GetGroup() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l02188">KVDetector.cpp:2188</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ad0eb6737513df681a43bea22f6a336e3"><div class="ttname"><a href="classKVMultiDetArray.html#ad0eb6737513df681a43bea22f6a336e3">KVMultiDetArray::PrepareModifGroup</a></div><div class="ttdeci">virtual void PrepareModifGroup(KVGroup *grp, KVDetector *dd)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03203">KVMultiDetArray.cpp:3203</a></div></div>
<div class="ttc" id="KVIDGridManager_8h_html"><div class="ttname"><a href="KVIDGridManager_8h.html">KVIDGridManager.h</a></div></div>
<div class="ttc" id="classKVACQParam_html_a597b8a11830cb6337e1a93d060dc2c13"><div class="ttname"><a href="classKVACQParam.html#a597b8a11830cb6337e1a93d060dc2c13">KVACQParam::SetWorking</a></div><div class="ttdeci">void SetWorking(Bool_t on=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVACQParam_8h_source.html#l00096">KVACQParam.h:96</a></div></div>
<div class="ttc" id="classKVPosition_html_ae80f70863fccfd90fd042462b7235d34"><div class="ttname"><a href="classKVPosition.html#ae80f70863fccfd90fd042462b7235d34">KVPosition::GetPhi</a></div><div class="ttdeci">Double_t GetPhi()</div><div class="ttdef"><b>Definition:</b> <a href="KVPosition_8h_source.html#l00101">KVPosition.h:101</a></div></div>
<div class="ttc" id="classKVNumberList_html_ace4c9d11b503d87c782d55947c345131"><div class="ttname"><a href="classKVNumberList.html#ace4c9d11b503d87c782d55947c345131">KVNumberList::Set</a></div><div class="ttdeci">void Set(const TString &amp;l)</div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8h_source.html#l00065">KVNumberList.h:65</a></div></div>
<div class="ttc" id="classKVMaterial_html_a2907369c43a719d2edf873693c76cd16"><div class="ttname"><a href="classKVMaterial.html#a2907369c43a719d2edf873693c76cd16">KVMaterial::SetThickness</a></div><div class="ttdeci">virtual void SetThickness(Double_t thick)</div><div class="ttdef"><b>Definition:</b> <a href="KVMaterial_8cpp_source.html#l00347">KVMaterial.cpp:347</a></div></div>
<div class="ttc" id="KVReconstructedEvent_8h_html"><div class="ttname"><a href="KVReconstructedEvent_8h.html">KVReconstructedEvent.h</a></div></div>
<div class="ttc" id="classKVGeoDNTrajectory_html_a2de07c919cf48d6b75fbecb2a0c2c8a8"><div class="ttname"><a href="classKVGeoDNTrajectory.html#a2de07c919cf48d6b75fbecb2a0c2c8a8">KVGeoDNTrajectory::AccessIDTelescopeList</a></div><div class="ttdeci">KVSeqCollection * AccessIDTelescopeList()</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoDNTrajectory_8h_source.html#l00223">KVGeoDNTrajectory.h:223</a></div></div>
<div class="ttc" id="namespaceme_html"><div class="ttname"><a href="namespaceme.html">me</a></div><div class="ttdef"><b>Definition:</b> <a href="MEDetectorStack_8h_source.html#l00043">MEDetectorStack.h:43</a></div></div>
<div class="ttc" id="classKVReconstructedEvent_html_aabcde79be88f6228027371cb0423fbe3"><div class="ttname"><a href="classKVReconstructedEvent.html#aabcde79be88f6228027371cb0423fbe3">KVReconstructedEvent::SecondaryIdentCalib</a></div><div class="ttdeci">virtual void SecondaryIdentCalib()</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedEvent_8h_source.html#l00080">KVReconstructedEvent.h:80</a></div></div>
<div class="ttc" id="classKVNameValueList_html_a79ddefcb915b4674fce8b752c344d856"><div class="ttname"><a href="classKVNameValueList.html#a79ddefcb915b4674fce8b752c344d856">KVNameValueList::GetEntries</a></div><div class="ttdeci">Int_t GetEntries() const</div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8h_source.html#l00162">KVNameValueList.h:162</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a8c9249feead1176572f38dd5da4ca3cb"><div class="ttname"><a href="classKVReconstructedNucleus.html#a8c9249feead1176572f38dd5da4ca3cb">KVReconstructedNucleus::GetStoppingDetector</a></div><div class="ttdeci">KVDetector * GetStoppingDetector() const</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00098">KVReconstructedNucleus.h:98</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a4b879953f49476117f6f9e6e14db3074"><div class="ttname"><a href="classKVIDTelescope.html#a4b879953f49476117f6f9e6e14db3074">KVIDTelescope::GetZminCode</a></div><div class="ttdeci">virtual UShort_t GetZminCode()</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8h_source.html#l00208">KVIDTelescope.h:208</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a43dec454bb300756ea7ab4dce812f9c0"><div class="ttname"><a href="classKVReconstructedNucleus.html#a43dec454bb300756ea7ab4dce812f9c0">KVReconstructedNucleus::SetNSegDet</a></div><div class="ttdeci">void SetNSegDet(Int_t seg)</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00113">KVReconstructedNucleus.h:113</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a9113cf2c22d97b0b98d294fb55713f7a"><div class="ttname"><a href="classKVMultiDetArray.html#a9113cf2c22d97b0b98d294fb55713f7a">KVMultiDetArray::set_up_telescope</a></div><div class="ttdeci">virtual void set_up_telescope(KVDetector *de, KVDetector *e, KVIDTelescope *idt, TCollection *l)</div><div class="ttdoc">Set up detectors in de-e identification telescope and add to fIDTelescopes and to l...</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00554">KVMultiDetArray.cpp:554</a></div></div>
<div class="ttc" id="classKVGroup_html_ac9cdd827967822e8e7e12731226141af"><div class="ttname"><a href="classKVGroup.html#ac9cdd827967822e8e7e12731226141af">KVGroup::Sort</a></div><div class="ttdeci">virtual void Sort()</div><div class="ttdef"><b>Definition:</b> <a href="KVGroup_8h_source.html#l00065">KVGroup.h:65</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aa7bd657c217ada676d69268f6dea51c9"><div class="ttname"><a href="classKVMultiDetArray.html#aa7bd657c217ada676d69268f6dea51c9">KVMultiDetArray::GetPunchThroughEnergy</a></div><div class="ttdeci">virtual Double_t GetPunchThroughEnergy(const Char_t *detector, Int_t Z, Int_t A)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02923">KVMultiDetArray.cpp:2923</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a5e44b6698aa3ffdc1b8f2ca2caa9ae80"><div class="ttname"><a href="classKVIDTelescope.html#a5e44b6698aa3ffdc1b8f2ca2caa9ae80">KVIDTelescope::CheckTheoreticalIdentificationThreshold</a></div><div class="ttdeci">virtual Bool_t CheckTheoreticalIdentificationThreshold(KVNucleus *, Double_t=0.0)</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8cpp_source.html#l01542">KVIDTelescope.cpp:1542</a></div></div>
<div class="ttc" id="classKVMaterial_html_a2b7413bb437591aa53b0621c78faf08f"><div class="ttname"><a href="classKVMaterial.html#a2b7413bb437591aa53b0621c78faf08f">KVMaterial::GetThickness</a></div><div class="ttdeci">virtual Double_t GetThickness() const</div><div class="ttdef"><b>Definition:</b> <a href="KVMaterial_8cpp_source.html#l00373">KVMaterial.cpp:373</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aac7fee33890b2fcf23b29598ca0ff431"><div class="ttname"><a href="classKVMultiDetArray.html#aac7fee33890b2fcf23b29598ca0ff431">KVMultiDetArray::RenumberGroups</a></div><div class="ttdeci">virtual void RenumberGroups()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00624">KVMultiDetArray.cpp:624</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a119e91d02cde9bd3550506d98ffa49ef"><div class="ttname"><a href="classKVMultiDetArray.html#a119e91d02cde9bd3550506d98ffa49ef">KVMultiDetArray::try_all_singleID_telescopes</a></div><div class="ttdeci">int try_all_singleID_telescopes(KVDetector *d, TCollection *l)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00319">KVMultiDetArray.cpp:319</a></div></div>
<div class="ttc" id="KVRangeTableGeoNavigator_8h_html"><div class="ttname"><a href="KVRangeTableGeoNavigator_8h.html">KVRangeTableGeoNavigator.h</a></div></div>
<div class="ttc" id="KVGANILDataReader_8h_html"><div class="ttname"><a href="KVGANILDataReader_8h.html">KVGANILDataReader.h</a></div></div>
<div class="ttc" id="KVDataSet_8cpp_html_a2ad1da1bfe632a53bd05225834e2ce18"><div class="ttname"><a href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a></div><div class="ttdeci">KVDataSet * gDataSet</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSet_8cpp_source.html#l00208">KVDataSet.cpp:208</a></div></div>
<div class="ttc" id="classKVGeoDetectorNode_html"><div class="ttname"><a href="classKVGeoDetectorNode.html">KVGeoDetectorNode</a></div><div class="ttdoc">Information on relative positions of detectors &amp; particle trajectories. </div><div class="ttdef"><b>Definition:</b> <a href="KVGeoDetectorNode_8h_source.html#l00013">KVGeoDetectorNode.h:13</a></div></div>
<div class="ttc" id="KVRList_8h_html"><div class="ttname"><a href="KVRList_8h.html">KVRList.h</a></div></div>
<div class="ttc" id="classKVPosition_html_a69b2c40a36da0a32d78df70bcdfc828f"><div class="ttname"><a href="classKVPosition.html#a69b2c40a36da0a32d78df70bcdfc828f">KVPosition::IsSmallerThan</a></div><div class="ttdeci">Bool_t IsSmallerThan(KVPosition *pos)</div><div class="ttdoc">kTRUE if &quot;this&quot; is entirely contained within &quot;pos&quot; </div><div class="ttdef"><b>Definition:</b> <a href="KVPosition_8cpp_source.html#l00431">KVPosition.cpp:431</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a65c4fecb262cb385bcbfb3f1afda8884"><div class="ttname"><a href="classKVMultiDetArray.html#a65c4fecb262cb385bcbfb3f1afda8884">KVMultiDetArray::DetectParticleIn</a></div><div class="ttdeci">void DetectParticleIn(const Char_t *detname, KVNucleus *kvp)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02075">KVMultiDetArray.cpp:2075</a></div></div>
<div class="ttc" id="classKVACQParam_html_ae7456bcbcef8554e0e1ce46e976144d2"><div class="ttname"><a href="classKVACQParam.html#ae7456bcbcef8554e0e1ce46e976144d2">KVACQParam::SetData</a></div><div class="ttdeci">void SetData(UShort_t val)</div><div class="ttdef"><b>Definition:</b> <a href="KVACQParam_8h_source.html#l00119">KVACQParam.h:119</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a225bc41a3152a3f98c19676bc9f09bcfa7391cd71d9354f5de36b7d012975fdb2"><div class="ttname"><a href="classKVReconstructedNucleus.html#a225bc41a3152a3f98c19676bc9f09bcfa7391cd71d9354f5de36b7d012975fdb2">KVReconstructedNucleus::kStatusPileupGhost</a></div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00054">KVReconstructedNucleus.h:54</a></div></div>
<div class="ttc" id="classKVNameValueList_html_aea27e4ffa90b56089f22031ba0fbd97f"><div class="ttname"><a href="classKVNameValueList.html#aea27e4ffa90b56089f22031ba0fbd97f">KVNameValueList::GetList</a></div><div class="ttdeci">KVHashList * GetList() const</div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8cpp_source.html#l00136">KVNameValueList.cpp:136</a></div></div>
<div class="ttc" id="classKVSeqCollection_html_a79e71dc3aba24a091398199d670b5837"><div class="ttname"><a href="classKVSeqCollection.html#a79e71dc3aba24a091398199d670b5837">KVSeqCollection::First</a></div><div class="ttdeci">virtual TObject * First() const</div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8h_source.html#l00134">KVSeqCollection.h:134</a></div></div>
<div class="ttc" id="classKVNameValueList_html_ac7100068241e27ba17a83e8eabcd9e18"><div class="ttname"><a href="classKVNameValueList.html#ac7100068241e27ba17a83e8eabcd9e18">KVNameValueList::GetStringValue</a></div><div class="ttdeci">const Char_t * GetStringValue(const Char_t *name) const</div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8h_source.html#l00194">KVNameValueList.h:194</a></div></div>
<div class="ttc" id="classKVRangeTableGeoNavigator_html"><div class="ttname"><a href="classKVRangeTableGeoNavigator.html">KVRangeTableGeoNavigator</a></div><div class="ttdoc">Propagate particles through a geometry and calculate their energy losses. </div><div class="ttdef"><b>Definition:</b> <a href="KVRangeTableGeoNavigator_8h_source.html#l00011">KVRangeTableGeoNavigator.h:11</a></div></div>
<div class="ttc" id="classKVDetectorEvent_html_aa9fb647cb9b05ba268c3ff12e44c15ec"><div class="ttname"><a href="classKVDetectorEvent.html#aa9fb647cb9b05ba268c3ff12e44c15ec">KVDetectorEvent::GetGroups</a></div><div class="ttdeci">KVUniqueNameList * GetGroups()</div><div class="ttdef"><b>Definition:</b> <a href="KVDetectorEvent_8h_source.html#l00045">KVDetectorEvent.h:45</a></div></div>
<div class="ttc" id="classKVNucleus_html"><div class="ttname"><a href="classKVNucleus.html">KVNucleus</a></div><div class="ttdef"><b>Definition:</b> <a href="KVNucleus_8h_source.html#l00027">KVNucleus.h:27</a></div></div>
<div class="ttc" id="KVDataAnalyser_8h_html"><div class="ttname"><a href="KVDataAnalyser_8h.html">KVDataAnalyser.h</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a4103a5b9615494d918231ea1a27c2c1f"><div class="ttname"><a href="classKVMultiDetArray.html#a4103a5b9615494d918231ea1a27c2c1f">KVMultiDetArray::try_all_doubleID_telescopes</a></div><div class="ttdeci">int try_all_doubleID_telescopes(KVDetector *de, KVDetector *e, TCollection *l)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00374">KVMultiDetArray.cpp:374</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a7e93dfef39ca5b4e4e05497209a2cc20"><div class="ttname"><a href="classKVMultiDetArray.html#a7e93dfef39ca5b4e4e05497209a2cc20">KVMultiDetArray::SetPedestals</a></div><div class="ttdeci">virtual void SetPedestals(const Char_t *)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02103">KVMultiDetArray.cpp:2103</a></div></div>
<div class="ttc" id="classKVGeoStrucElement_html_ac15228a74ea3508ebec6e269a2e0821a"><div class="ttname"><a href="classKVGeoStrucElement.html#ac15228a74ea3508ebec6e269a2e0821a">KVGeoStrucElement::GetStructureTypeList</a></div><div class="ttdeci">KVSeqCollection * GetStructureTypeList(const Char_t *type) const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoStrucElement_8cpp_source.html#l00236">KVGeoStrucElement.cpp:236</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_aeae8d7d72178a5c9be5194de7ab7a57a"><div class="ttname"><a href="classKVIDTelescope.html#aeae8d7d72178a5c9be5194de7ab7a57a">KVIDTelescope::GetECode</a></div><div class="ttdeci">virtual UChar_t GetECode()</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8h_source.html#l00215">KVIDTelescope.h:215</a></div></div>
<div class="ttc" id="classKVSeqCollection_html_a03fcc3b706728272bb140e52fb230fc8"><div class="ttname"><a href="classKVSeqCollection.html#a03fcc3b706728272bb140e52fb230fc8">KVSeqCollection::FindObjectByLabel</a></div><div class="ttdeci">virtual TObject * FindObjectByLabel(const Char_t *) const</div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8cpp_source.html#l00606">KVSeqCollection.cpp:606</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_aa91c50893bc2883353470b5ccb996b34"><div class="ttname"><a href="classKVReconstructedNucleus.html#aa91c50893bc2883353470b5ccb996b34">KVReconstructedNucleus::GetNSegDet</a></div><div class="ttdeci">Int_t GetNSegDet() const</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00107">KVReconstructedNucleus.h:107</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a9968eab60718ee341f209d5bc1f1a20c"><div class="ttname"><a href="classKVMultiDetArray.html#a9968eab60718ee341f209d5bc1f1a20c">KVMultiDetArray::handle_raw_data_event_mfmframe</a></div><div class="ttdeci">virtual Bool_t handle_raw_data_event_mfmframe(const MFMCommonFrame &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03807">KVMultiDetArray.cpp:3807</a></div></div>
<div class="ttc" id="classKVNucleus_html_a6983e634af13af641a0d7f4725ca6521"><div class="ttname"><a href="classKVNucleus.html#a6983e634af13af641a0d7f4725ca6521">KVNucleus::SetZ</a></div><div class="ttdeci">void SetZ(Int_t z, Char_t mt=-1)</div><div class="ttdef"><b>Definition:</b> <a href="KVNucleus_8cpp_source.html#l00858">KVNucleus.cpp:858</a></div></div>
<div class="ttc" id="classKVParticle_html_a118d0d95905e5dde994272741f54b409"><div class="ttname"><a href="classKVParticle.html#a118d0d95905e5dde994272741f54b409">KVParticle::RemoveGroup</a></div><div class="ttdeci">void RemoveGroup(const Char_t *groupname)</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8cpp_source.html#l01350">KVParticle.cpp:1350</a></div></div>
<div class="ttc" id="classKVSeqCollection_html_afd4b90b8bb56e3f9334078523795c104"><div class="ttname"><a href="classKVSeqCollection.html#afd4b90b8bb56e3f9334078523795c104">KVSeqCollection::FindObject</a></div><div class="ttdeci">virtual TObject * FindObject(const char *name) const</div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8h_source.html#l00180">KVSeqCollection.h:180</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_af7e2b57b48924bb9247247afc1ea2ec2"><div class="ttname"><a href="classKVMultiDetArray.html#af7e2b57b48924bb9247247afc1ea2ec2">KVMultiDetArray::CreateIDTelescopesInGroups</a></div><div class="ttdeci">virtual void CreateIDTelescopesInGroups()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00606">KVMultiDetArray.cpp:606</a></div></div>
<div class="ttc" id="classKVDetector_html_ae94f65b30fcb2ce4b6bed44904d0ffb0"><div class="ttname"><a href="classKVDetector.html#ae94f65b30fcb2ce4b6bed44904d0ffb0">KVDetector::ResetAlignedDetectors</a></div><div class="ttdeci">void ResetAlignedDetectors(UInt_t direction=1)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l02078">KVDetector.cpp:2078</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a74304da718126ca062c64d9f7c5c33ab"><div class="ttname"><a href="classKVMultiDetArray.html#a74304da718126ca062c64d9f7c5c33ab">KVMultiDetArray::fNavigator</a></div><div class="ttdeci">KVRangeTableGeoNavigator * fNavigator</div><div class="ttdoc">for propagating particles through array geometry </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00078">KVMultiDetArray.h:78</a></div></div>
<div class="ttc" id="classKVNameValueList_html_a5d5ebecfdcb97b376a6d89e5d82242f4"><div class="ttname"><a href="classKVNameValueList.html#a5d5ebecfdcb97b376a6d89e5d82242f4">KVNameValueList::GetNameAt</a></div><div class="ttdeci">const Char_t * GetNameAt(Int_t idx) const</div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8cpp_source.html#l00380">KVNameValueList.cpp:380</a></div></div>
<div class="ttc" id="classKVGeoNavigator_html_ace0a5385d6317083f5651a29ba2b563e"><div class="ttname"><a href="classKVGeoNavigator.html#ace0a5385d6317083f5651a29ba2b563e">KVGeoNavigator::ResetTrackID</a></div><div class="ttdeci">void ResetTrackID(Int_t id=0)</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoNavigator_8h_source.html#l00072">KVGeoNavigator.h:72</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a9439dd2a458bafbaad65ed11bceccde9"><div class="ttname"><a href="classKVMultiDetArray.html#a9439dd2a458bafbaad65ed11bceccde9">KVMultiDetArray::GetCalibrationStatusOfDetectors</a></div><div class="ttdeci">TList * GetCalibrationStatusOfDetectors()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02647">KVMultiDetArray.cpp:2647</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_af2abe0b82be721cda4f2c9deff2fec63"><div class="ttname"><a href="classKVMultiDetArray.html#af2abe0b82be721cda4f2c9deff2fec63">KVMultiDetArray::KVMultiDetArray</a></div><div class="ttdeci">KVMultiDetArray()</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00081">KVMultiDetArray.cpp:81</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a64ab5564b31d33afa5ffbe58da309dda"><div class="ttname"><a href="classKVMultiDetArray.html#a64ab5564b31d33afa5ffbe58da309dda">KVMultiDetArray::GetNavigator</a></div><div class="ttdeci">KVGeoNavigator * GetNavigator() const</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02794">KVMultiDetArray.cpp:2794</a></div></div>
<div class="ttc" id="classKVParticle_html_a0cdbedef9fc96627250379432ac8f88d"><div class="ttname"><a href="classKVParticle.html#a0cdbedef9fc96627250379432ac8f88d">KVParticle::GetPInitial</a></div><div class="ttdeci">TVector3 * GetPInitial() const</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8h_source.html#l00325">KVParticle.h:325</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a94fadbbe937c871b661dc848b00184cd"><div class="ttname"><a href="classKVMultiDetArray.html#a94fadbbe937c871b661dc848b00184cd">KVMultiDetArray::try_upper_and_lower_singleIDtelescope</a></div><div class="ttdeci">bool try_upper_and_lower_singleIDtelescope(TString uri, KVDetector *d, TCollection *l)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00434">KVMultiDetArray.cpp:434</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a0a342534af0ba910c82df739924da30c"><div class="ttname"><a href="classKVReconstructedNucleus.html#a0a342534af0ba910c82df739924da30c">KVReconstructedNucleus::Reconstruct</a></div><div class="ttdeci">virtual void Reconstruct(KVDetector *kvd)</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8cpp_source.html#l00395">KVReconstructedNucleus.cpp:395</a></div></div>
<div class="ttc" id="KVReconstructedNucleus_8h_html"><div class="ttname"><a href="KVReconstructedNucleus_8h.html">KVReconstructedNucleus.h</a></div></div>
<div class="ttc" id="classKVGroup_html_a970fee7b959bab13b20e99f9fdf0aa3a"><div class="ttname"><a href="classKVGroup.html#a970fee7b959bab13b20e99f9fdf0aa3a">KVGroup::GetNumberOfDetectorLayers</a></div><div class="ttdeci">virtual UInt_t GetNumberOfDetectorLayers()</div><div class="ttdef"><b>Definition:</b> <a href="KVGroup_8cpp_source.html#l00066">KVGroup.cpp:66</a></div></div>
<div class="ttc" id="classKVDataAnalyser_html_aa7f3043eee39a220de523b665e485f06"><div class="ttname"><a href="classKVDataAnalyser.html#aa7f3043eee39a220de523b665e485f06">KVDataAnalyser::IsRunningBatchAnalysis</a></div><div class="ttdeci">static Bool_t IsRunningBatchAnalysis()</div><div class="ttdef"><b>Definition:</b> <a href="KVDataAnalyser_8cpp_source.html#l01472">KVDataAnalyser.cpp:1472</a></div></div>
<div class="ttc" id="classKVIDTelescope_html"><div class="ttname"><a href="classKVIDTelescope.html">KVIDTelescope</a></div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8h_source.html#l00036">KVIDTelescope.h:36</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html"><div class="ttname"><a href="classKVReconstructedNucleus.html">KVReconstructedNucleus</a></div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00015">KVReconstructedNucleus.h:15</a></div></div>
<div class="ttc" id="classKVGeoStrucElement_html_ab78b70c0729d4457ed92fbe07daae804"><div class="ttname"><a href="classKVGeoStrucElement.html#ab78b70c0729d4457ed92fbe07daae804">KVGeoStrucElement::Add</a></div><div class="ttdeci">virtual void Add(KVBase *)</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoStrucElement_8cpp_source.html#l00150">KVGeoStrucElement.cpp:150</a></div></div>
<div class="ttc" id="classKVGeoDNTrajectory_html_afa700e88f9cb8f35b980978bb6fa818f"><div class="ttname"><a href="classKVGeoDNTrajectory.html#afa700e88f9cb8f35b980978bb6fa818f">KVGeoDNTrajectory::GetNodeAt</a></div><div class="ttdeci">KVGeoDetectorNode * GetNodeAt(Int_t i) const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoDNTrajectory_8h_source.html#l00146">KVGeoDNTrajectory.h:146</a></div></div>
<div class="ttc" id="KVMFMDataFileReader_8h_html"><div class="ttname"><a href="KVMFMDataFileReader_8h.html">KVMFMDataFileReader.h</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a2f164c8715849136645f1a49c528e2c9"><div class="ttname"><a href="classKVIDTelescope.html#a2f164c8715849136645f1a49c528e2c9">KVIDTelescope::MakeIDTelescope</a></div><div class="ttdeci">static KVIDTelescope * MakeIDTelescope(const Char_t *name)</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8cpp_source.html#l00697">KVIDTelescope.cpp:697</a></div></div>
<div class="ttc" id="classKVNameValueList_html_a4f92c070edb66398b6e8b85d04bf72ac"><div class="ttname"><a href="classKVNameValueList.html#a4f92c070edb66398b6e8b85d04bf72ac">KVNameValueList::RemoveParameter</a></div><div class="ttdeci">void RemoveParameter(const Char_t *name)</div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8cpp_source.html#l00319">KVNameValueList.cpp:319</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aed96731a5f2cf30283e62e3149bd83c5abf878d1ad0c299c16795028144a06427"><div class="ttname"><a href="classKVMultiDetArray.html#aed96731a5f2cf30283e62e3149bd83c5abf878d1ad0c299c16795028144a06427">KVMultiDetArray::kFilterType_GeoThresh</a></div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00155">KVMultiDetArray.h:155</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a854cb154b2553d86534dc723a9204a86"><div class="ttname"><a href="classKVReconstructedNucleus.html#a854cb154b2553d86534dc723a9204a86">KVReconstructedNucleus::GetIDCode</a></div><div class="ttdeci">virtual Int_t GetIDCode() const</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00197">KVReconstructedNucleus.h:197</a></div></div>
<div class="ttc" id="KVDataSet_8h_html"><div class="ttname"><a href="KVDataSet_8h.html">KVDataSet.h</a></div></div>
<div class="ttc" id="classKVReconstructedEvent_html_a31ca30c7d2a32aa7b29756d95812d220"><div class="ttname"><a href="classKVReconstructedEvent.html#a31ca30c7d2a32aa7b29756d95812d220">KVReconstructedEvent::AnalyseDetectors</a></div><div class="ttdeci">virtual Bool_t AnalyseDetectors(TList *kvtl)</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedEvent_8cpp_source.html#l00167">KVReconstructedEvent.cpp:167</a></div></div>
<div class="ttc" id="KVDetectorEvent_8h_html"><div class="ttname"><a href="KVDetectorEvent_8h.html">KVDetectorEvent.h</a></div></div>
<div class="ttc" id="classKVDataSet_html_ad5fd5ca1882d6abfc304d1127156732f"><div class="ttname"><a href="classKVDataSet.html#ad5fd5ca1882d6abfc304d1127156732f">KVDataSet::cd</a></div><div class="ttdeci">void cd() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSet_8cpp_source.html#l01097">KVDataSet.cpp:1097</a></div></div>
<div class="ttc" id="classKVParticle_html_aac01211d09d67b9d33e55c4de6085d9e"><div class="ttname"><a href="classKVParticle.html#aac01211d09d67b9d33e55c4de6085d9e">KVParticle::GetVpar</a></div><div class="ttdeci">Double_t GetVpar() const</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8h_source.html#l00275">KVParticle.h:275</a></div></div>
<div class="ttc" id="KVTarget_8h_html"><div class="ttname"><a href="KVTarget_8h.html">KVTarget.h</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_ade54f876b9edf3e9ac5623403a3b266c"><div class="ttname"><a href="classKVReconstructedNucleus.html#ade54f876b9edf3e9ac5623403a3b266c">KVReconstructedNucleus::GetIdentifyingTelescope</a></div><div class="ttdeci">KVIDTelescope * GetIdentifyingTelescope() const</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00181">KVReconstructedNucleus.h:181</a></div></div>
<div class="ttc" id="classKVGroup_html"><div class="ttname"><a href="classKVGroup.html">KVGroup</a></div><div class="ttdef"><b>Definition:</b> <a href="KVGroup_8h_source.html#l00013">KVGroup.h:13</a></div></div>
<div class="ttc" id="classKVParticle_html_ade930d908ec2136e2e55b201c792140a"><div class="ttname"><a href="classKVParticle.html#ade930d908ec2136e2e55b201c792140a">KVParticle::GetFrame</a></div><div class="ttdeci">KVParticle const  * GetFrame(const Char_t *frame, Bool_t warn_and_return_null_if_unknown=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8cpp_source.html#l01683">KVParticle.cpp:1683</a></div></div>
<div class="ttc" id="classKVGeoNavigator_html_a01a9633a452192b3b48e163c4236e0a7"><div class="ttname"><a href="classKVGeoNavigator.html#a01a9633a452192b3b48e163c4236e0a7">KVGeoNavigator::IsTracking</a></div><div class="ttdeci">Bool_t IsTracking() const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoNavigator_8h_source.html#l00088">KVGeoNavigator.h:88</a></div></div>
<div class="ttc" id="classKVGroup_html_a8e6721382dbf33502d480b49f6396dee"><div class="ttname"><a href="classKVGroup.html#a8e6721382dbf33502d480b49f6396dee">KVGroup::GetDetectorsInLayer</a></div><div class="ttdeci">virtual TList * GetDetectorsInLayer(UInt_t lay)</div><div class="ttdef"><b>Definition:</b> <a href="KVGroup_8cpp_source.html#l00088">KVGroup.cpp:88</a></div></div>
<div class="ttc" id="classKVTarget_html_af977e6b6ce8be23ab4a2dd4f985fb445"><div class="ttname"><a href="classKVTarget.html#af977e6b6ce8be23ab4a2dd4f985fb445">KVTarget::GetLayerByIndex</a></div><div class="ttdeci">KVMaterial * GetLayerByIndex(Int_t ilayer) const</div><div class="ttdef"><b>Definition:</b> <a href="KVTarget_8h_source.html#l00064">KVTarget.h:64</a></div></div>
<div class="ttc" id="classKVDetector_html_a5c7b16cbf1e460e3e6ae2b1b519a09fa"><div class="ttname"><a href="classKVDetector.html#a5c7b16cbf1e460e3e6ae2b1b519a09fa">KVDetector::GetIDTelescopes</a></div><div class="ttdeci">KVList * GetIDTelescopes()</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00296">KVDetector.h:296</a></div></div>
<div class="ttc" id="classKVDetector_html_ae2aafd40c71e8ceff6ac56212b9fb0a1"><div class="ttname"><a href="classKVDetector.html#ae2aafd40c71e8ceff6ac56212b9fb0a1">KVDetector::GetIncidentEnergyFromERes</a></div><div class="ttdeci">virtual Double_t GetIncidentEnergyFromERes(Int_t Z, Int_t A, Double_t Eres)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l01921">KVDetector.cpp:1921</a></div></div>
<div class="ttc" id="classKVEvent_html_a8e8cebe0efefb4be95272938bedc8c8b"><div class="ttname"><a href="classKVEvent.html#a8e8cebe0efefb4be95272938bedc8c8b">KVEvent::GetNextParticle</a></div><div class="ttdeci">KVNucleus * GetNextParticle(Option_t *opt=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVEvent_8cpp_source.html#l00656">KVEvent.cpp:656</a></div></div>
<div class="ttc" id="KVACQParam_8h_html"><div class="ttname"><a href="KVACQParam_8h.html">KVACQParam.h</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a7bf20b2db02af58751d19e650e2d6566"><div class="ttname"><a href="classKVMultiDetArray.html#a7bf20b2db02af58751d19e650e2d6566">KVMultiDetArray::SetParameters</a></div><div class="ttdeci">virtual void SetParameters(UShort_t n)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02261">KVMultiDetArray.cpp:2261</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aebbc3a6b2a0c372ea51f9516a25ec91e"><div class="ttname"><a href="classKVMultiDetArray.html#aebbc3a6b2a0c372ea51f9516a25ec91e">KVMultiDetArray::AcceptParticleForAnalysis</a></div><div class="ttdeci">virtual void AcceptParticleForAnalysis(KVReconstructedNucleus *) const</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03679">KVMultiDetArray.cpp:3679</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ae7fa572a422c8aab8d670ef3c5d2b582"><div class="ttname"><a href="classKVMultiDetArray.html#ae7fa572a422c8aab8d670ef3c5d2b582">KVMultiDetArray::AssociateTrajectoriesAndNodes</a></div><div class="ttdeci">void AssociateTrajectoriesAndNodes()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03610">KVMultiDetArray.cpp:3610</a></div></div>
<div class="ttc" id="classKVDetector_html"><div class="ttname"><a href="classKVDetector.html">KVDetector</a></div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00047">KVDetector.h:47</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a051f7c6f30ce1c531a78adac2542fb7e"><div class="ttname"><a href="classKVIDTelescope.html#a051f7c6f30ce1c531a78adac2542fb7e">KVIDTelescope::GetIDMapY</a></div><div class="ttdeci">virtual Double_t GetIDMapY(Option_t *opt=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8cpp_source.html#l00646">KVIDTelescope.cpp:646</a></div></div>
<div class="ttc" id="classKVGeoStrucElement_html_af644213e43d2bf1068b9d1b0bf88f8b6"><div class="ttname"><a href="classKVGeoStrucElement.html#af644213e43d2bf1068b9d1b0bf88f8b6">KVGeoStrucElement::GetParents</a></div><div class="ttdeci">const KVSeqCollection * GetParents() const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoStrucElement_8h_source.html#l00095">KVGeoStrucElement.h:95</a></div></div>
<div class="ttc" id="KVUpDater_8h_html"><div class="ttname"><a href="KVUpDater_8h.html">KVUpDater.h</a></div></div>
<div class="ttc" id="KVDataSetManager_8cpp_html_ac7a4c43dd482d27924660edf91bb2239"><div class="ttname"><a href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a></div><div class="ttdeci">KVDataSetManager * gDataSetManager</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetManager_8cpp_source.html#l00043">KVDataSetManager.cpp:43</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a7e0df28aaab78d6873bf4a9b050b3d46"><div class="ttname"><a href="classKVIDTelescope.html#a7e0df28aaab78d6873bf4a9b050b3d46">KVIDTelescope::AddDetector</a></div><div class="ttdeci">virtual void AddDetector(KVDetector *d)</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8cpp_source.html#l00292">KVIDTelescope.cpp:292</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_abe052973a6e8d1edefd0cc2f392a107a"><div class="ttname"><a href="classKVMultiDetArray.html#abe052973a6e8d1edefd0cc2f392a107a">KVMultiDetArray::PrintCalibStatusOfDetectors</a></div><div class="ttdeci">void PrintCalibStatusOfDetectors()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02695">KVMultiDetArray.cpp:2695</a></div></div>
<div class="ttc" id="classKVDetector_html_a91f586905d9a7dc05559c0e721a3ce72"><div class="ttname"><a href="classKVDetector.html#a91f586905d9a7dc05559c0e721a3ce72">KVDetector::SetDetecting</a></div><div class="ttdeci">void SetDetecting(Bool_t yes=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00421">KVDetector.h:421</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ad915cf18454f95b852e13d3816a51abf"><div class="ttname"><a href="classKVMultiDetArray.html#ad915cf18454f95b852e13d3816a51abf">KVMultiDetArray::GetIDTelescope</a></div><div class="ttdeci">KVIDTelescope * GetIDTelescope(const Char_t *name) const</div><div class="ttdoc">Return pointer to DeltaE-E ID Telescope with &quot;name&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01559">KVMultiDetArray.cpp:1559</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a03abbf8867cc5075fc2311f9713297d5"><div class="ttname"><a href="classKVMultiDetArray.html#a03abbf8867cc5075fc2311f9713297d5">KVMultiDetArray::try_a_singleIDtelescope</a></div><div class="ttdeci">bool try_a_singleIDtelescope(TString uri, KVDetector *d, TCollection *l)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00481">KVMultiDetArray.cpp:481</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a0ecc5a12124550cfc6a68bedead76a81"><div class="ttname"><a href="classKVMultiDetArray.html#a0ecc5a12124550cfc6a68bedead76a81">KVMultiDetArray::SetDetectorThicknesses</a></div><div class="ttdeci">virtual void SetDetectorThicknesses()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02826">KVMultiDetArray.cpp:2826</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a0d3553a3453b97072f024af2059a218f"><div class="ttname"><a href="classKVMultiDetArray.html#a0d3553a3453b97072f024af2059a218f">KVMultiDetArray::fAcceptIDCodes</a></div><div class="ttdeci">KVNumberList fAcceptIDCodes</div><div class="ttdoc">list of acceptable identification codes for reconstructed nuclei </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00082">KVMultiDetArray.h:82</a></div></div>
<div class="ttc" id="classKVReconstructedEvent_html_acd5e85aedfaa983a7e69a1c123b05156"><div class="ttname"><a href="classKVReconstructedEvent.html#acd5e85aedfaa983a7e69a1c123b05156">KVReconstructedEvent::CalibrateEvent</a></div><div class="ttdeci">virtual void CalibrateEvent()</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedEvent_8cpp_source.html#l00284">KVReconstructedEvent.cpp:284</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a2e3cfe63cf7256804876625c36da36e4"><div class="ttname"><a href="classKVIDTelescope.html#a2e3cfe63cf7256804876625c36da36e4">KVIDTelescope::GetIDMapX</a></div><div class="ttdeci">virtual Double_t GetIDMapX(Option_t *opt=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8cpp_source.html#l00581">KVIDTelescope.cpp:581</a></div></div>
<div class="ttc" id="classKVSeqCollection_html_af2c55e01fcf189ecc8818f3fb1552e2b"><div class="ttname"><a href="classKVSeqCollection.html#af2c55e01fcf189ecc8818f3fb1552e2b">KVSeqCollection::GetSubListWithLabel</a></div><div class="ttdeci">KVSeqCollection * GetSubListWithLabel(const Char_t *retvalue) const</div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8cpp_source.html#l01061">KVSeqCollection.cpp:1061</a></div></div>
<div class="ttc" id="classKVACQParam_html_a7958fba5bcd289315acb39465d3a1a45"><div class="ttname"><a href="classKVACQParam.html#a7958fba5bcd289315acb39465d3a1a45">KVACQParam::Clear</a></div><div class="ttdeci">void Clear(Option_t *opt=&quot;&quot;)</div><div class="ttdoc">Clear object properties : name, type/title, number, label. </div><div class="ttdef"><b>Definition:</b> <a href="KVACQParam_8h_source.html#l00163">KVACQParam.h:163</a></div></div>
<div class="ttc" id="KVTelescope_8h_html"><div class="ttname"><a href="KVTelescope_8h.html">KVTelescope.h</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a9372e92ada83f8277e6a2101da7e7ccf"><div class="ttname"><a href="classKVReconstructedNucleus.html#a9372e92ada83f8277e6a2101da7e7ccf">KVReconstructedNucleus::GetStatus</a></div><div class="ttdeci">Int_t GetStatus() const</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00128">KVReconstructedNucleus.h:128</a></div></div>
<div class="ttc" id="classKVDetectorEvent_html_a69cff073aec527097c0d931e7239e532"><div class="ttname"><a href="classKVDetectorEvent.html#a69cff073aec527097c0d931e7239e532">KVDetectorEvent::Clear</a></div><div class="ttdeci">virtual void Clear(Option_t *opt=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetectorEvent_8cpp_source.html#l00108">KVDetectorEvent.cpp:108</a></div></div>
<div class="ttc" id="classKVString_html_a2b4b016b6db4b17ce8acdacf8c3b9f85"><div class="ttname"><a href="classKVString.html#a2b4b016b6db4b17ce8acdacf8c3b9f85">KVString::End</a></div><div class="ttdeci">virtual Bool_t End() const</div><div class="ttdef"><b>Definition:</b> <a href="KVString_8cpp_source.html#l00662">KVString.cpp:662</a></div></div>
<div class="ttc" id="classKVUpDater_html_a6d04ef6f2ccae59726b4fa49465d5bea"><div class="ttname"><a href="classKVUpDater.html#a6d04ef6f2ccae59726b4fa49465d5bea">KVUpDater::SetParameters</a></div><div class="ttdeci">virtual void SetParameters(UInt_t)</div><div class="ttdef"><b>Definition:</b> <a href="KVUpDater_8cpp_source.html#l00103">KVUpDater.cpp:103</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a36a6f1a9b90b2af504ab6610c55ede2a"><div class="ttname"><a href="classKVMultiDetArray.html#a36a6f1a9b90b2af504ab6610c55ede2a">KVMultiDetArray::fFiredACQParams</a></div><div class="ttdeci">KVHashList fFiredACQParams</div><div class="ttdoc">list of fired acquisition parameters after reading raw data event </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00066">KVMultiDetArray.h:66</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aab136511a848c36f1dc5add9fd17a832"><div class="ttname"><a href="classKVMultiDetArray.html#aab136511a848c36f1dc5add9fd17a832">KVMultiDetArray::SetROOTGeometry</a></div><div class="ttdeci">virtual void SetROOTGeometry(Bool_t on=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03030">KVMultiDetArray.cpp:3030</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a7c653c1d51e1033f07fb6b51e5eeabbe"><div class="ttname"><a href="classKVMultiDetArray.html#a7c653c1d51e1033f07fb6b51e5eeabbe">KVMultiDetArray::RemoveGroup</a></div><div class="ttdeci">void RemoveGroup(KVGroup *)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02042">KVMultiDetArray.cpp:2042</a></div></div>
<div class="ttc" id="classKVTarget_html_a3d1fa540295e925145a2b304045a6669"><div class="ttname"><a href="classKVTarget.html#a3d1fa540295e925145a2b304045a6669">KVTarget::DetectParticle</a></div><div class="ttdeci">virtual void DetectParticle(KVNucleus *, TVector3 *norm=0)</div><div class="ttdef"><b>Definition:</b> <a href="KVTarget_8cpp_source.html#l00698">KVTarget.cpp:698</a></div></div>
<div class="ttc" id="classKVGeoStrucElement_html_a6f2eb8d8f3a3f7ad4e067bf014caf57d"><div class="ttname"><a href="classKVGeoStrucElement.html#a6f2eb8d8f3a3f7ad4e067bf014caf57d">KVGeoStrucElement::GetStructures</a></div><div class="ttdeci">const KVSeqCollection * GetStructures() const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoStrucElement_8h_source.html#l00091">KVGeoStrucElement.h:91</a></div></div>
<div class="ttc" id="KVString_8h_html"><div class="ttname"><a href="KVString_8h.html">KVString.h</a></div></div>
<div class="ttc" id="classKVBase_html_aea4df677b24064315cf1291af658e618"><div class="ttname"><a href="classKVBase.html#aea4df677b24064315cf1291af658e618">KVBase::LoadPlugin</a></div><div class="ttdeci">static TPluginHandler * LoadPlugin(const Char_t *base, const Char_t *uri=&quot;0&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVBase_8cpp_source.html#l00930">KVBase.cpp:930</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a47e809c6c786bf38bc9f31a92fa67922a91c774435e483a459b3fd6aa56835871"><div class="ttname"><a href="classKVMultiDetArray.html#a47e809c6c786bf38bc9f31a92fa67922a91c774435e483a459b3fd6aa56835871">KVMultiDetArray::kParamsSet</a></div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00053">KVMultiDetArray.h:53</a></div></div>
<div class="ttc" id="classKVSeqCollection_html_ac5c35dc3c7a2b5ee598865f61431180a"><div class="ttname"><a href="classKVSeqCollection.html#ac5c35dc3c7a2b5ee598865f61431180a">KVSeqCollection::SetCleanup</a></div><div class="ttdeci">virtual void SetCleanup(Bool_t enable=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVSeqCollection_8cpp_source.html#l01227">KVSeqCollection.cpp:1227</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a29ab9fb99d763dd4c26857c26bd73ea6"><div class="ttname"><a href="classKVMultiDetArray.html#a29ab9fb99d763dd4c26857c26bd73ea6">KVMultiDetArray::GetIDTelescopesWithType</a></div><div class="ttdeci">KVSeqCollection * GetIDTelescopesWithType(const Char_t *type)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02623">KVMultiDetArray.cpp:2623</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a94b2271787563af7389858309a0055d4"><div class="ttname"><a href="classKVMultiDetArray.html#a94b2271787563af7389858309a0055d4">KVMultiDetArray::Draw</a></div><div class="ttdeci">void Draw(Option_t *option=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03431">KVMultiDetArray.cpp:3431</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a6a783dddc33039cc4d141c9a5d133ab0"><div class="ttname"><a href="classKVMultiDetArray.html#a6a783dddc33039cc4d141c9a5d133ab0">KVMultiDetArray::~KVMultiDetArray</a></div><div class="ttdeci">virtual ~KVMultiDetArray()</div><div class="ttdoc">destroy (delete) the MDA and all the associated structure, detectors etc. </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00171">KVMultiDetArray.cpp:171</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a5913fb0e69e0bc802215c237f1d016a1"><div class="ttname"><a href="classKVMultiDetArray.html#a5913fb0e69e0bc802215c237f1d016a1">KVMultiDetArray::CalculateDetectorSegmentationIndex</a></div><div class="ttdeci">void CalculateDetectorSegmentationIndex()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03056">KVMultiDetArray.cpp:3056</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a03411dfb64018cc61f25d20576e4e584"><div class="ttname"><a href="classKVMultiDetArray.html#a03411dfb64018cc61f25d20576e4e584">KVMultiDetArray::IsROOTGeometry</a></div><div class="ttdeci">Bool_t IsROOTGeometry() const</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00313">KVMultiDetArray.h:313</a></div></div>
<div class="ttc" id="classKVDetector_html_a31c2a843149f8536913dba3c8a178488"><div class="ttname"><a href="classKVDetector.html#a31c2a843149f8536913dba3c8a178488">KVDetector::GetTelescopesForIdentification</a></div><div class="ttdeci">TList * GetTelescopesForIdentification()</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l00921">KVDetector.cpp:921</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ab43339d36e728098e5b5ddb70506a59b"><div class="ttname"><a href="classKVMultiDetArray.html#ab43339d36e728098e5b5ddb70506a59b">KVMultiDetArray::PrintStatusOfIDTelescopes</a></div><div class="ttdeci">void PrintStatusOfIDTelescopes()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02480">KVMultiDetArray.cpp:2480</a></div></div>
<div class="ttc" id="classKVParticle_html_a0b89116bb53ce3c10529f4778289b018"><div class="ttname"><a href="classKVParticle.html#a0b89116bb53ce3c10529f4778289b018">KVParticle::SetTheta</a></div><div class="ttdeci">void SetTheta(Double_t theta)</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8h_source.html#l00293">KVParticle.h:293</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ab8899bed5ec9e5306e9366ca6f9da960"><div class="ttname"><a href="classKVMultiDetArray.html#ab8899bed5ec9e5306e9366ca6f9da960">KVMultiDetArray::GetACQParam</a></div><div class="ttdeci">KVACQParam * GetACQParam(const Char_t *name) const</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00197">KVMultiDetArray.h:197</a></div></div>
<div class="ttc" id="classKVNameValueList_html_ad81da56b0c9d6c38963f14421cb9eca4"><div class="ttname"><a href="classKVNameValueList.html#ad81da56b0c9d6c38963f14421cb9eca4">KVNameValueList::HasParameter</a></div><div class="ttdeci">Bool_t HasParameter(const Char_t *name) const</div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8cpp_source.html#l00339">KVNameValueList.cpp:339</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a73760303602e9c134512dad730de35ad"><div class="ttname"><a href="classKVMultiDetArray.html#a73760303602e9c134512dad730de35ad">KVMultiDetArray::SetArrayACQParams</a></div><div class="ttdeci">virtual void SetArrayACQParams()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01760">KVMultiDetArray.cpp:1760</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a537b0ef8724f7c21a2d77cdc112aa4bf"><div class="ttname"><a href="classKVMultiDetArray.html#a537b0ef8724f7c21a2d77cdc112aa4bf">KVMultiDetArray::fACQParams</a></div><div class="ttdeci">KVSeqCollection * fACQParams</div><div class="ttdoc">list of data acquisition parameters associated to detectors </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00065">KVMultiDetArray.h:65</a></div></div>
<div class="ttc" id="classKVBase_html_a86746121f4faf4c7c4424d22947f2124"><div class="ttname"><a href="classKVBase.html#a86746121f4faf4c7c4424d22947f2124">KVBase::GetType</a></div><div class="ttdeci">const Char_t * GetType() const</div><div class="ttdef"><b>Definition:</b> <a href="KVBase_8h_source.html#l00058">KVBase.h:58</a></div></div>
<div class="ttc" id="KVEvent_8h_html"><div class="ttname"><a href="KVEvent_8h.html">KVEvent.h</a></div></div>
<div class="ttc" id="classKVGroup_html_a9c6da55a3947a8aec51b5d8cf5e7da42"><div class="ttname"><a href="classKVGroup.html#a9c6da55a3947a8aec51b5d8cf5e7da42">KVGroup::ClearHitDetectors</a></div><div class="ttdeci">void ClearHitDetectors()</div><div class="ttdef"><b>Definition:</b> <a href="KVGroup_8cpp_source.html#l00216">KVGroup.cpp:216</a></div></div>
<div class="ttc" id="classKVDetector_html_ac60bd4797fc7ccdd07bfd32742ed50bc"><div class="ttname"><a href="classKVDetector.html#ac60bd4797fc7ccdd07bfd32742ed50bc">KVDetector::GetAlignedDetectors</a></div><div class="ttdeci">virtual TList * GetAlignedDetectors(UInt_t direction=1)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l02049">KVDetector.cpp:2049</a></div></div>
<div class="ttc" id="classKVIDGridManager_html"><div class="ttname"><a href="classKVIDGridManager.html">KVIDGridManager</a></div><div class="ttdef"><b>Definition:</b> <a href="KVIDGridManager_8h_source.html#l00018">KVIDGridManager.h:18</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_af4d8b83deab6097f6106220ad3dd82f0"><div class="ttname"><a href="classKVMultiDetArray.html#af4d8b83deab6097f6106220ad3dd82f0">KVMultiDetArray::try_a_doubleIDtelescope</a></div><div class="ttdeci">bool try_a_doubleIDtelescope(TString uri, KVDetector *de, KVDetector *e, TCollection *l)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00521">KVMultiDetArray.cpp:521</a></div></div>
<div class="ttc" id="classKVMaterial_html"><div class="ttname"><a href="classKVMaterial.html">KVMaterial</a></div><div class="ttdef"><b>Definition:</b> <a href="KVMaterial_8h_source.html#l00035">KVMaterial.h:35</a></div></div>
<div class="ttc" id="classKVEvent_html_a2806c9a41d44a15d4ddc62eb83711a44"><div class="ttname"><a href="classKVEvent.html#a2806c9a41d44a15d4ddc62eb83711a44">KVEvent::Clear</a></div><div class="ttdeci">virtual void Clear(Option_t *opt=&quot;&quot;)</div><div class="ttdoc">Reset the event to zero ready for new event. </div><div class="ttdef"><b>Definition:</b> <a href="KVEvent_8cpp_source.html#l00251">KVEvent.cpp:251</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a68318a8f8303e84f60878e195af353f2"><div class="ttname"><a href="classKVMultiDetArray.html#a68318a8f8303e84f60878e195af353f2">KVMultiDetArray::GetIDTelescopes</a></div><div class="ttdeci">virtual Int_t GetIDTelescopes(KVDetector *, KVDetector *, TCollection *list)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00261">KVMultiDetArray.cpp:261</a></div></div>
<div class="ttc" id="classKVGeoStrucElement_html_a48ff5d8e5e2146aa86d3a2b30f338487"><div class="ttname"><a href="classKVGeoStrucElement.html#a48ff5d8e5e2146aa86d3a2b30f338487">KVGeoStrucElement::GetDetector</a></div><div class="ttdeci">KVDetector * GetDetector(const Char_t *name) const</div><div class="ttdoc">Return detector in this structure with given name. </div><div class="ttdef"><b>Definition:</b> <a href="KVGeoStrucElement_8cpp_source.html#l00250">KVGeoStrucElement.cpp:250</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a05bf5a8acae67a7b92b89ee64938a0f9"><div class="ttname"><a href="classKVMultiDetArray.html#a05bf5a8acae67a7b92b89ee64938a0f9">KVMultiDetArray::GetGroupWithDetector</a></div><div class="ttdeci">virtual KVGroup * GetGroupWithDetector(const Char_t *)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01574">KVMultiDetArray.cpp:1574</a></div></div>
<div class="ttc" id="classKVDetector_html_aa4cc01bb9831adda8fb9cdf7a0bb989b"><div class="ttname"><a href="classKVDetector.html#aa4cc01bb9831adda8fb9cdf7a0bb989b">KVDetector::GetPunchThroughEnergy</a></div><div class="ttdeci">virtual Double_t GetPunchThroughEnergy(Int_t Z, Int_t A)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8cpp_source.html#l02120">KVDetector.cpp:2120</a></div></div>
<div class="ttc" id="classKVDetector_html_a92d1fd5bd481943baf0b192cedb1f924"><div class="ttname"><a href="classKVDetector.html#a92d1fd5bd481943baf0b192cedb1f924">KVDetector::SetEnergyLoss</a></div><div class="ttdeci">virtual void SetEnergyLoss(Double_t e)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00216">KVDetector.h:216</a></div></div>
<div class="ttc" id="classKVGroup_html_a86f41d55f430b725b1c2fe3683985a9e"><div class="ttname"><a href="classKVGroup.html#a86f41d55f430b725b1c2fe3683985a9e">KVGroup::CountLayers</a></div><div class="ttdeci">virtual void CountLayers()</div><div class="ttdef"><b>Definition:</b> <a href="KVGroup_8h_source.html#l00066">KVGroup.h:66</a></div></div>
<div class="ttc" id="classKVParticle_html_ac751f9dcd28b325103adb3c4d498e939"><div class="ttname"><a href="classKVParticle.html#ac751f9dcd28b325103adb3c4d498e939">KVParticle::BelongsToGroup</a></div><div class="ttdeci">Bool_t BelongsToGroup(const Char_t *groupname) const</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8cpp_source.html#l01328">KVParticle.cpp:1328</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a9f5063834fca02cb18abc0454a8ee09e"><div class="ttname"><a href="classKVMultiDetArray.html#a9f5063834fca02cb18abc0454a8ee09e">KVMultiDetArray::ReconstructEvent</a></div><div class="ttdeci">virtual void ReconstructEvent(KVReconstructedEvent *, KVDetectorEvent *)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01908">KVMultiDetArray.cpp:1908</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a6f8e3eeceb57f16e46ce8f164d781d14"><div class="ttname"><a href="classKVMultiDetArray.html#a6f8e3eeceb57f16e46ce8f164d781d14">KVMultiDetArray::SetRunIdentificationParameters</a></div><div class="ttdeci">virtual void SetRunIdentificationParameters(UShort_t n)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02287">KVMultiDetArray.cpp:2287</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ac25253ec47b4216756eb39a3c3de22bb"><div class="ttname"><a href="classKVMultiDetArray.html#ac25253ec47b4216756eb39a3c3de22bb">KVMultiDetArray::DrawPunchThroughEnergyVsZ</a></div><div class="ttdeci">virtual TGraph * DrawPunchThroughEnergyVsZ(const Char_t *detector, Int_t massform=KVNucleus::kBetaMass)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02952">KVMultiDetArray.cpp:2952</a></div></div>
<div class="ttc" id="classKVNumberList_html_aad379e499ea62930345e39a670a50657"><div class="ttname"><a href="classKVNumberList.html#aad379e499ea62930345e39a670a50657">KVNumberList::Add</a></div><div class="ttdeci">void Add(Int_t)</div><div class="ttdoc">Add value &amp;#39;n&amp;#39; to the list. </div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8cpp_source.html#l00549">KVNumberList.cpp:549</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a07bfaec4d1bc948f065849f6378e815a"><div class="ttname"><a href="classKVMultiDetArray.html#a07bfaec4d1bc948f065849f6378e815a">KVMultiDetArray::GetListOfIDTelescopes</a></div><div class="ttdeci">KVSeqCollection * GetListOfIDTelescopes() const</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00216">KVMultiDetArray.h:216</a></div></div>
<div class="ttc" id="classKVNameValueList_html_aeec7b820e6eab6dae861235398de1762"><div class="ttname"><a href="classKVNameValueList.html#aeec7b820e6eab6dae861235398de1762">KVNameValueList::Copy</a></div><div class="ttdeci">void Copy(TObject &amp;nvl) const</div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8cpp_source.html#l00149">KVNameValueList.cpp:149</a></div></div>
<div class="ttc" id="classvalue_html"><div class="ttname"><a href="classvalue.html">value</a></div><div class="ttdoc">ABC for nuclear table. </div></div>
<div class="ttc" id="classKVNameValueList_html"><div class="ttname"><a href="classKVNameValueList.html">KVNameValueList</a></div><div class="ttdoc">A general-purpose list of parameters (name and associated value) </div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8h_source.html#l00013">KVNameValueList.h:13</a></div></div>
<div class="ttc" id="classKVGroup_html_a07b07de580ed03e7033fc5ec912f209fa816164a3ed06ae9a55774e740cff221d"><div class="ttname"><a href="classKVGroup.html#a07b07de580ed03e7033fc5ec912f209fa816164a3ed06ae9a55774e740cff221d">KVGroup::kForwards</a></div><div class="ttdef"><b>Definition:</b> <a href="KVGroup_8h_source.html#l00026">KVGroup.h:26</a></div></div>
<div class="ttc" id="classKVTarget_html_a79b5644ef179bb1c323a491dc460814f"><div class="ttname"><a href="classKVTarget.html#a79b5644ef179bb1c323a491dc460814f">KVTarget::Clear</a></div><div class="ttdeci">void Clear(Option_t *opt=&quot;&quot;)</div><div class="ttdoc">Reset absorber - set energy lost by particles to zero. </div><div class="ttdef"><b>Definition:</b> <a href="KVTarget_8cpp_source.html#l00960">KVTarget.cpp:960</a></div></div>
<div class="ttc" id="classKVACQParam_html_a099cdd9db6eb12b4703472d1207e9473"><div class="ttname"><a href="classKVACQParam.html#a099cdd9db6eb12b4703472d1207e9473">KVACQParam::SetPedestal</a></div><div class="ttdeci">void SetPedestal(Float_t ped)</div><div class="ttdef"><b>Definition:</b> <a href="KVACQParam_8h_source.html#l00064">KVACQParam.h:64</a></div></div>
<div class="ttc" id="classKVNucleus_html_ae9060d423b1a4a895e1305cc31631127"><div class="ttname"><a href="classKVNucleus.html#ae9060d423b1a4a895e1305cc31631127">KVNucleus::GetZ</a></div><div class="ttdeci">Int_t GetZ() const</div><div class="ttdoc">Return the number of proton / atomic number. </div><div class="ttdef"><b>Definition:</b> <a href="KVNucleus_8cpp_source.html#l00924">KVNucleus.cpp:924</a></div></div>
<div class="ttc" id="classKVDetector_html_a70059b509429145df5f4065814e6a72a"><div class="ttname"><a href="classKVDetector.html#a70059b509429145df5f4065814e6a72a">KVDetector::Reset</a></div><div class="ttdeci">virtual void Reset()</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00245">KVDetector.h:245</a></div></div>
<div class="ttc" id="classKVRawDataReader_html"><div class="ttname"><a href="classKVRawDataReader.html">KVRawDataReader</a></div><div class="ttdoc">Pure abstract base class for reading raw data. </div><div class="ttdef"><b>Definition:</b> <a href="KVRawDataReader_8h_source.html#l00016">KVRawDataReader.h:16</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a11c61ca8b0eb91fa907aad961e234a12"><div class="ttname"><a href="classKVMultiDetArray.html#a11c61ca8b0eb91fa907aad961e234a12">KVMultiDetArray::GetIDTelescopesForGroup</a></div><div class="ttdeci">virtual void GetIDTelescopesForGroup(KVGroup *grp, TCollection *tel_list)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03160">KVMultiDetArray.cpp:3160</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a849e85bb6dbee9ba7f5d46158137bd49"><div class="ttname"><a href="classKVMultiDetArray.html#a849e85bb6dbee9ba7f5d46158137bd49">KVMultiDetArray::FillDetectorList</a></div><div class="ttdeci">virtual void FillDetectorList(KVReconstructedNucleus *rnuc, KVHashList *DetList, const KVString &amp;DetNames)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03653">KVMultiDetArray.cpp:3653</a></div></div>
<div class="ttc" id="classKVBase_html_a79c7750593831396224d40bc20e082f1"><div class="ttname"><a href="classKVBase.html#a79c7750593831396224d40bc20e082f1">KVBase::GetLabel</a></div><div class="ttdeci">const Char_t * GetLabel() const</div><div class="ttdef"><b>Definition:</b> <a href="KVBase_8h_source.html#l00080">KVBase.h:80</a></div></div>
<div class="ttc" id="namespaceKVUnits_html_a1b2522f0633803e57ed9aca342d0db33"><div class="ttname"><a href="namespaceKVUnits.html#a1b2522f0633803e57ed9aca342d0db33">KVUnits::s</a></div><div class="ttdeci">const long double s</div><div class="ttdef"><b>Definition:</b> <a href="KVUnits_8h_source.html#l00046">KVUnits.h:46</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a910322a0af443c0896396b7b0e5d6811"><div class="ttname"><a href="classKVMultiDetArray.html#a910322a0af443c0896396b7b0e5d6811">KVMultiDetArray::fTarget</a></div><div class="ttdeci">KVTarget * fTarget</div><div class="ttdoc">target used in experiment </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00050">KVMultiDetArray.h:50</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a3446a15ec82e6babb86d74a811a1deca"><div class="ttname"><a href="classKVIDTelescope.html#a3446a15ec82e6babb86d74a811a1deca">KVIDTelescope::SetIdentificationParameters</a></div><div class="ttdeci">virtual Bool_t SetIdentificationParameters(const KVMultiDetArray *)</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8cpp_source.html#l00762">KVIDTelescope.cpp:762</a></div></div>
<div class="ttc" id="classKVGeoDNTrajectory_html"><div class="ttname"><a href="classKVGeoDNTrajectory.html">KVGeoDNTrajectory</a></div><div class="ttdoc">Path taken by particles through multidetector geometry. </div><div class="ttdef"><b>Definition:</b> <a href="KVGeoDNTrajectory_8h_source.html#l00012">KVGeoDNTrajectory.h:12</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a7dedb664348e7245c9a9714d5759a2b2"><div class="ttname"><a href="classKVMultiDetArray.html#a7dedb664348e7245c9a9714d5759a2b2">KVMultiDetArray::fSimMode</a></div><div class="ttdeci">Bool_t fSimMode</div><div class="ttdoc">=kTRUE in &quot;simulation mode&quot; (use for calculating response to simulated events) </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00072">KVMultiDetArray.h:72</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_a225bc41a3152a3f98c19676bc9f09bcfaf62c208cd36657fe89f2adde45f661e7"><div class="ttname"><a href="classKVReconstructedNucleus.html#a225bc41a3152a3f98c19676bc9f09bcfaf62c208cd36657fe89f2adde45f661e7">KVReconstructedNucleus::kStatusPileupDE</a></div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00053">KVReconstructedNucleus.h:53</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a0e604f85beb80319b44a13b0b0b8599c"><div class="ttname"><a href="classKVMultiDetArray.html#a0e604f85beb80319b44a13b0b0b8599c">KVMultiDetArray::DetectEvent</a></div><div class="ttdeci">virtual void DetectEvent(KVEvent *event, KVReconstructedEvent *rec_event, const Char_t *detection_frame=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00816">KVMultiDetArray.cpp:816</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ac15a489a77cebdbaa9ecdb27bfff267c"><div class="ttname"><a href="classKVMultiDetArray.html#ac15a489a77cebdbaa9ecdb27bfff267c">KVMultiDetArray::UpdateIDTelescopes</a></div><div class="ttdeci">virtual void UpdateIDTelescopes()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02434">KVMultiDetArray.cpp:2434</a></div></div>
<div class="ttc" id="KV2Body_8h_html"><div class="ttname"><a href="KV2Body_8h.html">KV2Body.h</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a85991ca6a61acc62268816000f58f568"><div class="ttname"><a href="classKVMultiDetArray.html#a85991ca6a61acc62268816000f58f568">KVMultiDetArray::handle_raw_data_event_ebyedat</a></div><div class="ttdeci">virtual Bool_t handle_raw_data_event_ebyedat(KVGANILDataReader &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03722">KVMultiDetArray.cpp:3722</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_ab8527afef281dfcd4f2e14fd79a84880"><div class="ttname"><a href="classKVMultiDetArray.html#ab8527afef281dfcd4f2e14fd79a84880">KVMultiDetArray::UpdateCalibrators</a></div><div class="ttdeci">virtual void UpdateCalibrators()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01801">KVMultiDetArray.cpp:1801</a></div></div>
<div class="ttc" id="classKVDetector_html_a7f89fc18f10a4b559e04db45482def7b"><div class="ttname"><a href="classKVDetector.html#a7f89fc18f10a4b559e04db45482def7b">KVDetector::DeduceACQParameters</a></div><div class="ttdeci">virtual void DeduceACQParameters(KVEvent *, KVNumberList &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00432">KVDetector.h:432</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a40de52959d6ba2b82d73767babf158f1"><div class="ttname"><a href="classKVIDTelescope.html#a40de52959d6ba2b82d73767babf158f1">KVIDTelescope::GetDetector</a></div><div class="ttdeci">KVDetector * GetDetector(UInt_t n) const</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8h_source.html#l00076">KVIDTelescope.h:76</a></div></div>
<div class="ttc" id="classKVParticle_html_a9196260682cd54facbbc3ed56e261c61"><div class="ttname"><a href="classKVParticle.html#a9196260682cd54facbbc3ed56e261c61">KVParticle::SetE0</a></div><div class="ttdeci">void SetE0(TVector3 *e=0)</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8h_source.html#l00315">KVParticle.h:315</a></div></div>
<div class="ttc" id="KVIDGridManager_8cpp_html_ae610249c6884bb85a7d4ec2d90021a0f"><div class="ttname"><a href="KVIDGridManager_8cpp.html#ae610249c6884bb85a7d4ec2d90021a0f">gIDGridManager</a></div><div class="ttdeci">KVIDGridManager * gIDGridManager</div><div class="ttdef"><b>Definition:</b> <a href="KVIDGridManager_8cpp_source.html#l00037">KVIDGridManager.cpp:37</a></div></div>
<div class="ttc" id="KVDetector_8h_html"><div class="ttname"><a href="KVDetector_8h.html">KVDetector.h</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a9d47525150fdb078d289a7d77487ecff"><div class="ttname"><a href="classKVMultiDetArray.html#a9d47525150fdb078d289a7d77487ecff">KVMultiDetArray::GetGeometry</a></div><div class="ttdeci">TGeoManager * GetGeometry() const</div><div class="ttdoc">Return pointer to the (ROOT) geometry of the array. </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02784">KVMultiDetArray.cpp:2784</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_abf0045dbdf91cab40330f31d09e9f4d6"><div class="ttname"><a href="classKVReconstructedNucleus.html#abf0045dbdf91cab40330f31d09e9f4d6">KVReconstructedNucleus::SetZMeasured</a></div><div class="ttdeci">virtual void SetZMeasured(Bool_t yes=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00295">KVReconstructedNucleus.h:295</a></div></div>
<div class="ttc" id="classKVGeoStrucElement_html"><div class="ttname"><a href="classKVGeoStrucElement.html">KVGeoStrucElement</a></div><div class="ttdoc">A multidetector array geometry structural element. </div><div class="ttdef"><b>Definition:</b> <a href="KVGeoStrucElement_8h_source.html#l00011">KVGeoStrucElement.h:11</a></div></div>
<div class="ttc" id="classKVDetector_html_a472449452e1a7ec461116951284f7a20"><div class="ttname"><a href="classKVDetector.html#a472449452e1a7ec461116951284f7a20">KVDetector::GetNHits</a></div><div class="ttdeci">Int_t GetNHits() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00273">KVDetector.h:273</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_ad067162aaccc0b72cdc6d7e7db1c2834"><div class="ttname"><a href="classKVIDTelescope.html#ad067162aaccc0b72cdc6d7e7db1c2834">KVIDTelescope::GetSize</a></div><div class="ttdeci">UInt_t GetSize() const</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8h_source.html#l00089">KVIDTelescope.h:89</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a91fd9f15c3922a7306cd8f51d2903f36"><div class="ttname"><a href="classKVMultiDetArray.html#a91fd9f15c3922a7306cd8f51d2903f36">KVMultiDetArray::handle_raw_data_event_mfmfile</a></div><div class="ttdeci">virtual Bool_t handle_raw_data_event_mfmfile(KVMFMDataFileReader &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03762">KVMultiDetArray.cpp:3762</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a0fbe6b0b650bc4ecae648c371970a02f"><div class="ttname"><a href="classKVMultiDetArray.html#a0fbe6b0b650bc4ecae648c371970a02f">KVMultiDetArray::MakeHistogramsForAllIDTelescopes</a></div><div class="ttdeci">void MakeHistogramsForAllIDTelescopes(KVSeqCollection *list, Int_t dimension=100)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03481">KVMultiDetArray.cpp:3481</a></div></div>
<div class="ttc" id="classKVMFMDataFileReader_html"><div class="ttname"><a href="classKVMFMDataFileReader.html">KVMFMDataFileReader</a></div><div class="ttdoc">Read MFM format acquisition data. </div><div class="ttdef"><b>Definition:</b> <a href="KVMFMDataFileReader_8h_source.html#l00012">KVMFMDataFileReader.h:12</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a824d248be989ee63da5148ecf48a9919"><div class="ttname"><a href="classKVMultiDetArray.html#a824d248be989ee63da5148ecf48a9919">KVMultiDetArray::CheckROOTGeometry</a></div><div class="ttdeci">void CheckROOTGeometry()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00335">KVMultiDetArray.h:335</a></div></div>
<div class="ttc" id="classKVDetector_html_a0e85350dfaf073475b88e5922fc73b8c"><div class="ttname"><a href="classKVDetector.html#a0e85350dfaf073475b88e5922fc73b8c">KVDetector::IsOK</a></div><div class="ttdeci">virtual Bool_t IsOK() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00426">KVDetector.h:426</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a757d7b91f90cb68fcbffb36101c069f0"><div class="ttname"><a href="classKVMultiDetArray.html#a757d7b91f90cb68fcbffb36101c069f0">KVMultiDetArray::GetCurrentRunNumber</a></div><div class="ttdeci">UInt_t GetCurrentRunNumber() const</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00269">KVMultiDetArray.h:269</a></div></div>
<div class="ttc" id="classKVNumberList_html"><div class="ttname"><a href="classKVNumberList.html">KVNumberList</a></div><div class="ttdoc">Strings used to represent a set of ranges of values. </div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8h_source.html#l00021">KVNumberList.h:21</a></div></div>
<div class="ttc" id="classKVUpDater_html_ae4a2f82836044063aeb683cba90e60af"><div class="ttname"><a href="classKVUpDater.html#ae4a2f82836044063aeb683cba90e60af">KVUpDater::MakeUpDater</a></div><div class="ttdeci">static KVUpDater * MakeUpDater(const Char_t *uri)</div><div class="ttdef"><b>Definition:</b> <a href="KVUpDater_8cpp_source.html#l00076">KVUpDater.cpp:76</a></div></div>
<div class="ttc" id="KVMultiDetArray_8cpp_html_a2554fcc03212b313926f80da25349ae5"><div class="ttname"><a href="KVMultiDetArray_8cpp.html#a2554fcc03212b313926f80da25349ae5">gMultiDetArray</a></div><div class="ttdeci">KVMultiDetArray * gMultiDetArray</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00052">KVMultiDetArray.cpp:52</a></div></div>
<div class="ttc" id="classKVHashList_html"><div class="ttname"><a href="classKVHashList.html">KVHashList</a></div><div class="ttdoc">Extended version of ROOT THashList. </div><div class="ttdef"><b>Definition:</b> <a href="KVHashList_8h_source.html#l00011">KVHashList.h:11</a></div></div>
<div class="ttc" id="classKVString_html_a3c430dc4fec2741cb11c6e8ba2eae185"><div class="ttname"><a href="classKVString.html#a3c430dc4fec2741cb11c6e8ba2eae185">KVString::Next</a></div><div class="ttdeci">virtual KVString Next(Bool_t strip_whitespace=kFALSE) const</div><div class="ttdef"><b>Definition:</b> <a href="KVString_8cpp_source.html#l00712">KVString.cpp:712</a></div></div>
<div class="ttc" id="classKVDetector_html_ac631b3547c5dceac6882b6138cdaba00"><div class="ttname"><a href="classKVDetector.html#ac631b3547c5dceac6882b6138cdaba00">KVDetector::GetNode</a></div><div class="ttdeci">KVGeoDetectorNode * GetNode()</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00179">KVDetector.h:179</a></div></div>
<div class="ttc" id="KVRing_8h_html"><div class="ttname"><a href="KVRing_8h.html">KVRing.h</a></div></div>
<div class="ttc" id="KVHashList_8h_html"><div class="ttname"><a href="KVHashList_8h.html">KVHashList.h</a></div></div>
<div class="ttc" id="classKVDetector_html_a9949cc07d0017a982341ddc591dec3ff"><div class="ttname"><a href="classKVDetector.html#a9949cc07d0017a982341ddc591dec3ff">KVDetector::GetACQParamList</a></div><div class="ttdeci">KVList * GetACQParamList()</div><div class="ttdef"><b>Definition:</b> <a href="KVDetector_8h_source.html#l00226">KVDetector.h:226</a></div></div>
<div class="ttc" id="classKVIDTelescope_html_a062c3bf3961e074aca8f0bf2ba8a1a6d"><div class="ttname"><a href="classKVIDTelescope.html#a062c3bf3961e074aca8f0bf2ba8a1a6d">KVIDTelescope::IsReadyForID</a></div><div class="ttdeci">virtual Bool_t IsReadyForID()</div><div class="ttdef"><b>Definition:</b> <a href="KVIDTelescope_8h_source.html#l00164">KVIDTelescope.h:164</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a01b35b02cbcb8eef132094021f6c5f75"><div class="ttname"><a href="classKVMultiDetArray.html#a01b35b02cbcb8eef132094021f6c5f75">KVMultiDetArray::DetectParticle</a></div><div class="ttdeci">virtual KVNameValueList * DetectParticle(KVNucleus *part)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00209">KVMultiDetArray.h:209</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_ae83b684ae5a330645677bd86db4e0caf"><div class="ttname"><a href="classKVReconstructedNucleus.html#ae83b684ae5a330645677bd86db4e0caf">KVReconstructedNucleus::GetGroup</a></div><div class="ttdeci">KVGroup * GetGroup() const</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00155">KVReconstructedNucleus.h:155</a></div></div>
<div class="ttc" id="classKVMFMDataFileReader_html_a319b73b5ac06c1b356ae5ec88c97d305"><div class="ttname"><a href="classKVMFMDataFileReader.html#a319b73b5ac06c1b356ae5ec88c97d305">KVMFMDataFileReader::GetMergeManager</a></div><div class="ttdeci">const MFMMergeFrameManager &amp; GetMergeManager() const</div><div class="ttdef"><b>Definition:</b> <a href="KVMFMDataFileReader_8h_source.html#l00046">KVMFMDataFileReader.h:46</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_adb623aa6851f3ae0e057587ef7eb9dc4"><div class="ttname"><a href="classKVMultiDetArray.html#adb623aa6851f3ae0e057587ef7eb9dc4">KVMultiDetArray::fTrajectories</a></div><div class="ttdeci">KVUniqueNameList fTrajectories</div><div class="ttdoc">list of all possible trajectories through detectors of array </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00080">KVMultiDetArray.h:80</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aec2e7669a73604f569b7204d0af0a316"><div class="ttname"><a href="classKVMultiDetArray.html#aec2e7669a73604f569b7204d0af0a316">KVMultiDetArray::GetTelescope</a></div><div class="ttdeci">virtual KVTelescope * GetTelescope(const Char_t *name) const</div><div class="ttdoc">Return pointer to telescope in array with name given by &quot;name&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01548">KVMultiDetArray.cpp:1548</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a2728839485a3ae4dddd46df38d9536a1"><div class="ttname"><a href="classKVMultiDetArray.html#a2728839485a3ae4dddd46df38d9536a1">KVMultiDetArray::init</a></div><div class="ttdeci">void init()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l00121">KVMultiDetArray.cpp:121</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a45260ad70596597dbb3655dc27b269a9"><div class="ttname"><a href="classKVMultiDetArray.html#a45260ad70596597dbb3655dc27b269a9">KVMultiDetArray::FillHistogramsForAllIDTelescopes</a></div><div class="ttdeci">void FillHistogramsForAllIDTelescopes(KVSeqCollection *list)</div><div class="ttdoc">Fill TH2F histograms for all IDTelescopes of the array. </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l03501">KVMultiDetArray.cpp:3501</a></div></div>
<div class="ttc" id="classKVGeoStrucElement_html_a036987caff1fba6c591df335c3e22f30"><div class="ttname"><a href="classKVGeoStrucElement.html#a036987caff1fba6c591df335c3e22f30">KVGeoStrucElement::Fired</a></div><div class="ttdeci">virtual Bool_t Fired(Option_t *opt=&quot;any&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="KVGeoStrucElement_8cpp_source.html#l00313">KVGeoStrucElement.cpp:313</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_af82e26cea745352ceb262c338d654244"><div class="ttname"><a href="classKVReconstructedNucleus.html#af82e26cea745352ceb262c338d654244">KVReconstructedNucleus::SetECode</a></div><div class="ttdeci">virtual void SetECode(UChar_t s)</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8h_source.html#l00203">KVReconstructedNucleus.h:203</a></div></div>
<div class="ttc" id="classKVParticle_html_a3d93f8bb12e37d184d074caca69dfb44"><div class="ttname"><a href="classKVParticle.html#a3d93f8bb12e37d184d074caca69dfb44">KVParticle::SetMomentum</a></div><div class="ttdeci">void SetMomentum(const TVector3 &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="KVParticle_8h_source.html#l00174">KVParticle.h:174</a></div></div>
<div class="ttc" id="KVUniqueNameList_8h_html"><div class="ttname"><a href="KVUniqueNameList_8h.html">KVUniqueNameList.h</a></div></div>
<div class="ttc" id="KVMultiDetArray_8h_html"><div class="ttname"><a href="KVMultiDetArray_8h.html">KVMultiDetArray.h</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_a32ea5d89204d8b4bfe572c7e8c66632c"><div class="ttname"><a href="classKVMultiDetArray.html#a32ea5d89204d8b4bfe572c7e8c66632c">KVMultiDetArray::fIDTelescopes</a></div><div class="ttdeci">KVSeqCollection * fIDTelescopes</div><div class="ttdoc">deltaE-E telescopes in groups </div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8h_source.html#l00064">KVMultiDetArray.h:64</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_acec0f846fca263cf6424465cc272b445"><div class="ttname"><a href="classKVMultiDetArray.html#acec0f846fca263cf6424465cc272b445">KVMultiDetArray::DetectParticle_TGEO</a></div><div class="ttdeci">KVNameValueList * DetectParticle_TGEO(KVNucleus *part)</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l01446">KVMultiDetArray.cpp:1446</a></div></div>
<div class="ttc" id="classKVMultiDetArray_html_aa922b7280c6dee46110a857df7f226ce"><div class="ttname"><a href="classKVMultiDetArray.html#aa922b7280c6dee46110a857df7f226ce">KVMultiDetArray::InitializeIDTelescopes</a></div><div class="ttdeci">virtual void InitializeIDTelescopes()</div><div class="ttdef"><b>Definition:</b> <a href="KVMultiDetArray_8cpp_source.html#l02465">KVMultiDetArray.cpp:2465</a></div></div>
<div class="ttc" id="KVDataSetManager_8h_html"><div class="ttname"><a href="KVDataSetManager_8h.html">KVDataSetManager.h</a></div></div>
<div class="ttc" id="classKVReconstructedNucleus_html_ae3ec6de68771df778fc503f33e6bc815"><div class="ttname"><a href="classKVReconstructedNucleus.html#ae3ec6de68771df778fc503f33e6bc815">KVReconstructedNucleus::AnalyseParticlesInGroup</a></div><div class="ttdeci">static void AnalyseParticlesInGroup(KVGroup *grp)</div><div class="ttdef"><b>Definition:</b> <a href="KVReconstructedNucleus_8cpp_source.html#l00544">KVReconstructedNucleus.cpp:544</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 30 2018 17:40:10 for KaliVeda by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
