<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KaliVeda: KVElasticCountRate Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KaliVeda
   &#160;<span id="projectnumber">1.10/15</span>
   </div>
   <div id="projectbrief">Heavy-Ion Analysis Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="structKVElasticCountRate-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structKVElasticCountRate-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">KVElasticCountRate Class Reference<div class="ingroups"><a class="el" href="group__Simulation.html">The Simulation module</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader"> </h2>
<div class="textblock"><p>Calculate elastic scattering count rates in multidetector arrays. </p>
<p>Use this class to calculate the count rates &amp; energy losses of elastically scattered nuclei in the detectors of a multidetector array. It is assumed that the following global pointers have been initialised before using this class: </p>
<ul>
<li>
<pre><a href="KVMultiDetArray.html">gMultiDetArray</a></pre> - points to object describing multidetector array </li>
<li>
<pre><a href="KVDataBase.html">gDataBase</a></pre> - points to database of run-dependent information for experimental dataset </li>
</ul>
<p>In other words, we assume that the user has chosen a dataset on which she wants to work: </p>
<pre><a href="KVDataSetManager.html">gDataSetManager</a>-&gt;<a href="KVDataSetManager.html#KVDataSetManager:GetDataSet">GetDataSet</a>("name_of_dataset")-&gt;<a href="KVDataSet.html#KVDataSet:cd">cd</a>()</pre> <p>and then initialised the description of the experimental configuration for the dataset: </p>
<pre><a href="KVMultiDetArray.html">KVMultiDetArray</a>::<a href="KVMultiDetArray.html#KVMultiDetArray:MakeMultiDetector">MakeMultiDetector</a>(gDataSet-&gt;GetName())</pre> <h3>Setting up the calculation</h3>
<p>Create a new elastic scattering object defining angular range in which to perform calculation:</p>
<pre><a class="el" href="classKVElasticCountRates.html" title="Calculate elastic scattering count rates in multidetector arrays. ">KVElasticCountRates</a> ecr(2,45,0,360)</pre> <p>Then call the following methods in any order in order to set up the calculation:</p>
<ul>
<li>
<pre>ecr.<a href="#KVElasticCountRates:SetProjectile">SetProjectile</a>(...)</pre> </li>
<li>
<pre>ecr.<a href="#KVElasticCountRates:SetRun">SetRun</a>(...)</pre> </li>
</ul>
<p>The SetRun(...) method uses the experimental database in order to determine the target for the run, detector state (gas pressures etc.). </p>
<h3>Multilayer targets</h3>
<p>When multilayer targets are used, the user can restrict the scattering calculation to one specific component of the target, i.e. the scattering takes place between the projectile and one of the nuclei of the specified layer. Energy losses before and after the scattering in the other layers of the target are of course still taken into account. To set the part of the target where scattering takes place use </p>
<pre>ecr.<a href="#KVElasticCountRates:SetTargetScatteringLayer">SetTargetScatteringLayer</a>(...)</pre> <p>with the name of the layer you require (this is normally the name of the element making up the layer - see <a href="KVTarget.html">KVTarget</a> for details). </p>
<h3>Inelastic scattering</h3>
<p>Calculations can also be performed for inelastic scattering i.e. when the target nucleus is left in an excited state (N.B. we still use the Rutherford elastic scattering cross-section for weighting the energy loss distributions). In order to do this, call </p>
<pre>ecr.<a href="#KVElasticCountRates:SetTargetExcitedState">SetTargetExcitedState</a>(...)</pre> <p>with the energy of the excited state of the target after scattering. </p>
<h3>Running the calculation, obtaining the results</h3>
<p>To perform the calculation, do:</p>
<pre>ecr.CaclulateScattering(10000)</pre> <p>Make sure the number of sampled points (default=10000) is large enough for accurate determination of count rates. At the end of calculation, we print infos for all detectors hit by elastic particles, these are the count rates for a nominal beam intensity of 10**7 particles per second, the mean energy loss in the detector, the total integrated cross-section per detector in barn, the number of particles per second per unit area hitting each detector, and the total energy per second per unit area deposited in each detector:</p>
<pre>
kaliveda [3] esa.CalculateScattering(10000)
SI_0101  :  N=  204.42/sec.    &lt;E&gt;=  890.3 MeV   Tot.Xsec=6.687E+01 barn    fluence=2.711E+01/sec./cm**2     dissip.=2.413E+04 MeV/sec./cm**2
SI_0201  :  N=   61.37/sec.    &lt;E&gt;=  709.7 MeV   Tot.Xsec=2.008E+01 barn    fluence=1.413E+01/sec./cm**2     dissip.=1.002E+04 MeV/sec./cm**2
SI_0301  :  N=   15.29/sec.    &lt;E&gt;=  706.4 MeV   Tot.Xsec=5.002E+00 barn    fluence=2.390E+00/sec./cm**2     dissip.=1.688E+03 MeV/sec./cm**2
SI_0401  :  N=    6.33/sec.    &lt;E&gt;=  699.2 MeV   Tot.Xsec=2.070E+00 barn    fluence=1.582E+00/sec./cm**2     dissip.=1.106E+03 MeV/sec./cm**2
</pre> <p>If you want to see the count rates for a different beam intensity, call</p>
<pre>ecr.PrintResults(5.e+06)&lt;/pr&gt;
</pre><pre>For each detector hit we fill three histograms:</pre><pre>
<pre>
 OBJ: TH1F  SI_0223  Eloss in SI_0223 : 0 at: 0x10898980
 OBJ: TH1F  SI_0223_dW  Solid angle of SI_0223 : 0 at: 0x10899540
 OBJ: TH2F  SI_0223_map Map of SI_0223 : 0 at: 0x10e2e7d0
</pre> </pre><pre>Each histogram can be obtained using</pre><pre>
<pre>ecr.GetHistos().FindObject("SI_0223_map")</pre> </pre><pre>The different informations for each detector can be obtained using</pre><pre>
<pre>
kaliveda [7] ecr.GetDetector("SI_0201").<a class="el" href="structcount__rate.html">count_rate</a>
(double)6.13702995974404857e+01
kaliveda [8] ecr.GetDetector("SI_0201").mean_energy
(double)7.09659910827807721e+02
kaliveda [9] ecr.GetDetector("SI_0201").intXsec
(double)2.00758282694385635e+01
</pre> </pre><pre>
See <a href="KVElasticCountRate.html">KVElasticCountRate</a> for details.
Warning: the values returned correspond to the last beam intensity value given to PrintResults().
</pre><pre>
</pre>
<p class="definition">Definition at line <a class="el" href="KVElasticCountRates_8h_source.html#l00016">16</a> of file <a class="el" href="KVElasticCountRates_8h_source.html">KVElasticCountRates.h</a>.</p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9614bea69ac81edbcf93d9acbfd6df0a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKVElasticCountRate.html#a9614bea69ac81edbcf93d9acbfd6df0a">KVElasticCountRate</a> (double c=0, double e=0, double i=0, double f=0, double d=0)</td></tr>
<tr class="separator:a9614bea69ac81edbcf93d9acbfd6df0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af0e0f66c9b6b7e22195bd6853ede25"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKVElasticCountRate.html#a5af0e0f66c9b6b7e22195bd6853ede25">~KVElasticCountRate</a> ()</td></tr>
<tr class="separator:a5af0e0f66c9b6b7e22195bd6853ede25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a5da836b970d7c25362b3fc2c7cc9a47f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKVElasticCountRate.html#a5da836b970d7c25362b3fc2c7cc9a47f">count_rate</a></td></tr>
<tr class="separator:a5da836b970d7c25362b3fc2c7cc9a47f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ebea0aba9d1c0bd17ac4c3178832f3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKVElasticCountRate.html#ac1ebea0aba9d1c0bd17ac4c3178832f3">dissipation</a></td></tr>
<tr class="separator:ac1ebea0aba9d1c0bd17ac4c3178832f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accbdcb52879eaf5c4783dea7e9ef2f0f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKVElasticCountRate.html#accbdcb52879eaf5c4783dea7e9ef2f0f">fluence</a></td></tr>
<tr class="separator:accbdcb52879eaf5c4783dea7e9ef2f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78ccc53ffe153e9bdc41d474a3d0f6f3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKVElasticCountRate.html#a78ccc53ffe153e9bdc41d474a3d0f6f3">intXsec</a></td></tr>
<tr class="separator:a78ccc53ffe153e9bdc41d474a3d0f6f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67039491d72093a016478868846730d6"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKVElasticCountRate.html#a67039491d72093a016478868846730d6">mean_energy</a></td></tr>
<tr class="separator:a67039491d72093a016478868846730d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>

<p><code>#include &lt;<a class="el" href="KVElasticCountRates_8h_source.html">KVElasticCountRates.h</a>&gt;</code></p>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9614bea69ac81edbcf93d9acbfd6df0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9614bea69ac81edbcf93d9acbfd6df0a">&#9670;&nbsp;</a></span>KVElasticCountRate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KVElasticCountRate::KVElasticCountRate </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>c</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>e</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>f</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVElasticCountRates_8h_source.html#l00022">22</a> of file <a class="el" href="KVElasticCountRates_8h_source.html">KVElasticCountRates.h</a>.</p>

</div>
</div>
<a id="a5af0e0f66c9b6b7e22195bd6853ede25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5af0e0f66c9b6b7e22195bd6853ede25">&#9670;&nbsp;</a></span>~KVElasticCountRate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual KVElasticCountRate::~KVElasticCountRate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVElasticCountRates_8h_source.html#l00024">24</a> of file <a class="el" href="KVElasticCountRates_8h_source.html">KVElasticCountRates.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5da836b970d7c25362b3fc2c7cc9a47f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5da836b970d7c25362b3fc2c7cc9a47f">&#9670;&nbsp;</a></span>count_rate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double KVElasticCountRate::count_rate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVElasticCountRates_8h_source.html#l00017">17</a> of file <a class="el" href="KVElasticCountRates_8h_source.html">KVElasticCountRates.h</a>.</p>

</div>
</div>
<a id="ac1ebea0aba9d1c0bd17ac4c3178832f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1ebea0aba9d1c0bd17ac4c3178832f3">&#9670;&nbsp;</a></span>dissipation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double KVElasticCountRate::dissipation</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVElasticCountRates_8h_source.html#l00021">21</a> of file <a class="el" href="KVElasticCountRates_8h_source.html">KVElasticCountRates.h</a>.</p>

</div>
</div>
<a id="accbdcb52879eaf5c4783dea7e9ef2f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accbdcb52879eaf5c4783dea7e9ef2f0f">&#9670;&nbsp;</a></span>fluence</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double KVElasticCountRate::fluence</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVElasticCountRates_8h_source.html#l00020">20</a> of file <a class="el" href="KVElasticCountRates_8h_source.html">KVElasticCountRates.h</a>.</p>

</div>
</div>
<a id="a78ccc53ffe153e9bdc41d474a3d0f6f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78ccc53ffe153e9bdc41d474a3d0f6f3">&#9670;&nbsp;</a></span>intXsec</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double KVElasticCountRate::intXsec</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVElasticCountRates_8h_source.html#l00019">19</a> of file <a class="el" href="KVElasticCountRates_8h_source.html">KVElasticCountRates.h</a>.</p>

</div>
</div>
<a id="a67039491d72093a016478868846730d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67039491d72093a016478868846730d6">&#9670;&nbsp;</a></span>mean_energy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double KVElasticCountRate::mean_energy</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVElasticCountRates_8h_source.html#l00018">18</a> of file <a class="el" href="KVElasticCountRates_8h_source.html">KVElasticCountRates.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>kaliveda.doxygen/KVMultiDet/simulation/<a class="el" href="KVElasticCountRates_8h_source.html">KVElasticCountRates.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 30 2018 17:40:13 for KaliVeda by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
