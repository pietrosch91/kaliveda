<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KaliVeda: KVLockfile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KaliVeda
   &#160;<span id="projectnumber">1.10/15</span>
   </div>
   <div id="projectbrief">Heavy-Ion Analysis Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classKVLockfile-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classKVLockfile-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">KVLockfile Class Reference<div class="ingroups"><a class="el" href="group__Base.html">The Base module</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader"> </h2>
<div class="textblock"><p>Interface to (Linux) system lockfile command. </p>
<p>lockfile can be used to create one or more semaphore files. If lockfile can't create all the specified files (in the specified order), it waits sleeptime (defaults to 8) seconds and retries the last file that didn't succeed. You can specify the number of retries to do until failure is returned. If the number of retries is -1 (default) lockfile will retry forever.</p>
<p>If the number of retries expires before all files have been created, lockfile returns failure and removes all the files it created up till that point.</p>
<p>If you specify a locktimeout then a lockfile will be removed by force after locktimeout seconds have passed since the lockfile was last modified/created (most likely by some other program that unexpectedly died a long time ago, and hence could not clean up any leftover lockfiles). Lockfile is clock skew immune. After a lockfile has been removed by force, a suspension of suspend seconds (defaults to 16) is taken into account, in order to prevent the inadvertent immediate removal of any newly created lockfile by another program (compare SUSPEND in procmail(1)).</p>
<p>To use a lockfile, create a <a class="el" href="classKVLockfile.html" title="Interface to (Linux) system lockfile command. ">KVLockfile</a> object either using the constructor without arguments or by giving the name of the file to lock:</p>
<pre>
<a class="el" href="classKVLockfile.html" title="Interface to (Linux) system lockfile command. ">KVLockfile</a> lox;
<a class="el" href="classKVLockfile.html" title="Interface to (Linux) system lockfile command. ">KVLockfile</a> lox2("important.dat");
</pre> <p>Then set the values you want for the number of retries, the sleeptime etc. Default values are as for Linux 'lockfile':</p>
<pre>
sleeptime = 8 sec.
retries = -1 (keep trying for ever)
suspend = 16 sec. (in case of timeout)
</pre> <p>There is no timeout by default. If you want one, use SetTimeout(timeout) with timeout&gt;0 seconds.</p>
<p>To lock the file:</p>
<pre>
lox.Lock("important.dat"); // filename not given to ctor
lox2.Lock(); // filename given to ctor
</pre> <p>To unlock the file:</p>
<pre>
lox.Release();
lox2.Release();
</pre> <p>Note that <a class="el" href="classKVLockfile.html#a0b012f9dc7bd23b28429915bc4449014">Release()</a> is called automatically in the dtor in case e.g. the <a class="el" href="classKVLockfile.html" title="Interface to (Linux) system lockfile command. ">KVLockfile</a> goes out of scope.</p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00015">15</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aca6d86dba2425a6bab556d31e359aad3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#aca6d86dba2425a6bab556d31e359aad3">KVLockfile</a> (const Char_t *filename=&quot;&quot;)</td></tr>
<tr class="memdesc:aca6d86dba2425a6bab556d31e359aad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#aca6d86dba2425a6bab556d31e359aad3">More...</a><br /></td></tr>
<tr class="separator:aca6d86dba2425a6bab556d31e359aad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67edb3666cfce2c060ec5661d8310b6d"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#a67edb3666cfce2c060ec5661d8310b6d">~KVLockfile</a> ()</td></tr>
<tr class="separator:a67edb3666cfce2c060ec5661d8310b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6038fda3c67e6fb40c056b9c2c73c01"><td class="memItemLeft" align="right" valign="top">Bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#ad6038fda3c67e6fb40c056b9c2c73c01">IsLocked</a> () const</td></tr>
<tr class="separator:ad6038fda3c67e6fb40c056b9c2c73c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c684250d29acbde85df7b258a43f0f"><td class="memItemLeft" align="right" valign="top">Bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#ab8c684250d29acbde85df7b258a43f0f">Lock</a> (const Char_t *filename=&quot;&quot;)</td></tr>
<tr class="separator:ab8c684250d29acbde85df7b258a43f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b012f9dc7bd23b28429915bc4449014"><td class="memItemLeft" align="right" valign="top">Bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#a0b012f9dc7bd23b28429915bc4449014">Release</a> ()</td></tr>
<tr class="separator:a0b012f9dc7bd23b28429915bc4449014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac94c2f1cd6f0afefacc302eb13505ad3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#ac94c2f1cd6f0afefacc302eb13505ad3">SetRetries</a> (int r)</td></tr>
<tr class="separator:ac94c2f1cd6f0afefacc302eb13505ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05c8175b107c09d4942505225a14a67a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#a05c8175b107c09d4942505225a14a67a">SetSleeptime</a> (int s)</td></tr>
<tr class="separator:a05c8175b107c09d4942505225a14a67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff972c6340e60298562979d3dbcf0c77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#aff972c6340e60298562979d3dbcf0c77">SetSuspend</a> (int s)</td></tr>
<tr class="separator:aff972c6340e60298562979d3dbcf0c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28f7a049515863f579735252ac696a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#ab28f7a049515863f579735252ac696a7">SetTimeout</a> (int t)</td></tr>
<tr class="separator:ab28f7a049515863f579735252ac696a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a051be74ff19991c077cad3c8e0985437"><td class="memItemLeft" align="right" valign="top">Bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#a051be74ff19991c077cad3c8e0985437">FindExecutable</a> (TString &amp;exec, const Char_t *path=&quot;$(PATH)&quot;)</td></tr>
<tr class="memdesc:a051be74ff19991c077cad3c8e0985437"><td class="mdescLeft">&#160;</td><td class="mdescRight">copied from <a class="el" href="classKVBase.html" title="Base class for KaliVeda framework. ">KVBase</a> to avoid circular dependency  <a href="#a051be74ff19991c077cad3c8e0985437">More...</a><br /></td></tr>
<tr class="separator:a051be74ff19991c077cad3c8e0985437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af36ae4874255da508038fffab09c6690"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#af36ae4874255da508038fffab09c6690">init</a> ()</td></tr>
<tr class="separator:af36ae4874255da508038fffab09c6690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a283ff8cb2a1e42bb2ce4044b6929fa12"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#a283ff8cb2a1e42bb2ce4044b6929fa12">testlock</a> ()</td></tr>
<tr class="separator:a283ff8cb2a1e42bb2ce4044b6929fa12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bac73cd57de613240631850e1b33864"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#a7bac73cd57de613240631850e1b33864">writecmd</a> ()</td></tr>
<tr class="memdesc:a7bac73cd57de613240631850e1b33864"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes lockfile command with current values of parameters.  <a href="#a7bac73cd57de613240631850e1b33864">More...</a><br /></td></tr>
<tr class="separator:a7bac73cd57de613240631850e1b33864"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:abd99e3d9e06e86cfa040b819d8613cda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classKVString.html">KVString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#abd99e3d9e06e86cfa040b819d8613cda">cmd</a></td></tr>
<tr class="memdesc:abd99e3d9e06e86cfa040b819d8613cda"><td class="mdescLeft">&#160;</td><td class="mdescRight">command to execute  <a href="#abd99e3d9e06e86cfa040b819d8613cda">More...</a><br /></td></tr>
<tr class="separator:abd99e3d9e06e86cfa040b819d8613cda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1faee4d820990eef1f9aeeb99bdd29a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classKVString.html">KVString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#a1faee4d820990eef1f9aeeb99bdd29a5">fFile</a></td></tr>
<tr class="memdesc:a1faee4d820990eef1f9aeeb99bdd29a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of file  <a href="#a1faee4d820990eef1f9aeeb99bdd29a5">More...</a><br /></td></tr>
<tr class="separator:a1faee4d820990eef1f9aeeb99bdd29a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab49b664847d9349d0021a375df611da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classKVString.html">KVString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#aab49b664847d9349d0021a375df611da">fLockfile</a></td></tr>
<tr class="memdesc:aab49b664847d9349d0021a375df611da"><td class="mdescLeft">&#160;</td><td class="mdescRight">full path to lockfile executable (if defined)  <a href="#aab49b664847d9349d0021a375df611da">More...</a><br /></td></tr>
<tr class="separator:aab49b664847d9349d0021a375df611da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af03584d3650af15b25092fafb2bb5937"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#af03584d3650af15b25092fafb2bb5937">have_exec</a></td></tr>
<tr class="memdesc:af03584d3650af15b25092fafb2bb5937"><td class="mdescLeft">&#160;</td><td class="mdescRight">kTRUE if lockfile found on system  <a href="#af03584d3650af15b25092fafb2bb5937">More...</a><br /></td></tr>
<tr class="separator:af03584d3650af15b25092fafb2bb5937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209b87b3423df4f44168f56aff094def"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#a209b87b3423df4f44168f56aff094def">locked</a></td></tr>
<tr class="memdesc:a209b87b3423df4f44168f56aff094def"><td class="mdescLeft">&#160;</td><td class="mdescRight">kTRUE when <a class="el" href="classKVLockfile.html#ab8c684250d29acbde85df7b258a43f0f">Lock()</a> has been called successfully  <a href="#a209b87b3423df4f44168f56aff094def">More...</a><br /></td></tr>
<tr class="separator:a209b87b3423df4f44168f56aff094def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c008d9ddb5cc06985da83dece13643"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#a11c008d9ddb5cc06985da83dece13643">locktimeout</a></td></tr>
<tr class="memdesc:a11c008d9ddb5cc06985da83dece13643"><td class="mdescLeft">&#160;</td><td class="mdescRight">time after which lock automatically opens  <a href="#a11c008d9ddb5cc06985da83dece13643">More...</a><br /></td></tr>
<tr class="separator:a11c008d9ddb5cc06985da83dece13643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1253e4b95184cc349c64208ddac39af8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#a1253e4b95184cc349c64208ddac39af8">retries</a></td></tr>
<tr class="memdesc:a1253e4b95184cc349c64208ddac39af8"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of times to retry  <a href="#a1253e4b95184cc349c64208ddac39af8">More...</a><br /></td></tr>
<tr class="separator:a1253e4b95184cc349c64208ddac39af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ca5f4c7cfa00585823148fac9e0ebae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#a6ca5f4c7cfa00585823148fac9e0ebae">sleeptime</a></td></tr>
<tr class="memdesc:a6ca5f4c7cfa00585823148fac9e0ebae"><td class="mdescLeft">&#160;</td><td class="mdescRight">time to wait before retrying lock  <a href="#a6ca5f4c7cfa00585823148fac9e0ebae">More...</a><br /></td></tr>
<tr class="separator:a6ca5f4c7cfa00585823148fac9e0ebae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4cddd125cb9cbd25ecbc77e72110581"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKVLockfile.html#aa4cddd125cb9cbd25ecbc77e72110581">suspend</a></td></tr>
<tr class="memdesc:aa4cddd125cb9cbd25ecbc77e72110581"><td class="mdescLeft">&#160;</td><td class="mdescRight">suspend time after timeout  <a href="#aa4cddd125cb9cbd25ecbc77e72110581">More...</a><br /></td></tr>
<tr class="separator:aa4cddd125cb9cbd25ecbc77e72110581"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>

<p><code>#include &lt;<a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>&gt;</code></p>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aca6d86dba2425a6bab556d31e359aad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca6d86dba2425a6bab556d31e359aad3">&#9670;&nbsp;</a></span>KVLockfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KVLockfile::KVLockfile </td>
          <td>(</td>
          <td class="paramtype">const Char_t *&#160;</td>
          <td class="paramname"><em>filename</em> = <code>&quot;&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8cpp_source.html#l00119">119</a> of file <a class="el" href="KVLockfile_8cpp_source.html">KVLockfile.cpp</a>.</p>

</div>
</div>
<a id="a67edb3666cfce2c060ec5661d8310b6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67edb3666cfce2c060ec5661d8310b6d">&#9670;&nbsp;</a></span>~KVLockfile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KVLockfile::~KVLockfile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor If file is still locked, we call Release </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8cpp_source.html#l00133">133</a> of file <a class="el" href="KVLockfile_8cpp_source.html">KVLockfile.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a051be74ff19991c077cad3c8e0985437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a051be74ff19991c077cad3c8e0985437">&#9670;&nbsp;</a></span>FindExecutable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Bool_t KVLockfile::FindExecutable </td>
          <td>(</td>
          <td class="paramtype">TString &amp;&#160;</td>
          <td class="paramname"><em>exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Char_t *&#160;</td>
          <td class="paramname"><em>path</em> = <code>&quot;$(PATH)&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>copied from <a class="el" href="classKVBase.html" title="Base class for KaliVeda framework. ">KVBase</a> to avoid circular dependency </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8cpp_source.html#l00166">166</a> of file <a class="el" href="KVLockfile_8cpp_source.html">KVLockfile.cpp</a>.</p>

</div>
</div>
<a id="af36ae4874255da508038fffab09c6690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af36ae4874255da508038fffab09c6690">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void KVLockfile::init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialisation Look for 'lockfile' executable and store path if found Set value of have_exec accordingly </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8cpp_source.html#l00149">149</a> of file <a class="el" href="KVLockfile_8cpp_source.html">KVLockfile.cpp</a>.</p>

</div>
</div>
<a id="ad6038fda3c67e6fb40c056b9c2c73c01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6038fda3c67e6fb40c056b9c2c73c01">&#9670;&nbsp;</a></span>IsLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Bool_t KVLockfile::IsLocked </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00055">55</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="ab8c684250d29acbde85df7b258a43f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8c684250d29acbde85df7b258a43f0f">&#9670;&nbsp;</a></span>Lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool_t KVLockfile::Lock </td>
          <td>(</td>
          <td class="paramtype">const Char_t *&#160;</td>
          <td class="paramname"><em>filename</em> = <code>&quot;&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVLockfile_8cpp_source.html#l00255">255</a> of file <a class="el" href="KVLockfile_8cpp_source.html">KVLockfile.cpp</a>.</p>

</div>
</div>
<a id="a0b012f9dc7bd23b28429915bc4449014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b012f9dc7bd23b28429915bc4449014">&#9670;&nbsp;</a></span>Release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool_t KVLockfile::Release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVLockfile_8cpp_source.html#l00284">284</a> of file <a class="el" href="KVLockfile_8cpp_source.html">KVLockfile.cpp</a>.</p>

</div>
</div>
<a id="ac94c2f1cd6f0afefacc302eb13505ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac94c2f1cd6f0afefacc302eb13505ad3">&#9670;&nbsp;</a></span>SetRetries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void KVLockfile::SetRetries </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00039">39</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="a05c8175b107c09d4942505225a14a67a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05c8175b107c09d4942505225a14a67a">&#9670;&nbsp;</a></span>SetSleeptime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void KVLockfile::SetSleeptime </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00035">35</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="aff972c6340e60298562979d3dbcf0c77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff972c6340e60298562979d3dbcf0c77">&#9670;&nbsp;</a></span>SetSuspend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void KVLockfile::SetSuspend </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00047">47</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="ab28f7a049515863f579735252ac696a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab28f7a049515863f579735252ac696a7">&#9670;&nbsp;</a></span>SetTimeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void KVLockfile::SetTimeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00043">43</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="a283ff8cb2a1e42bb2ce4044b6929fa12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a283ff8cb2a1e42bb2ce4044b6929fa12">&#9670;&nbsp;</a></span>testlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int KVLockfile::testlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Executes lockfile command with current values of parameters (call <a class="el" href="classKVLockfile.html#a7bac73cd57de613240631850e1b33864" title="Writes lockfile command with current values of parameters. ">KVLockfile::writecmd()</a> before) </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8cpp_source.html#l00242">242</a> of file <a class="el" href="KVLockfile_8cpp_source.html">KVLockfile.cpp</a>.</p>

</div>
</div>
<a id="a7bac73cd57de613240631850e1b33864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bac73cd57de613240631850e1b33864">&#9670;&nbsp;</a></span>writecmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void KVLockfile::writecmd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes lockfile command with current values of parameters. </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8cpp_source.html#l00212">212</a> of file <a class="el" href="KVLockfile_8cpp_source.html">KVLockfile.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="abd99e3d9e06e86cfa040b819d8613cda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd99e3d9e06e86cfa040b819d8613cda">&#9670;&nbsp;</a></span>cmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classKVString.html">KVString</a> KVLockfile::cmd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>command to execute </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00023">23</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="a1faee4d820990eef1f9aeeb99bdd29a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1faee4d820990eef1f9aeeb99bdd29a5">&#9670;&nbsp;</a></span>fFile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classKVString.html">KVString</a> KVLockfile::fFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>name of file </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00016">16</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="aab49b664847d9349d0021a375df611da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab49b664847d9349d0021a375df611da">&#9670;&nbsp;</a></span>fLockfile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classKVString.html">KVString</a> KVLockfile::fLockfile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>full path to lockfile executable (if defined) </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00017">17</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="af03584d3650af15b25092fafb2bb5937"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af03584d3650af15b25092fafb2bb5937">&#9670;&nbsp;</a></span>have_exec</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool KVLockfile::have_exec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>kTRUE if lockfile found on system </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00018">18</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="a209b87b3423df4f44168f56aff094def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209b87b3423df4f44168f56aff094def">&#9670;&nbsp;</a></span>locked</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool KVLockfile::locked</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>kTRUE when <a class="el" href="classKVLockfile.html#ab8c684250d29acbde85df7b258a43f0f">Lock()</a> has been called successfully </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00024">24</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="a11c008d9ddb5cc06985da83dece13643"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11c008d9ddb5cc06985da83dece13643">&#9670;&nbsp;</a></span>locktimeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int KVLockfile::locktimeout</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>time after which lock automatically opens </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00021">21</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="a1253e4b95184cc349c64208ddac39af8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1253e4b95184cc349c64208ddac39af8">&#9670;&nbsp;</a></span>retries</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int KVLockfile::retries</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>number of times to retry </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00020">20</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="a6ca5f4c7cfa00585823148fac9e0ebae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ca5f4c7cfa00585823148fac9e0ebae">&#9670;&nbsp;</a></span>sleeptime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int KVLockfile::sleeptime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>time to wait before retrying lock </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00019">19</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<a id="aa4cddd125cb9cbd25ecbc77e72110581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4cddd125cb9cbd25ecbc77e72110581">&#9670;&nbsp;</a></span>suspend</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int KVLockfile::suspend</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>suspend time after timeout </p>

<p class="definition">Definition at line <a class="el" href="KVLockfile_8h_source.html#l00022">22</a> of file <a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>kaliveda.doxygen/KVMultiDet/base/<a class="el" href="KVLockfile_8h_source.html">KVLockfile.h</a></li>
<li>kaliveda.doxygen/KVMultiDet/base/<a class="el" href="KVLockfile_8cpp_source.html">KVLockfile.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 30 2018 17:40:15 for KaliVeda by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
