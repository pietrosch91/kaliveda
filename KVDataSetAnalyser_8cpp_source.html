<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KaliVeda: kaliveda.doxygen/KVMultiDet/analysis/KVDataSetAnalyser.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KaliVeda
   &#160;<span id="projectnumber">1.10/15</span>
   </div>
   <div id="projectbrief">Heavy-Ion Analysis Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ee2496c42ce3447ad0c4fd100b52f5e5.html">kaliveda.doxygen</a></li><li class="navelem"><a class="el" href="dir_74c7b176af7644ee55a1ecb9dd61ada5.html">KVMultiDet</a></li><li class="navelem"><a class="el" href="dir_9b27f38d70ba30292259742a931e033f.html">analysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">KVDataSetAnalyser.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="KVDataSetAnalyser_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//Created by KVClassFactory on Tue Feb 14 12:32:06 2017</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//Author: John Frankland,,,</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVDataSetAnalyser_8h.html">KVDataSetAnalyser.h</a>&quot;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVDataRepositoryManager_8h.html">KVDataRepositoryManager.h</a>&quot;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVDataRepository_8h.html">KVDataRepository.h</a>&quot;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVDataSetManager_8h.html">KVDataSetManager.h</a>&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVDataSet_8h.html">KVDataSet.h</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVDataBase_8h.html">KVDataBase.h</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVDBSystem_8h.html">KVDBSystem.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KV2Body_8h.html">KV2Body.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KVDBRun_8h.html">KVDBRun.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;ClassImp(<a class="code" href="classKVDataSetAnalyser.html">KVDataSetAnalyser</a>)</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// BEGIN_HTML &lt;!--</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/* --&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">&lt;h2&gt;KVDataSetAnalyser&lt;/h2&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">&lt;h4&gt;Analysis of data in datasets&lt;/h4&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">&lt;!-- */</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// --&gt; END_HTML</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a829591810cdaf648d216ba6c0f3e37c2">   41</a></span>&#160;<a class="code" href="classKVDataSetAnalyser.html">KVDataSetAnalyser</a>::<a class="code" href="classKVDataSetAnalyser.html">KVDataSetAnalyser</a>()</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;   : <a class="code" href="classKVDataAnalyser.html">KVDataAnalyser</a>()</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;   <span class="comment">// Default constructor</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   fSystem = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;   fDataSet = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;   fChoozDataSet = kTRUE;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;   fChoozTask = kFALSE;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   fChoozSystem = kFALSE;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;   fChoozRuns = kFALSE;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a73155940a95e51dac8330fdae96cce9c">   59</a></span>&#160;<a class="code" href="classKVDataSetAnalyser.html#a73155940a95e51dac8330fdae96cce9c">KVDataSetAnalyser::~KVDataSetAnalyser</a>()</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   <span class="comment">// Destructor</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a5407dbeef77f84c110db5f8e95ec7801">   69</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#a5407dbeef77f84c110db5f8e95ec7801">KVDataSetAnalyser::Reset</a>()</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   <a class="code" href="classKVDataAnalyser.html#a25638d57463516ff49330fb5951d7671">KVDataAnalyser::Reset</a>();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;   fDataSet = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   fRunList.Clear();</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;   fSystem = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   fChoozDataSet = kTRUE;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   fChoozTask = kFALSE;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   fChoozSystem = kFALSE;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   fChoozRuns = kFALSE;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a1e936a78357b00fae66ce500a7c9a983">   87</a></span>&#160;Bool_t <a class="code" href="classKVDataSetAnalyser.html#a1e936a78357b00fae66ce500a7c9a983">KVDataSetAnalyser::PreSubmitCheck</a>()</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   <span class="comment">// Called just before SubmitTask() in Run()</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;   <span class="comment">// Checks if remote repository is connected if necessary</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   <span class="keywordflow">if</span> (GetParent() &amp;&amp; <a class="code" href="KVDataRepository_8cpp.html#ac58acab0067ed754719a9af09dbd31f4">gDataRepository</a>-&gt;<a class="code" href="classKVDataRepository.html#a15175cdf59c0904ffb3dbaf0d71f64ec">IsRemote</a>() &amp;&amp; !<a class="code" href="KVDataRepository_8cpp.html#ac58acab0067ed754719a9af09dbd31f4">gDataRepository</a>-&gt;<a class="code" href="classKVDataRepository.html#ac946a58d7a57155e9e96fd3836623ea3">IsConnected</a>()) <span class="keywordflow">return</span> kFALSE;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <span class="keywordflow">return</span> kTRUE;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#aa83f8b31ff4e2b5c14fdb2d5f80f7e13">  100</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#aa83f8b31ff4e2b5c14fdb2d5f80f7e13">KVDataSetAnalyser::PostRunReset</a>()</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;   <span class="comment">// Called at end of Run() after execution of analysis task</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;   <a class="code" href="classKVDataAnalyser.html#a21e19a3894864fd6dcffd51855a42be9">KVDataAnalyser::PostRunReset</a>();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   fChoozDataSet = kTRUE;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#aa8d6b375f8ba6d0b343bf0e348a36279">  111</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#aa8d6b375f8ba6d0b343bf0e348a36279">KVDataSetAnalyser::ChooseWhatToAnalyse</a>()</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   <span class="keywordflow">while</span> (!IsQuit()) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <span class="keywordflow">if</span> (fChoozSystem)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;         ChooseSystem();</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fChoozRuns)</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;         ChooseRuns();</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#af60b2d260aa4ac20b285f9adea74f21a">  127</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#af60b2d260aa4ac20b285f9adea74f21a">KVDataSetAnalyser::ChooseWhatToDo</a>()</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   <span class="keywordflow">while</span> (!IsQuit()) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">if</span> (fChoozDataSet)</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;         ChooseDataSet();</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsChooseTask())</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;         ChooseAnalysisTask();</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#ac553acf0b0495c864bb8742667a8ee2e">  143</a></span>&#160;Bool_t <a class="code" href="classKVDataSetAnalyser.html#ac553acf0b0495c864bb8742667a8ee2e">KVDataSetAnalyser::CheckWhatToAnalyseAndHow</a>()</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   <span class="keywordflow">if</span> (!fDataSet) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      ChooseDataSet();</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keywordflow">if</span> (!fDataSet) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;         <span class="comment">//if after calling ChooseDataSet we STILL don&#39;t have a dataset,</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;         <span class="comment">//there is something seriously wrong...</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;         Error(<span class="stringliteral">&quot;CheckTaskVariables&quot;</span>, <span class="stringliteral">&quot;By the pricking of my thumb, something wicked this way comes...&quot;</span>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;         Error(<span class="stringliteral">&quot;CheckTaskVariables&quot;</span>, <span class="stringliteral">&quot;                        *** ABORTING THE ANALYSIS ***&quot;</span>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;         <span class="keywordflow">return</span> kFALSE;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <span class="keywordflow">if</span> (!GetAnalysisTask()) {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      ChooseAnalysisTask();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <span class="keywordflow">if</span> (fRunList.IsEmpty()) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      ChooseSystem();</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      ChooseRuns();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <span class="keywordflow">return</span> kTRUE;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a3b3883164fbf57ca40a0782fde829e4b">  175</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#a3b3883164fbf57ca40a0782fde829e4b">KVDataSetAnalyser::ChooseDataSet</a>()</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="comment">//Print list of available datasets and get user to choose one</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="comment">//A pointer to the chosen dataset can be retrieved with GetDataSet()</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   <span class="comment">//not possible in batch mode</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <span class="keywordflow">if</span> (BatchMode()) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   fChoozDataSet = kFALSE;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   SetQuit(kFALSE);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   _set_dataset_pointer(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   <span class="keywordflow">if</span> (GetAnalysisTask()) SetAnalysisTask(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   cout &lt;&lt; <span class="stringliteral">&quot;Available datasets :&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   <a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>-&gt;<a class="code" href="classKVDataSetManager.html#a2a1fb0a9e789a2adb17bd007b4687056">Print</a>(<span class="stringliteral">&quot;available&quot;</span>);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   Int_t n_dataset = -1;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   Int_t n_avail = <a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>-&gt;<a class="code" href="classKVDataSetManager.html#a4743686335ec7d5947a42b752234e85e">GetNavailable</a>();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   <span class="keywordflow">if</span> (n_avail &lt; 1) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="comment">//no datasets available - force termination</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      SetQuit();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="keywordflow">if</span> (n_avail == 1) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="comment">//1 dataset available - automatic choice</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      n_dataset = 1;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <a class="code" href="classKVString.html">KVString</a> tmp;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">while</span> (!IsQuit() &amp;&amp; (n_dataset &lt; 1 || n_dataset &gt; n_avail)) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;         cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Your choice (1-&quot;</span> &lt;&lt; <a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>-&gt;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;              GetNavailable() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;         <span class="keywordflow">if</span> (IsMenus()) cout &lt;&lt; <span class="stringliteral">&quot; [q - quit]&quot;</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;         cout &lt;&lt; <span class="stringliteral">&quot; : &quot;</span>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;         tmp.ReadLine(cin);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;         <span class="keywordflow">if</span> (IsMenus() &amp;&amp; (tmp.Contains(<span class="stringliteral">&quot;q&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;Q&quot;</span>))) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            SetQuit();</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp.IsDigit()) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            n_dataset = tmp.Atoi();</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;         }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   <span class="comment">//we have chosen a dataset</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   _set_dataset_pointer(<a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>-&gt;<a class="code" href="classKVDataSetManager.html#ad77eb4e59287c7502d6d7009d4e3cdce">GetAvailableDataSet</a>(n_dataset));</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   <span class="comment">//in menu-driven mode, next step is choice of analysis task</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   SetChooseTask();</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#aaebc8b33d8c0481d8c17d641abff4e1f">  231</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#aaebc8b33d8c0481d8c17d641abff4e1f">KVDataSetAnalyser::ChooseDataType</a>()</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="comment">//Print list of available types of data for the chosen dataset</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   <span class="comment">//and get user to choose one.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <span class="comment">//not possible in batch mode</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <span class="keywordflow">if</span> (BatchMode()) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   SetChooseTask(kFALSE);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   SetQuit(kFALSE);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   SetChooseSystem(kFALSE);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   SetChooseDataSet(kFALSE);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   SetAnalysisTask(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   fDataSet-&gt;Print(<span class="stringliteral">&quot;data&quot;</span>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Choose data type [d - change dataset | q - quit] : &quot;</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   TString tmp;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <span class="keywordflow">while</span> (!IsQuit() &amp;&amp; !IsChooseDataSet() &amp;&amp; !IsChooseSystem()) {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      tmp.ReadLine(cin);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordflow">if</span> (tmp == <span class="stringliteral">&quot;raw&quot;</span> || tmp == <span class="stringliteral">&quot;recon&quot;</span> || tmp == <span class="stringliteral">&quot;ident&quot;</span> || tmp == <span class="stringliteral">&quot;root&quot;</span>) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;         fChoozSystem = kTRUE;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;         SetDataType(tmp);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp.Contains(<span class="stringliteral">&quot;q&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;Q&quot;</span>)) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;         SetQuit();</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp.Contains(<span class="stringliteral">&quot;d&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;D&quot;</span>)) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;         SetChooseDataSet();</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a3ef06c7afb7f64a96f9e03039aafedb3">  272</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#a3ef06c7afb7f64a96f9e03039aafedb3">KVDataSetAnalyser::ChooseAnalysisTask</a>()</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   <span class="comment">//Print list of all possible data analysis tasks for the chosen data set and invite the user</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   <span class="comment">//to choose one of them.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="comment">//If only one task available, it is automatically selected</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="comment">//not possible in batch mode</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   <span class="keywordflow">if</span> (BatchMode()) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   SetChooseTask(kFALSE);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   SetAnalysisTask(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <span class="keywordflow">if</span> (fSystem) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      fSystem = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Available data analysis tasks :&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   fDataSet-&gt;Print(<span class="stringliteral">&quot;tasks&quot;</span>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   Int_t n_tasks = fDataSet-&gt;GetNtasks();</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   <span class="keywordflow">if</span> (n_tasks == 1) {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      SetAnalysisTask(fDataSet-&gt;GetAnalysisTask(1));</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      fChoozSystem = kTRUE;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   Int_t n_task = -1;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   <a class="code" href="classKVString.html">KVString</a> tmp;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <span class="keywordflow">while</span> (!IsQuit() &amp;&amp; (n_task &lt; 1 || n_task &gt; n_tasks)) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Your choice (1-&quot;</span> &lt;&lt; n_tasks &lt;&lt;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;           <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordflow">if</span> (IsMenus()) cout &lt;&lt; <span class="stringliteral">&quot; [d - change dataset | q - quit]&quot;</span>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot; : &quot;</span>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      tmp.ReadLine(cin);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">if</span> (IsMenus() &amp;&amp; (tmp.Contains(<span class="stringliteral">&quot;q&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;Q&quot;</span>))) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;         SetQuit();</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsMenus() &amp;&amp; (tmp.Contains(<span class="stringliteral">&quot;d&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;D&quot;</span>))) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;         fChoozDataSet = kTRUE;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp.IsDigit()) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;         n_task = tmp.Atoi();</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   SetAnalysisTask(fDataSet-&gt;GetAnalysisTask(n_task));</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <span class="comment">//in menu-driven mode, next step is choice of system</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   fChoozSystem = kTRUE;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a5ad2c59c89253c396ffe690331aee639">  333</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#a5ad2c59c89253c396ffe690331aee639">KVDataSetAnalyser::ChooseSystem</a>(<span class="keyword">const</span> Char_t* data_type)</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;{</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <span class="comment">//Print out list of all available systems for the given data type of the chosen dataset</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <span class="comment">//and invite the user to choose one. Return pointer to chosen system.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   <span class="comment">//If &#39;data_type&#39; is not given, we assume that ChooseAnalysisTask was previously</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <span class="comment">//called and we use the prerequisite data type for the chosen task (fTask-&gt;GetPrereq()).</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   <span class="comment">//The available system list is deduced from the &#39;availableruns&#39; file corresponding to the</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <span class="comment">//chosen dataset repository subdirectory and the</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="comment">//chosen data type (=&quot;raw&quot;, &quot;recon&quot;, &quot;ident&quot;, &quot;root&quot;).</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   <span class="comment">//not possible in batch mode</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <span class="keywordflow">if</span> (BatchMode()) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;   fChoozSystem = kFALSE;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   fSystem = 0;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   ClearRunList();</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="comment">//if no systems are defined for the dataset, we just want to pick from the runlist</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   <span class="keywordflow">if</span> (!fDataSet-&gt;GetDataBase()-&gt;GetTable(<span class="stringliteral">&quot;Systems&quot;</span>)-&gt;GetRecords()-&gt;GetSize()) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      fChoozRuns = kTRUE;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;   }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   TString d_t(data_type);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="comment">//If &#39;data_type&#39; is not given, we assume that ChooseAnalysisTask or ChooseDataType</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="comment">//was previously called and we use the value of fDataType</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   <span class="keywordflow">if</span> (d_t == <span class="stringliteral">&quot;&quot;</span>)</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      d_t = GetDataType();</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   unique_ptr&lt;TList&gt; sys_list(fDataSet-&gt;GetListOfAvailableSystems(d_t.Data()));</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <span class="keywordflow">if</span> (!sys_list.get() || sys_list-&gt;GetSize() &lt; 1) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot;No systems found for dataset: &quot;</span> &lt;&lt; fDataSet-&gt;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;           GetName() &lt;&lt; <span class="stringliteral">&quot;, datatype: &quot;</span> &lt;&lt; d_t.Data() &lt;&lt; endl;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="comment">//choose a different data type or analysis task</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      fChoozTask = kTRUE;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   TIter next_sys(sys_list.get());</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   <a class="code" href="classKVDBSystem.html">KVDBSystem</a>* sys;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   <span class="keywordtype">int</span> nsys = 0;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Available systems : &quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <span class="keywordflow">while</span> ((sys = (<a class="code" href="classKVDBSystem.html">KVDBSystem</a>*) next_sys())) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      nsys++;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot;     &quot;</span> &lt;&lt; Form(<span class="stringliteral">&quot;%3d.&quot;</span>, nsys);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; Form(<span class="stringliteral">&quot;%-30s&quot;</span>, sys-&gt;GetName());</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; Form(<span class="stringliteral">&quot;%-3d&quot;</span>,</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                           sys-&gt;GetNumberRuns()) &lt;&lt; <span class="stringliteral">&quot; runs)&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   <span class="keywordflow">if</span> (sys_list-&gt;GetSize() == 1) {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      fChoozRuns = kTRUE;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      fSystem = (<a class="code" href="classKVDBSystem.html">KVDBSystem</a>*) sys_list-&gt;At(0);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   <span class="keywordtype">int</span> nsys_pick = -1;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   <a class="code" href="classKVString.html">KVString</a> tmp;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   SetQuit(kFALSE);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   SetChooseTask(kFALSE);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   fChoozRuns = kFALSE;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <span class="keywordflow">while</span> (!IsQuit() &amp;&amp; !IsChooseTask() &amp;&amp; !fChoozRuns &amp;&amp; !fChoozDataSet) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Your choice (1-&quot;</span> &lt;&lt; nsys &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">if</span> (IsMenus()) {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;         cout &lt;&lt; <span class="stringliteral">&quot; [r - choose runs | &quot;</span>; <span class="comment">//ignore systems list &amp; choose from all runs</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;         <span class="keywordflow">if</span> (GetAnalysisTask())</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;t - change task&quot;</span>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;t - change type&quot;</span>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;         cout &lt;&lt; <span class="stringliteral">&quot; | d - change dataset | q - quit]&quot;</span>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot; : &quot;</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      tmp.ReadLine(cin);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">if</span> (IsMenus() &amp;&amp; (tmp.Contains(<span class="stringliteral">&quot;q&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;Q&quot;</span>))) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;         SetQuit();</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsMenus() &amp;&amp; (tmp.Contains(<span class="stringliteral">&quot;t&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;T&quot;</span>))) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;         SetChooseTask();</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsMenus() &amp;&amp; (tmp.Contains(<span class="stringliteral">&quot;d&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;D&quot;</span>))) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;         fChoozDataSet = kTRUE;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsMenus() &amp;&amp; (tmp.Contains(<span class="stringliteral">&quot;r&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;R&quot;</span>))) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;         fChoozRuns = kTRUE;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp.IsDigit()) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;         nsys_pick = tmp.Atoi();</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;         <span class="keywordflow">if</span> (nsys_pick &gt;= 1 &amp;&amp; nsys_pick &lt;= nsys)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            fChoozRuns = kTRUE;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <span class="keywordflow">if</span> (fChoozRuns)</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      fSystem = (<a class="code" href="classKVDBSystem.html">KVDBSystem</a>*) sys_list-&gt;At(nsys_pick - 1);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a4885a025b7f36479b769ca00cf36cb65">  438</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#a4885a025b7f36479b769ca00cf36cb65">KVDataSetAnalyser::ChooseRuns</a>(<a class="code" href="classKVDBSystem.html">KVDBSystem</a>* system,</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                                   <span class="keyword">const</span> Char_t* data_type)</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;{</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="comment">//Print out list of available runs for chosen dataset, task/data type and system</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   <span class="comment">//and invite user to choose from among them</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="comment">//If &#39;data_type&#39; is not given, we assume that ChooseAnalysisTask was previously</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   <span class="comment">//called and we use the prerequisite data type for the chosen task (fTask-&gt;GetPrereq()).</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   <span class="comment">//If &#39;system&#39; is not given, we assume ChooseSystem was previously called and use</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   <span class="comment">//the internally-stored value of that choice (fSystem).</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   <span class="comment">//not possible in batch mode</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <span class="keywordflow">if</span> (BatchMode()) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   fChoozRuns = kFALSE;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   <span class="comment">//clear any previous list of runs</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   fRunList.Clear();</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   <span class="keywordflow">if</span> (system)</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      fSystem = system;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <a class="code" href="classKVString.html">KVString</a> d_t(data_type);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   <span class="comment">//If &#39;data_type&#39; is not given, we assume that ChooseAnalysisTask or ChooseDataType</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   <span class="comment">//was previously called and we use the value of fDataType</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   <span class="keywordflow">if</span> (d_t == <span class="stringliteral">&quot;&quot;</span>)</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      d_t = GetDataType();</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   <span class="keywordflow">if</span> (fSystem) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;  Chosen system : &quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      fSystem-&gt;Print();</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;  Available runs: &quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <a class="code" href="classKVNumberList.html">KVNumberList</a> all_runs = PrintAvailableRuns(d_t);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   <span class="keywordflow">if</span> (all_runs.<a class="code" href="classKVNumberList.html#ad4860304ca76b17bd01a564019b4ac1f">IsEmpty</a>()) {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="comment">//no runs - choose another system</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      fChoozSystem = kTRUE;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Enter list of runs [a - all&quot;</span>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   <span class="keywordflow">if</span> (IsMenus()) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot; | &quot;</span>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">if</span> (fSystem) cout &lt;&lt; <span class="stringliteral">&quot;s - change system | &quot;</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="keywordflow">if</span> (GetAnalysisTask())</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;         cout &lt;&lt; <span class="stringliteral">&quot;t - change task&quot;</span>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;         cout &lt;&lt; <span class="stringliteral">&quot;t - change type&quot;</span>;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      cout &lt;&lt; <span class="stringliteral">&quot; | d - change dataset | q - quit&quot;</span>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   cout &lt;&lt; <span class="stringliteral">&quot;] : &quot;</span>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   TString tmp;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   tmp.ReadLine(cin);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <span class="keywordflow">if</span> (IsMenus() &amp;&amp; (tmp.Contains(<span class="stringliteral">&quot;q&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;Q&quot;</span>))) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      SetQuit();</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsMenus() &amp;&amp; (tmp.Contains(<span class="stringliteral">&quot;s&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;S&quot;</span>))) {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      fChoozSystem = kTRUE;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsMenus() &amp;&amp; (tmp.Contains(<span class="stringliteral">&quot;t&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;T&quot;</span>))) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      SetChooseTask();</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsMenus() &amp;&amp; (tmp.Contains(<span class="stringliteral">&quot;d&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;D&quot;</span>))) {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      fChoozDataSet = kTRUE;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp.Contains(<span class="stringliteral">&quot;a&quot;</span>) || tmp.Contains(<span class="stringliteral">&quot;A&quot;</span>)) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      fRunList = all_runs;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      SetSubmit();</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="comment">//cout &lt;&lt; &quot;YOU TYPED : &quot; &lt;&lt; tmp.Data() &lt;&lt; endl;</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <a class="code" href="classKVNumberList.html">KVNumberList</a> user_list(tmp.Data());</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="comment">//cout &lt;&lt; &quot;YOUR LIST : &quot; &lt;&lt; user_list.GetList() &lt;&lt; endl;</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <span class="comment">//cout &lt;&lt; &quot;CLEARED RUNLIST : &quot; &lt;&lt;  endl; fRunList.PrintLimits();</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="comment">//remove from list any runs which did not actually appear in list</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      user_list.<a class="code" href="classKVNumberList.html#a735324a69c160f894a35aedf74daf59d">Begin</a>();</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keywordflow">while</span> (!user_list.End()) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;         Int_t user_run = user_list.Next();</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;         <span class="keywordflow">if</span> (all_runs.<a class="code" href="classKVNumberList.html#a2bbb2cfe1b472ee4c049f69fd801cffe">Contains</a>(user_run)) fRunList.Add(user_run);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="comment">//cout &lt;&lt; &quot;CHECKED RUNLIST : &quot; &lt;&lt;  endl; fRunList.PrintLimits();</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="keywordflow">if</span> (fRunList.IsEmpty()) {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;         Error(<span class="stringliteral">&quot;ChooseRuns&quot;</span>,</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;               <span class="stringliteral">&quot;None of the runs you chose appear in the list&quot;</span>);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;         <span class="comment">//we force the user to choose again</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;         fChoozRuns = kTRUE;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;         SetSubmit();</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   <span class="keywordflow">if</span> (IsSubmit())</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Chosen runs : &quot;</span> &lt;&lt; fRunList.GetList() &lt;&lt; endl;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;}</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a9163b221c65945e7a01f7a7509146573">  537</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#a9163b221c65945e7a01f7a7509146573">KVDataSetAnalyser::set_dataset_pointer</a>(<a class="code" href="classKVDataSet.html">KVDataSet</a>* ds)</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <span class="comment">//Set dataset to be used for analysis.</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <span class="comment">//If the chosen dataset is not available, an error message is printed</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <span class="comment">//Only available datasets can be analysed</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   <span class="comment">//Moreover, only datasets in the currently active data repository,</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;   <span class="comment">//gDataRepository, can be analysed. This is also checked.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   <span class="comment">//allow user to reset dataset pointer to 0</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   fDataSet = ds;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordflow">if</span> (!ds)</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   <span class="comment">//check availablility</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keywordflow">if</span> (!ds-&gt;<a class="code" href="classKVDataSet.html#ab09ecc6241e77fcb209d73efa8a2c364">IsAvailable</a>()) {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      Error(<span class="stringliteral">&quot;SetDataSet&quot;</span>,</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="stringliteral">&quot;Dataset %s is not available for analysis&quot;</span>, ds-&gt;GetName());</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      fDataSet = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   <span class="comment">//check repository</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;   <span class="keywordflow">if</span> (ds-&gt;<a class="code" href="classKVDataSet.html#a2bf1faba6e22253ce6d815968532a902">GetRepository</a>() != <a class="code" href="KVDataRepository_8cpp.html#ac58acab0067ed754719a9af09dbd31f4">gDataRepository</a>) {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      Error(<span class="stringliteral">&quot;SetDataSet&quot;</span>,</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="stringliteral">&quot;%ld is address of dataset in repository \&quot;%s\&quot;, not of the dataset in the current repository, \&quot;%s\&quot;&quot;</span>,</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            (ULong_t) ds, ds-&gt;<a class="code" href="classKVDataSet.html#a2bf1faba6e22253ce6d815968532a902">GetRepository</a>()-&gt;GetName(),</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <a class="code" href="KVDataRepository_8cpp.html#ac58acab0067ed754719a9af09dbd31f4">gDataRepository</a>-&gt;GetName());</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      fDataSet = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a8f363c27e4809f21d8e4094f3f6438c4">  575</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#a8f363c27e4809f21d8e4094f3f6438c4">KVDataSetAnalyser::set_dataset_name</a>(<span class="keyword">const</span> Char_t* name)</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;   <span class="comment">//Set dataset to be analysed.</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   <span class="comment">//If &#39;name&#39; is not the name of a valid and available dataset</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   <span class="comment">//in the currently active data repository, gDataRepository,</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;   <span class="comment">//an error message is printed.</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   fDataSet = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;   <a class="code" href="classKVDataSet.html">KVDataSet</a>* ds = <a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>-&gt;<a class="code" href="classKVDataSetManager.html#ac7c68539958c9e3b45ad1360e4a90330">GetDataSet</a>(name);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;   <span class="keywordflow">if</span> (!ds) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      Error(<span class="stringliteral">&quot;SetDataSet&quot;</span>, <span class="stringliteral">&quot;Unknown dataset %s&quot;</span>, name);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      set_dataset_pointer(ds);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   }</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;}</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a41fbb12eefd32b2247d375213ad5e3d1">  597</a></span>&#160;<a class="code" href="classKVNumberList.html">KVNumberList</a> <a class="code" href="classKVDataSetAnalyser.html#a41fbb12eefd32b2247d375213ad5e3d1">KVDataSetAnalyser::PrintAvailableRuns</a>(<a class="code" href="classKVString.html">KVString</a>&amp; datatype)</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;{</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   <span class="comment">//Prints list of available runs for selected dataset, data type/analysis task, and system</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   <span class="comment">//Returns list containing all run numbers</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <a class="code" href="classKVNumberList.html">KVNumberList</a> all_runs =</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      fDataSet-&gt;GetRunList(datatype.Data(), fSystem);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <a class="code" href="classKVDBRun.html">KVDBRun</a>* dbrun;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   all_runs.<a class="code" href="classKVNumberList.html#a735324a69c160f894a35aedf74daf59d">Begin</a>();</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <span class="keywordflow">while</span> (!all_runs.<a class="code" href="classKVNumberList.html#a4eeabcbe72aa33edbaa877cc9971795f">End</a>()) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      dbrun = (<a class="code" href="classKVDBRun.html">KVDBRun</a>*)fDataSet-&gt;GetDataBase()-&gt;<a class="code" href="classKVDBRecord.html#aebcde6fc610cfff5ad47cb4b89674892">GetTable</a>(<span class="stringliteral">&quot;Runs&quot;</span>)-&gt;<a class="code" href="classKVDBTable.html#adaf11a98b483b76c647f304a7ade63fb">GetRecord</a>(all_runs.<a class="code" href="classKVNumberList.html#afc47468a1de32bf243f8dfd3bf51c1c8">Next</a>());</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="keywordflow">if</span> (dbrun) {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;         cout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; Form(<span class="stringliteral">&quot;%4d&quot;</span>, dbrun-&gt;<a class="code" href="classKVDBRecord.html#ac39b4f022f7033566b7684ca3ee574af">GetNumber</a>());</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;         cout &lt;&lt; Form(<span class="stringliteral">&quot;\t(%7d events)&quot;</span>, dbrun-&gt;<a class="code" href="classKVDBRun.html#ad9346bbc0342f44792fdaec23f43f570">GetEvents</a>());</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;         cout &lt;&lt; <span class="stringliteral">&quot;\t[File written: &quot;</span> &lt;&lt; dbrun-&gt;<a class="code" href="classKVDBRun.html#a5d03418cbc36966c9f258aef392ee5d5">GetDatime</a>().AsString() &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;         <span class="keywordflow">if</span> (dbrun-&gt;<a class="code" href="classKVDBRun.html#ad89372f54949443d349ac8cdd272dce3">GetComments</a>())</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; dbrun-&gt;<a class="code" href="classKVDBRun.html#ad89372f54949443d349ac8cdd272dce3">GetComments</a>();</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;         cout &lt;&lt; endl;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;   }</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;   <span class="keywordflow">return</span> all_runs;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a7f6c3896000bd798eb9aed58f622fb13">  627</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#a7f6c3896000bd798eb9aed58f622fb13">KVDataSetAnalyser::SetSystem</a>(<a class="code" href="classKVDBSystem.html">KVDBSystem</a>* syst)</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <span class="comment">// Set the System used in the analysis</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   fSystem = syst;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a4c5c5bd8f3a8b6b51d81429fb24c0908">  642</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#a4c5c5bd8f3a8b6b51d81429fb24c0908">KVDataSetAnalyser::SetRuns</a>(<span class="keyword">const</span> <a class="code" href="classKVNumberList.html">KVNumberList</a>&amp; nl, Bool_t check)</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;{</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   <span class="comment">// Sets the run list</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   <span class="comment">//If check=kTRUE (default), we check that the runs are available, and if they belong to different</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   <span class="comment">//systems we print a warning message</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;   <span class="keywordflow">if</span> (!fDataSet) {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      Warning(<span class="stringliteral">&quot;SetRuns&quot;</span>, <span class="stringliteral">&quot;Data Set not defined... Nothing done&quot;</span>);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   <span class="keywordflow">if</span> (!check) {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      fRunList = nl;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="comment">//set fSystem using first run</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <a class="code" href="classKVDBRun.html">KVDBRun</a>* run = (<a class="code" href="classKVDBRun.html">KVDBRun</a>*)fDataSet-&gt;GetDataBase()-&gt;<a class="code" href="classKVDBRecord.html#aebcde6fc610cfff5ad47cb4b89674892">GetTable</a>(<span class="stringliteral">&quot;Runs&quot;</span>)-&gt;<a class="code" href="classKVDBTable.html#adaf11a98b483b76c647f304a7ade63fb">GetRecord</a>(nl.<a class="code" href="classKVNumberList.html#a2f7488c2b6638dcb6b4a9d7f6b529d3c">First</a>());</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="keywordflow">if</span> (run) fSystem = run-&gt;<a class="code" href="classKVDBRun.html#a543c3c071541f58f5785e86adbba1e01">GetSystem</a>();</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keywordflow">else</span> fSystem = 0;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;   }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   <span class="comment">// Check if all runs are available for this data set and if they all correspond to the same system</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;   Int_t i = 0;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   Info(<span class="stringliteral">&quot;SetRuns&quot;</span>, <span class="stringliteral">&quot;Checking runs %s for Data type %s&quot;</span>,</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        nl.<a class="code" href="classKVNumberList.html#a49b8d96f73898039fc4c72f83fc1cec8">AsString</a>(), GetDataType().Data());</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   nl.<a class="code" href="classKVNumberList.html#a735324a69c160f894a35aedf74daf59d">Begin</a>();</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   fRunList.Clear();</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   <span class="keywordflow">while</span> (!nl.<a class="code" href="classKVNumberList.html#a4eeabcbe72aa33edbaa877cc9971795f">End</a>()) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      Int_t run_no = nl.<a class="code" href="classKVNumberList.html#afc47468a1de32bf243f8dfd3bf51c1c8">Next</a>();</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="keywordflow">if</span> (!(fDataSet-&gt;CheckRunfileAvailable(GetDataType(), run_no))) {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;         Warning(<span class="stringliteral">&quot;SetRuns&quot;</span>,</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                 <span class="stringliteral">&quot;The run %d is not present for the data type \&quot;%s\&quot; of data set \&quot;%s\&quot;.&quot;</span>,</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                 run_no, GetDataType().Data(), fDataSet-&gt;GetName());</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;         fRunList.Add(run_no);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <a class="code" href="classKVDBRun.html">KVDBRun</a>* run = (<a class="code" href="classKVDBRun.html">KVDBRun</a>*)fDataSet-&gt;GetDataBase()-&gt;<a class="code" href="classKVDBRecord.html#aebcde6fc610cfff5ad47cb4b89674892">GetTable</a>(<span class="stringliteral">&quot;Runs&quot;</span>)-&gt;<a class="code" href="classKVDBTable.html#adaf11a98b483b76c647f304a7ade63fb">GetRecord</a>(run_no);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="keywordflow">if</span> (!i) {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;         fSystem = run-&gt;<a class="code" href="classKVDBRun.html#a543c3c071541f58f5785e86adbba1e01">GetSystem</a>();</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;         i = 1;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;         <span class="keywordflow">if</span> (run-&gt;<a class="code" href="classKVDBRun.html#a543c3c071541f58f5785e86adbba1e01">GetSystem</a>() != fSystem) {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <span class="keywordflow">if</span> (fSystem)</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;               Warning(<span class="stringliteral">&quot;SetRuns&quot;</span>,</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                       <span class="stringliteral">&quot;The system \&quot;%s\&quot; of run %d differs from the system \&quot;%s\&quot; of the previous runs.&quot;</span>,</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                       run-&gt;<a class="code" href="classKVDBRun.html#a543c3c071541f58f5785e86adbba1e01">GetSystem</a>()-&gt;GetName(), run_no, fSystem-&gt;GetName());</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;         }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   Info(<span class="stringliteral">&quot;SetRuns&quot;</span>, <span class="stringliteral">&quot;Accepted runs : %s&quot;</span>, fRunList.AsString());</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a19252d0f529ef21b086a31b3d25b2a15">  700</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#a19252d0f529ef21b086a31b3d25b2a15">KVDataSetAnalyser::WriteBatchEnvFile</a>(<span class="keyword">const</span> Char_t* jobname, Bool_t save)</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;{</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <span class="comment">//Save (in the TEnv fBatchEnv) all necessary information on analysis task which can be used to execute it later</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   <span class="comment">//(i.e. when batch processing system executes the job).</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   <span class="comment">//If save=kTRUE (default), write the information in a file whose name is given by &quot;.jobname&quot;</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="comment">//where &#39;jobname&#39; is the name of the job as given to the batch system.</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   <a class="code" href="classKVDataAnalyser.html#a7eaa4f8f08be5070a780bfff6abdbd58">KVDataAnalyser::WriteBatchEnvFile</a>(jobname, kFALSE);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   GetBatchInfoFile()-&gt;SetValue(<span class="stringliteral">&quot;DataRepository&quot;</span>, <a class="code" href="KVDataRepository_8cpp.html#ac58acab0067ed754719a9af09dbd31f4">gDataRepository</a>-&gt;GetName());</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;   GetBatchInfoFile()-&gt;SetValue(<span class="stringliteral">&quot;DataSet&quot;</span>, fDataSet-&gt;GetName());</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   GetBatchInfoFile()-&gt;SetValue(<span class="stringliteral">&quot;Runs&quot;</span>, fRunList.GetList());</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   GetBatchInfoFile()-&gt;SetValue(<span class="stringliteral">&quot;FullRunList&quot;</span>, fFullRunList.GetList());</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <span class="keywordflow">if</span> (save) GetBatchInfoFile()-&gt;SaveLevel(kEnvUser);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;}</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#aca857b0c6d0f61c959fb61843f71af5f">  724</a></span>&#160;Bool_t <a class="code" href="classKVDataSetAnalyser.html#aca857b0c6d0f61c959fb61843f71af5f">KVDataSetAnalyser::ReadBatchEnvFile</a>(<span class="keyword">const</span> Char_t* filename)</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;{</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   <span class="comment">//Read the batch env file &quot;filename&quot; and initialise the analysis task using the</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   <span class="comment">//informations in the file</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;   <span class="comment">//Returns kTRUE if all goes well</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   Bool_t ok = kFALSE;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="classKVDataAnalyser.html#adaafe8796d4f2b020975ce5e871c5a1a">KVDataAnalyser::ReadBatchEnvFile</a>(filename)) <span class="keywordflow">return</span> ok;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;   TString val = GetBatchInfoFile()-&gt;GetValue(<span class="stringliteral">&quot;DataRepository&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   <span class="keywordflow">if</span> (val != <span class="stringliteral">&quot;&quot;</span>) {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <a class="code" href="KVDataRepositoryManager_8cpp.html#a7b4af0c1bf90e9583108af2a4111843d">gDataRepositoryManager</a>-&gt;<a class="code" href="classKVDataRepositoryManager.html#a0f506d9f2ebc7c180a8a552672bf8e65">GetRepository</a>(val.Data())-&gt;cd();</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      Error(<span class="stringliteral">&quot;ReadBatchEnvFile&quot;</span>, <span class="stringliteral">&quot;Name of data repository not given&quot;</span>);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">return</span> ok;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;   }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;   val = GetBatchInfoFile()-&gt;GetValue(<span class="stringliteral">&quot;DataSet&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   <span class="keywordflow">if</span> (val != <span class="stringliteral">&quot;&quot;</span>) {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <a class="code" href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a>-&gt;<a class="code" href="classKVDataSetManager.html#ac7c68539958c9e3b45ad1360e4a90330">GetDataSet</a>(val.Data())-&gt;cd();</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      SetDataSet(<a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      Error(<span class="stringliteral">&quot;ReadBatchEnvFile&quot;</span>, <span class="stringliteral">&quot;Name of dataset not given&quot;</span>);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">return</span> ok;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;   }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;   val = GetBatchInfoFile()-&gt;GetValue(<span class="stringliteral">&quot;AnalysisTask&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;   SetAnalysisTask(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;   <span class="keywordflow">if</span> (val != <span class="stringliteral">&quot;&quot;</span>) {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      SetAnalysisTask(<a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>-&gt;<a class="code" href="classKVDataSet.html#a58662c564b278460c3864df337e0ef0b">GetAnalysisTask</a>(val.Data()));</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      Error(<span class="stringliteral">&quot;ReadBatchEnvFile&quot;</span>, <span class="stringliteral">&quot;Name of analysis task not given&quot;</span>);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keywordflow">return</span> ok;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;   }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;   <span class="keywordflow">if</span> (!GetAnalysisTask()) {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      Error(<span class="stringliteral">&quot;ReadBatchEnvFile&quot;</span>, <span class="stringliteral">&quot;Analysis task \&quot;%s\&quot;not found for dataset %s&quot;</span>,</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            val.Data(), <a class="code" href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a>-&gt;GetName());</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="keywordflow">return</span> ok;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;   }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   val = GetBatchInfoFile()-&gt;GetValue(<span class="stringliteral">&quot;Runs&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;   <span class="keywordflow">if</span> (val != <span class="stringliteral">&quot;&quot;</span>) {</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      SetRuns(val.Data());</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      Error(<span class="stringliteral">&quot;ReadBatchEnvFile&quot;</span>, <span class="stringliteral">&quot;List of runs not given&quot;</span>);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="keywordflow">return</span> ok;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   }</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   val = GetBatchInfoFile()-&gt;GetValue(<span class="stringliteral">&quot;FullRunList&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   <span class="keywordflow">if</span> (val != <span class="stringliteral">&quot;&quot;</span>) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      SetFullRunList(val.Data());</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   }</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   ok = kTRUE;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   <span class="keywordflow">return</span> ok;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;}</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a45570d867d3359466e2ae0bb418e6858">  782</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#a45570d867d3359466e2ae0bb418e6858">KVDataSetAnalyser::set_up_analyser_for_task</a>(<a class="code" href="classKVDataAnalyser.html">KVDataAnalyser</a>* the_analyser)</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;{</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <a class="code" href="classKVDataAnalyser.html#a76cf0034a53972a5f4ab21da9a4c99af">KVDataAnalyser::set_up_analyser_for_task</a>(the_analyser);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   <a class="code" href="classKVDataSetAnalyser.html">KVDataSetAnalyser</a>* t_a = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classKVDataSetAnalyser.html">KVDataSetAnalyser</a>*<span class="keyword">&gt;</span>(the_analyser);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   t_a-&gt;<a class="code" href="classKVDataSetAnalyser.html#a312b4e5fa6ef83dae189c4ea1c7a3b8c">SetDataSet</a>(fDataSet);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;   t_a-&gt;<a class="code" href="classKVDataSetAnalyser.html#a7f6c3896000bd798eb9aed58f622fb13">SetSystem</a>(fSystem);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;   t_a-&gt;<a class="code" href="classKVDataSetAnalyser.html#a4c5c5bd8f3a8b6b51d81429fb24c0908">SetRuns</a>(fRunList, kFALSE);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;}</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a63c1a8e088c9a060eb042f6430feb28c">  799</a></span>&#160;<span class="keyword">const</span> Char_t* <a class="code" href="classKVDataSetAnalyser.html#a63c1a8e088c9a060eb042f6430feb28c">KVDataSetAnalyser::SystemBatchName</a>()</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;{</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   <span class="comment">// Private method used by ExpandAutoBatchName to build name for current system</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   <span class="comment">// to be used in batch job name</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;   <span class="comment">// Also used by KVDataAnalysisLauncher::SystemBatchName for batch job names</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   <span class="comment">// and for writing resources in .KVDataAnalysisGUIrc file</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;   <span class="keyword">static</span> <a class="code" href="classKVString.html">KVString</a> tmp;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   tmp = <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   <span class="keywordflow">if</span> (!fSystem) <span class="keywordflow">return</span> tmp.Data();</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   <span class="keywordflow">return</span> fSystem-&gt;GetBatchName();</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;}</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a5efd29f794242fce0eee9bd2b36d0f91">  819</a></span>&#160;<span class="keyword">const</span> Char_t* <a class="code" href="classKVDataSetAnalyser.html#a5efd29f794242fce0eee9bd2b36d0f91">KVDataSetAnalyser::ExpandAutoBatchName</a>(<span class="keyword">const</span> Char_t* format)</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;{</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   <span class="comment">//Replace any &#39;special&#39; symbols in &quot;format&quot; with their current values</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <span class="comment">//</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   <span class="comment">//  $System  :  name of system to be analysed</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;   <span class="keyword">static</span> <a class="code" href="classKVString.html">KVString</a> tmp;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   tmp = <a class="code" href="classKVDataAnalyser.html#a090aacc0764dedc5121159518cf2a3bb">KVDataAnalyser::ExpandAutoBatchName</a>(format);</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;   tmp.ReplaceAll(<span class="stringliteral">&quot;$System&quot;</span>, SystemBatchName());</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   <span class="keywordflow">return</span> tmp.Data();</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a870970ea286228edfd8dd32993e1568c">  835</a></span>&#160;<span class="keyword">const</span> Char_t* <a class="code" href="classKVDataSetAnalyser.html#a870970ea286228edfd8dd32993e1568c">KVDataSetAnalyser::GetRecognisedAutoBatchNameKeywords</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   <span class="keyword">static</span> <a class="code" href="classKVString.html">KVString</a> tmp = <a class="code" href="classKVDataAnalyser.html#a744df29bc501d56bd5cd7b3e18b00669">KVDataAnalyser::GetRecognisedAutoBatchNameKeywords</a>();</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;   tmp += <span class="stringliteral">&quot;, $System&quot;</span>;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;   <span class="keywordflow">return</span> tmp;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;}</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a7b493f3e8079601f0981528a91864105">  847</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classKV2Body.html">KV2Body</a>* <a class="code" href="classKVDataSetAnalyser.html#a7b493f3e8079601f0981528a91864105">KVDataSetAnalyser::GetKinematics</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   <span class="comment">// Return pointer to kinematics of analysed system if defined</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <span class="keywordflow">if</span> (fSystem) <span class="keywordflow">return</span> fSystem-&gt;GetKinematics();</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;   <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a7df5708b01630e3479b48c3dd2a0f3b2">  859</a></span>&#160;Int_t <a class="code" href="classKVDataSetAnalyser.html#a7df5708b01630e3479b48c3dd2a0f3b2">KVDataSetAnalyser::GetRunNumberFromFileName</a>(<span class="keyword">const</span> Char_t* fileName)</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;{</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   <span class="comment">// Get the run number from the filename</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <a class="code" href="classKVAvailableRunsFile.html">KVAvailableRunsFile</a>* arf;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   arf = GetDataSet()-&gt;GetAvailableRunsFile(GetDataType().Data());</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="keywordflow">return</span> arf-&gt;<a class="code" href="classKVAvailableRunsFile.html#af438cdaf91d152c2c00ce1d8138f5efb">IsRunFileName</a>(fileName);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a8926e45e971d8aa21eb18ea82b976fbf">  877</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classKVDataSetAnalyser.html#a8926e45e971d8aa21eb18ea82b976fbf">KVDataSetAnalyser::AddJobDescriptionList</a>(TList* l)</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;{</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   <span class="comment">// Retrieve a KVNameValueList called &quot;JobDescriptionList&quot; from</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   <span class="comment">// the TList created with KVDataAnalyser::AddJobDescriptionList(l).</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;   <span class="comment">// The parameters in the list describe the properties of the</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   <span class="comment">// current job. The TList pointer could be, for example, the address of</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   <span class="comment">// the TSelector::fInput list used by PROOF.</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <a class="code" href="classKVDataAnalyser.html#a291776be3c910ce1157c6f60936046a0">KVDataAnalyser::AddJobDescriptionList</a>(l);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   <a class="code" href="classKVNameValueList.html">KVNameValueList</a>* jdl = (<a class="code" href="classKVNameValueList.html">KVNameValueList</a>*)l-&gt;FindObject(<span class="stringliteral">&quot;JobDescriptionList&quot;</span>);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   jdl-&gt;<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;DataRepository&quot;</span>, <a class="code" href="KVDataRepository_8cpp.html#ac58acab0067ed754719a9af09dbd31f4">gDataRepository</a>-&gt;GetName());</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   jdl-&gt;<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;DataSet&quot;</span>, fDataSet-&gt;GetName());</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;}</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div><div class="line"><a name="l00897"></a><span class="lineno"><a class="line" href="classKVDataSetAnalyser.html#a5cda9712d104414711aceb201aebc2da">  897</a></span>&#160;<a class="code" href="classKVString.html">KVString</a> <a class="code" href="classKVDataSetAnalyser.html#a5cda9712d104414711aceb201aebc2da">KVDataSetAnalyser::GetRootDirectoryOfDataToAnalyse</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   <span class="comment">// Returns path to data to be analysed</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="KVDataRepository_8cpp.html#ac58acab0067ed754719a9af09dbd31f4">gDataRepository</a>-&gt;<a class="code" href="classKVDataRepository.html#af448b5c8b0ec7b9e72af9eb1df0f69e5">GetRootDirectory</a>();</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="ttc" id="classKVAvailableRunsFile_html"><div class="ttname"><a href="classKVAvailableRunsFile.html">KVAvailableRunsFile</a></div><div class="ttdef"><b>Definition:</b> <a href="KVAvailableRunsFile_8h_source.html#l00029">KVAvailableRunsFile.h:29</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_ac553acf0b0495c864bb8742667a8ee2e"><div class="ttname"><a href="classKVDataSetAnalyser.html#ac553acf0b0495c864bb8742667a8ee2e">KVDataSetAnalyser::CheckWhatToAnalyseAndHow</a></div><div class="ttdeci">Bool_t CheckWhatToAnalyseAndHow()</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00143">KVDataSetAnalyser.cpp:143</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_aa8d6b375f8ba6d0b343bf0e348a36279"><div class="ttname"><a href="classKVDataSetAnalyser.html#aa8d6b375f8ba6d0b343bf0e348a36279">KVDataSetAnalyser::ChooseWhatToAnalyse</a></div><div class="ttdeci">void ChooseWhatToAnalyse()</div><div class="ttdoc">TO IMPLEMENT ? </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00111">KVDataSetAnalyser.cpp:111</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a5407dbeef77f84c110db5f8e95ec7801"><div class="ttname"><a href="classKVDataSetAnalyser.html#a5407dbeef77f84c110db5f8e95ec7801">KVDataSetAnalyser::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00069">KVDataSetAnalyser.cpp:69</a></div></div>
<div class="ttc" id="classKVDataSet_html_ab09ecc6241e77fcb209d73efa8a2c364"><div class="ttname"><a href="classKVDataSet.html#ab09ecc6241e77fcb209d73efa8a2c364">KVDataSet::IsAvailable</a></div><div class="ttdeci">virtual Bool_t IsAvailable() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSet_8h_source.html#l00103">KVDataSet.h:103</a></div></div>
<div class="ttc" id="classKVDBRun_html_a543c3c071541f58f5785e86adbba1e01"><div class="ttname"><a href="classKVDBRun.html#a543c3c071541f58f5785e86adbba1e01">KVDBRun::GetSystem</a></div><div class="ttdeci">KVDBSystem * GetSystem() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDBRun_8cpp_source.html#l00256">KVDBRun.cpp:256</a></div></div>
<div class="ttc" id="classKVDataSetManager_html_ac7c68539958c9e3b45ad1360e4a90330"><div class="ttname"><a href="classKVDataSetManager.html#ac7c68539958c9e3b45ad1360e4a90330">KVDataSetManager::GetDataSet</a></div><div class="ttdeci">virtual KVDataSet * GetDataSet(Int_t) const</div><div class="ttdoc">Return pointer to DataSet using index in list of all datasets, index&gt;=0. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetManager_8cpp_source.html#l00413">KVDataSetManager.cpp:413</a></div></div>
<div class="ttc" id="classKVNumberList_html_a2bbb2cfe1b472ee4c049f69fd801cffe"><div class="ttname"><a href="classKVNumberList.html#a2bbb2cfe1b472ee4c049f69fd801cffe">KVNumberList::Contains</a></div><div class="ttdeci">Bool_t Contains(Int_t val) const</div><div class="ttdoc">returns kTRUE if the value &amp;#39;val&amp;#39; is contained in the ranges defined by the number list ...</div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8cpp_source.html#l00454">KVNumberList.cpp:454</a></div></div>
<div class="ttc" id="classKVDataSet_html"><div class="ttname"><a href="classKVDataSet.html">KVDataSet</a></div><div class="ttdoc">Describes a set of experimental data which may be analysed with KaliVeda. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSet_8h_source.html#l00029">KVDataSet.h:29</a></div></div>
<div class="ttc" id="classKVDataSetManager_html_a2a1fb0a9e789a2adb17bd007b4687056"><div class="ttname"><a href="classKVDataSetManager.html#a2a1fb0a9e789a2adb17bd007b4687056">KVDataSetManager::Print</a></div><div class="ttdeci">virtual void Print(Option_t *opt=&quot;&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetManager_8cpp_source.html#l00261">KVDataSetManager.cpp:261</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a5ad2c59c89253c396ffe690331aee639"><div class="ttname"><a href="classKVDataSetAnalyser.html#a5ad2c59c89253c396ffe690331aee639">KVDataSetAnalyser::ChooseSystem</a></div><div class="ttdeci">void ChooseSystem(const Char_t *data_type=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00333">KVDataSetAnalyser.cpp:333</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a7b493f3e8079601f0981528a91864105"><div class="ttname"><a href="classKVDataSetAnalyser.html#a7b493f3e8079601f0981528a91864105">KVDataSetAnalyser::GetKinematics</a></div><div class="ttdeci">const KV2Body * GetKinematics() const</div><div class="ttdoc">Return pointer to kinematics of analysed system if defined. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00847">KVDataSetAnalyser.cpp:847</a></div></div>
<div class="ttc" id="classKVDataRepository_html_a15175cdf59c0904ffb3dbaf0d71f64ec"><div class="ttname"><a href="classKVDataRepository.html#a15175cdf59c0904ffb3dbaf0d71f64ec">KVDataRepository::IsRemote</a></div><div class="ttdeci">virtual Bool_t IsRemote() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataRepository_8h_source.html#l00091">KVDataRepository.h:91</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a5efd29f794242fce0eee9bd2b36d0f91"><div class="ttname"><a href="classKVDataSetAnalyser.html#a5efd29f794242fce0eee9bd2b36d0f91">KVDataSetAnalyser::ExpandAutoBatchName</a></div><div class="ttdeci">virtual const Char_t * ExpandAutoBatchName(const Char_t *format)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00819">KVDataSetAnalyser.cpp:819</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdoc">STL namespace. </div></div>
<div class="ttc" id="classKVDBRun_html_a5d03418cbc36966c9f258aef392ee5d5"><div class="ttname"><a href="classKVDBRun.html#a5d03418cbc36966c9f258aef392ee5d5">KVDBRun::GetDatime</a></div><div class="ttdeci">const TDatime &amp; GetDatime() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDBRun_8h_source.html#l00105">KVDBRun.h:105</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a73155940a95e51dac8330fdae96cce9c"><div class="ttname"><a href="classKVDataSetAnalyser.html#a73155940a95e51dac8330fdae96cce9c">KVDataSetAnalyser::~KVDataSetAnalyser</a></div><div class="ttdeci">virtual ~KVDataSetAnalyser()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00059">KVDataSetAnalyser.cpp:59</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a4c5c5bd8f3a8b6b51d81429fb24c0908"><div class="ttname"><a href="classKVDataSetAnalyser.html#a4c5c5bd8f3a8b6b51d81429fb24c0908">KVDataSetAnalyser::SetRuns</a></div><div class="ttdeci">void SetRuns(const KVNumberList &amp;nl, Bool_t check=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00642">KVDataSetAnalyser.cpp:642</a></div></div>
<div class="ttc" id="classKVDataAnalyser_html_a76cf0034a53972a5f4ab21da9a4c99af"><div class="ttname"><a href="classKVDataAnalyser.html#a76cf0034a53972a5f4ab21da9a4c99af">KVDataAnalyser::set_up_analyser_for_task</a></div><div class="ttdeci">virtual void set_up_analyser_for_task(KVDataAnalyser *the_analyser)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataAnalyser_8cpp_source.html#l01059">KVDataAnalyser.cpp:1059</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_aa83f8b31ff4e2b5c14fdb2d5f80f7e13"><div class="ttname"><a href="classKVDataSetAnalyser.html#aa83f8b31ff4e2b5c14fdb2d5f80f7e13">KVDataSetAnalyser::PostRunReset</a></div><div class="ttdeci">virtual void PostRunReset()</div><div class="ttdoc">Called at end of Run() after execution of analysis task. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00100">KVDataSetAnalyser.cpp:100</a></div></div>
<div class="ttc" id="classKVNumberList_html_ad4860304ca76b17bd01a564019b4ac1f"><div class="ttname"><a href="classKVNumberList.html#ad4860304ca76b17bd01a564019b4ac1f">KVNumberList::IsEmpty</a></div><div class="ttdeci">Bool_t IsEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8h_source.html#l00106">KVNumberList.h:106</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a9163b221c65945e7a01f7a7509146573"><div class="ttname"><a href="classKVDataSetAnalyser.html#a9163b221c65945e7a01f7a7509146573">KVDataSetAnalyser::set_dataset_pointer</a></div><div class="ttdeci">virtual void set_dataset_pointer(KVDataSet *ds)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00537">KVDataSetAnalyser.cpp:537</a></div></div>
<div class="ttc" id="KVDataRepositoryManager_8h_html"><div class="ttname"><a href="KVDataRepositoryManager_8h.html">KVDataRepositoryManager.h</a></div></div>
<div class="ttc" id="classKVDBSystem_html"><div class="ttname"><a href="classKVDBSystem.html">KVDBSystem</a></div><div class="ttdef"><b>Definition:</b> <a href="KVDBSystem_8h_source.html#l00029">KVDBSystem.h:29</a></div></div>
<div class="ttc" id="classKVNameValueList_html_a2b9beaf43ac8d3374c57f8cba5eb030b"><div class="ttname"><a href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">KVNameValueList::SetValue</a></div><div class="ttdeci">void SetValue(const Char_t *name, value_type value)</div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8h_source.html#l00043">KVNameValueList.h:43</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a7f6c3896000bd798eb9aed58f622fb13"><div class="ttname"><a href="classKVDataSetAnalyser.html#a7f6c3896000bd798eb9aed58f622fb13">KVDataSetAnalyser::SetSystem</a></div><div class="ttdeci">void SetSystem(KVDBSystem *syst)</div><div class="ttdoc">Set the System used in the analysis. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00627">KVDataSetAnalyser.cpp:627</a></div></div>
<div class="ttc" id="classKVDataSet_html_a58662c564b278460c3864df337e0ef0b"><div class="ttname"><a href="classKVDataSet.html#a58662c564b278460c3864df337e0ef0b">KVDataSet::GetAnalysisTask</a></div><div class="ttdeci">virtual KVDataAnalysisTask * GetAnalysisTask(Int_t) const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSet_8cpp_source.html#l00956">KVDataSet.cpp:956</a></div></div>
<div class="ttc" id="classKVDataSetManager_html_ad77eb4e59287c7502d6d7009d4e3cdce"><div class="ttname"><a href="classKVDataSetManager.html#ad77eb4e59287c7502d6d7009d4e3cdce">KVDataSetManager::GetAvailableDataSet</a></div><div class="ttdeci">virtual KVDataSet * GetAvailableDataSet(Int_t) const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetManager_8cpp_source.html#l00439">KVDataSetManager.cpp:439</a></div></div>
<div class="ttc" id="classKVString_html"><div class="ttname"><a href="classKVString.html">KVString</a></div><div class="ttdef"><b>Definition:</b> <a href="KVString_8h_source.html#l00025">KVString.h:25</a></div></div>
<div class="ttc" id="classKVDBTable_html_adaf11a98b483b76c647f304a7ade63fb"><div class="ttname"><a href="classKVDBTable.html#adaf11a98b483b76c647f304a7ade63fb">KVDBTable::GetRecord</a></div><div class="ttdeci">virtual KVDBRecord * GetRecord(const Char_t *rec_name) const</div><div class="ttdef"><b>Definition:</b> <a href="KVDBTable_8h_source.html#l00051">KVDBTable.h:51</a></div></div>
<div class="ttc" id="classKVNumberList_html_a735324a69c160f894a35aedf74daf59d"><div class="ttname"><a href="classKVNumberList.html#a735324a69c160f894a35aedf74daf59d">KVNumberList::Begin</a></div><div class="ttdeci">void Begin(void) const</div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8cpp_source.html#l01014">KVNumberList.cpp:1014</a></div></div>
<div class="ttc" id="classKVDataSetManager_html_a4743686335ec7d5947a42b752234e85e"><div class="ttname"><a href="classKVDataSetManager.html#a4743686335ec7d5947a42b752234e85e">KVDataSetManager::GetNavailable</a></div><div class="ttdeci">virtual Int_t GetNavailable() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetManager_8h_source.html#l00058">KVDataSetManager.h:58</a></div></div>
<div class="ttc" id="KVDataBase_8h_html"><div class="ttname"><a href="KVDataBase_8h.html">KVDataBase.h</a></div></div>
<div class="ttc" id="KVDataRepository_8cpp_html_ac58acab0067ed754719a9af09dbd31f4"><div class="ttname"><a href="KVDataRepository_8cpp.html#ac58acab0067ed754719a9af09dbd31f4">gDataRepository</a></div><div class="ttdeci">KVDataRepository * gDataRepository</div><div class="ttdef"><b>Definition:</b> <a href="KVDataRepository_8cpp_source.html#l00112">KVDataRepository.cpp:112</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a1e936a78357b00fae66ce500a7c9a983"><div class="ttname"><a href="classKVDataSetAnalyser.html#a1e936a78357b00fae66ce500a7c9a983">KVDataSetAnalyser::PreSubmitCheck</a></div><div class="ttdeci">virtual Bool_t PreSubmitCheck()</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00087">KVDataSetAnalyser.cpp:87</a></div></div>
<div class="ttc" id="classKVDBRecord_html_ac39b4f022f7033566b7684ca3ee574af"><div class="ttname"><a href="classKVDBRecord.html#ac39b4f022f7033566b7684ca3ee574af">KVDBRecord::GetNumber</a></div><div class="ttdeci">virtual Int_t GetNumber() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDBRecord_8h_source.html#l00060">KVDBRecord.h:60</a></div></div>
<div class="ttc" id="classKVDataAnalyser_html_a21e19a3894864fd6dcffd51855a42be9"><div class="ttname"><a href="classKVDataAnalyser.html#a21e19a3894864fd6dcffd51855a42be9">KVDataAnalyser::PostRunReset</a></div><div class="ttdeci">virtual void PostRunReset()</div><div class="ttdef"><b>Definition:</b> <a href="KVDataAnalyser_8cpp_source.html#l00765">KVDataAnalyser.cpp:765</a></div></div>
<div class="ttc" id="KVDataRepository_8h_html"><div class="ttname"><a href="KVDataRepository_8h.html">KVDataRepository.h</a></div></div>
<div class="ttc" id="classKVDBRun_html_ad89372f54949443d349ac8cdd272dce3"><div class="ttname"><a href="classKVDBRun.html#ad89372f54949443d349ac8cdd272dce3">KVDBRun::GetComments</a></div><div class="ttdeci">const Char_t * GetComments() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDBRun_8h_source.html#l00138">KVDBRun.h:138</a></div></div>
<div class="ttc" id="KVDataSet_8cpp_html_a2ad1da1bfe632a53bd05225834e2ce18"><div class="ttname"><a href="KVDataSet_8cpp.html#a2ad1da1bfe632a53bd05225834e2ce18">gDataSet</a></div><div class="ttdeci">KVDataSet * gDataSet</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSet_8cpp_source.html#l00208">KVDataSet.cpp:208</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a41fbb12eefd32b2247d375213ad5e3d1"><div class="ttname"><a href="classKVDataSetAnalyser.html#a41fbb12eefd32b2247d375213ad5e3d1">KVDataSetAnalyser::PrintAvailableRuns</a></div><div class="ttdeci">virtual KVNumberList PrintAvailableRuns(KVString &amp;datatype)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00597">KVDataSetAnalyser.cpp:597</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a45570d867d3359466e2ae0bb418e6858"><div class="ttname"><a href="classKVDataSetAnalyser.html#a45570d867d3359466e2ae0bb418e6858">KVDataSetAnalyser::set_up_analyser_for_task</a></div><div class="ttdeci">virtual void set_up_analyser_for_task(KVDataAnalyser *the_analyser)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00782">KVDataSetAnalyser.cpp:782</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_aaebc8b33d8c0481d8c17d641abff4e1f"><div class="ttname"><a href="classKVDataSetAnalyser.html#aaebc8b33d8c0481d8c17d641abff4e1f">KVDataSetAnalyser::ChooseDataType</a></div><div class="ttdeci">void ChooseDataType()</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00231">KVDataSetAnalyser.cpp:231</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a4885a025b7f36479b769ca00cf36cb65"><div class="ttname"><a href="classKVDataSetAnalyser.html#a4885a025b7f36479b769ca00cf36cb65">KVDataSetAnalyser::ChooseRuns</a></div><div class="ttdeci">void ChooseRuns(KVDBSystem *system=nullptr, const Char_t *data_type=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00438">KVDataSetAnalyser.cpp:438</a></div></div>
<div class="ttc" id="classKVDataAnalyser_html_a25638d57463516ff49330fb5951d7671"><div class="ttname"><a href="classKVDataAnalyser.html#a25638d57463516ff49330fb5951d7671">KVDataAnalyser::Reset</a></div><div class="ttdeci">virtual void Reset()</div><div class="ttdef"><b>Definition:</b> <a href="KVDataAnalyser_8cpp_source.html#l00324">KVDataAnalyser.cpp:324</a></div></div>
<div class="ttc" id="classKVDataAnalyser_html"><div class="ttname"><a href="classKVDataAnalyser.html">KVDataAnalyser</a></div><div class="ttdoc">Set up and run data analysis tasks. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataAnalyser_8h_source.html#l00022">KVDataAnalyser.h:22</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_af60b2d260aa4ac20b285f9adea74f21a"><div class="ttname"><a href="classKVDataSetAnalyser.html#af60b2d260aa4ac20b285f9adea74f21a">KVDataSetAnalyser::ChooseWhatToDo</a></div><div class="ttdeci">void ChooseWhatToDo()</div><div class="ttdoc">TO IMPLEMENT ? </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00127">KVDataSetAnalyser.cpp:127</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html"><div class="ttname"><a href="classKVDataSetAnalyser.html">KVDataSetAnalyser</a></div><div class="ttdoc">Analysis of data in datasets. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8h_source.html#l00012">KVDataSetAnalyser.h:12</a></div></div>
<div class="ttc" id="classKVNumberList_html_a4eeabcbe72aa33edbaa877cc9971795f"><div class="ttname"><a href="classKVNumberList.html#a4eeabcbe72aa33edbaa877cc9971795f">KVNumberList::End</a></div><div class="ttdeci">Bool_t End(void) const</div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8h_source.html#l00125">KVNumberList.h:125</a></div></div>
<div class="ttc" id="classKVDBRecord_html_aebcde6fc610cfff5ad47cb4b89674892"><div class="ttname"><a href="classKVDBRecord.html#aebcde6fc610cfff5ad47cb4b89674892">KVDBRecord::GetTable</a></div><div class="ttdeci">virtual KVDBTable * GetTable() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDBRecord_8cpp_source.html#l00281">KVDBRecord.cpp:281</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a19252d0f529ef21b086a31b3d25b2a15"><div class="ttname"><a href="classKVDataSetAnalyser.html#a19252d0f529ef21b086a31b3d25b2a15">KVDataSetAnalyser::WriteBatchEnvFile</a></div><div class="ttdeci">void WriteBatchEnvFile(const Char_t *jobname, Bool_t save=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00700">KVDataSetAnalyser.cpp:700</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a3ef06c7afb7f64a96f9e03039aafedb3"><div class="ttname"><a href="classKVDataSetAnalyser.html#a3ef06c7afb7f64a96f9e03039aafedb3">KVDataSetAnalyser::ChooseAnalysisTask</a></div><div class="ttdeci">virtual void ChooseAnalysisTask()</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00272">KVDataSetAnalyser.cpp:272</a></div></div>
<div class="ttc" id="KVDataSet_8h_html"><div class="ttname"><a href="KVDataSet_8h.html">KVDataSet.h</a></div></div>
<div class="ttc" id="KVDataSetAnalyser_8h_html"><div class="ttname"><a href="KVDataSetAnalyser_8h.html">KVDataSetAnalyser.h</a></div></div>
<div class="ttc" id="classKVDBRun_html_ad9346bbc0342f44792fdaec23f43f570"><div class="ttname"><a href="classKVDBRun.html#ad9346bbc0342f44792fdaec23f43f570">KVDBRun::GetEvents</a></div><div class="ttdeci">Int_t GetEvents() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDBRun_8h_source.html#l00125">KVDBRun.h:125</a></div></div>
<div class="ttc" id="KVDataSetManager_8cpp_html_ac7a4c43dd482d27924660edf91bb2239"><div class="ttname"><a href="KVDataSetManager_8cpp.html#ac7a4c43dd482d27924660edf91bb2239">gDataSetManager</a></div><div class="ttdeci">KVDataSetManager * gDataSetManager</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetManager_8cpp_source.html#l00043">KVDataSetManager.cpp:43</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a8926e45e971d8aa21eb18ea82b976fbf"><div class="ttname"><a href="classKVDataSetAnalyser.html#a8926e45e971d8aa21eb18ea82b976fbf">KVDataSetAnalyser::AddJobDescriptionList</a></div><div class="ttdeci">virtual void AddJobDescriptionList(TList *)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00877">KVDataSetAnalyser.cpp:877</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a8f363c27e4809f21d8e4094f3f6438c4"><div class="ttname"><a href="classKVDataSetAnalyser.html#a8f363c27e4809f21d8e4094f3f6438c4">KVDataSetAnalyser::set_dataset_name</a></div><div class="ttdeci">virtual void set_dataset_name(const Char_t *name)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00575">KVDataSetAnalyser.cpp:575</a></div></div>
<div class="ttc" id="KVDataRepositoryManager_8cpp_html_a7b4af0c1bf90e9583108af2a4111843d"><div class="ttname"><a href="KVDataRepositoryManager_8cpp.html#a7b4af0c1bf90e9583108af2a4111843d">gDataRepositoryManager</a></div><div class="ttdeci">KVDataRepositoryManager * gDataRepositoryManager</div><div class="ttdef"><b>Definition:</b> <a href="KVDataRepositoryManager_8cpp_source.html#l00021">KVDataRepositoryManager.cpp:21</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a870970ea286228edfd8dd32993e1568c"><div class="ttname"><a href="classKVDataSetAnalyser.html#a870970ea286228edfd8dd32993e1568c">KVDataSetAnalyser::GetRecognisedAutoBatchNameKeywords</a></div><div class="ttdeci">const Char_t * GetRecognisedAutoBatchNameKeywords() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00835">KVDataSetAnalyser.cpp:835</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a312b4e5fa6ef83dae189c4ea1c7a3b8c"><div class="ttname"><a href="classKVDataSetAnalyser.html#a312b4e5fa6ef83dae189c4ea1c7a3b8c">KVDataSetAnalyser::SetDataSet</a></div><div class="ttdeci">void SetDataSet(KVDataSet *ds)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8h_source.html#l00080">KVDataSetAnalyser.h:80</a></div></div>
<div class="ttc" id="classKVAvailableRunsFile_html_af438cdaf91d152c2c00ce1d8138f5efb"><div class="ttname"><a href="classKVAvailableRunsFile.html#af438cdaf91d152c2c00ce1d8138f5efb">KVAvailableRunsFile::IsRunFileName</a></div><div class="ttdeci">virtual Int_t IsRunFileName(const Char_t *filename)</div><div class="ttdef"><b>Definition:</b> <a href="KVAvailableRunsFile_8cpp_source.html#l00272">KVAvailableRunsFile.cpp:272</a></div></div>
<div class="ttc" id="classKVDataAnalyser_html_a7eaa4f8f08be5070a780bfff6abdbd58"><div class="ttname"><a href="classKVDataAnalyser.html#a7eaa4f8f08be5070a780bfff6abdbd58">KVDataAnalyser::WriteBatchEnvFile</a></div><div class="ttdeci">virtual void WriteBatchEnvFile(const Char_t *, Bool_t sav=kTRUE)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataAnalyser_8cpp_source.html#l00904">KVDataAnalyser.cpp:904</a></div></div>
<div class="ttc" id="classKVDataAnalyser_html_a744df29bc501d56bd5cd7b3e18b00669"><div class="ttname"><a href="classKVDataAnalyser.html#a744df29bc501d56bd5cd7b3e18b00669">KVDataAnalyser::GetRecognisedAutoBatchNameKeywords</a></div><div class="ttdeci">virtual const Char_t * GetRecognisedAutoBatchNameKeywords() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataAnalyser_8cpp_source.html#l01152">KVDataAnalyser.cpp:1152</a></div></div>
<div class="ttc" id="classKVDataAnalyser_html_a090aacc0764dedc5121159518cf2a3bb"><div class="ttname"><a href="classKVDataAnalyser.html#a090aacc0764dedc5121159518cf2a3bb">KVDataAnalyser::ExpandAutoBatchName</a></div><div class="ttdeci">virtual const Char_t * ExpandAutoBatchName(const Char_t *format)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataAnalyser_8cpp_source.html#l01128">KVDataAnalyser.cpp:1128</a></div></div>
<div class="ttc" id="classKVNumberList_html_a49b8d96f73898039fc4c72f83fc1cec8"><div class="ttname"><a href="classKVNumberList.html#a49b8d96f73898039fc4c72f83fc1cec8">KVNumberList::AsString</a></div><div class="ttdeci">const Char_t * AsString(Int_t maxchars=0) const</div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8cpp_source.html#l01086">KVNumberList.cpp:1086</a></div></div>
<div class="ttc" id="classKVDataRepository_html_ac946a58d7a57155e9e96fd3836623ea3"><div class="ttname"><a href="classKVDataRepository.html#ac946a58d7a57155e9e96fd3836623ea3">KVDataRepository::IsConnected</a></div><div class="ttdeci">virtual Bool_t IsConnected()</div><div class="ttdef"><b>Definition:</b> <a href="KVDataRepository_8h_source.html#l00096">KVDataRepository.h:96</a></div></div>
<div class="ttc" id="classKVDataRepository_html_af448b5c8b0ec7b9e72af9eb1df0f69e5"><div class="ttname"><a href="classKVDataRepository.html#af448b5c8b0ec7b9e72af9eb1df0f69e5">KVDataRepository::GetRootDirectory</a></div><div class="ttdeci">virtual const Char_t * GetRootDirectory() const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataRepository_8h_source.html#l00155">KVDataRepository.h:155</a></div></div>
<div class="ttc" id="classKV2Body_html"><div class="ttname"><a href="classKV2Body.html">KV2Body</a></div><div class="ttdef"><b>Definition:</b> <a href="KV2Body_8h_source.html#l00029">KV2Body.h:29</a></div></div>
<div class="ttc" id="classKVDataAnalyser_html_adaafe8796d4f2b020975ce5e871c5a1a"><div class="ttname"><a href="classKVDataAnalyser.html#adaafe8796d4f2b020975ce5e871c5a1a">KVDataAnalyser::ReadBatchEnvFile</a></div><div class="ttdeci">virtual Bool_t ReadBatchEnvFile(const Char_t *)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataAnalyser_8cpp_source.html#l00954">KVDataAnalyser.cpp:954</a></div></div>
<div class="ttc" id="classKVNumberList_html_a2f7488c2b6638dcb6b4a9d7f6b529d3c"><div class="ttname"><a href="classKVNumberList.html#a2f7488c2b6638dcb6b4a9d7f6b529d3c">KVNumberList::First</a></div><div class="ttdeci">Int_t First() const</div><div class="ttdoc">Returns smallest number included in list. </div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8cpp_source.html#l00471">KVNumberList.cpp:471</a></div></div>
<div class="ttc" id="classKVDataSet_html_a2bf1faba6e22253ce6d815968532a902"><div class="ttname"><a href="classKVDataSet.html#a2bf1faba6e22253ce6d815968532a902">KVDataSet::GetRepository</a></div><div class="ttdeci">KVDataRepository * GetRepository() const</div><div class="ttdoc">Get pointer to data repository in which dataset is stored. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSet_8cpp_source.html#l01767">KVDataSet.cpp:1767</a></div></div>
<div class="ttc" id="classKVNameValueList_html"><div class="ttname"><a href="classKVNameValueList.html">KVNameValueList</a></div><div class="ttdoc">A general-purpose list of parameters (name and associated value) </div><div class="ttdef"><b>Definition:</b> <a href="KVNameValueList_8h_source.html#l00013">KVNameValueList.h:13</a></div></div>
<div class="ttc" id="classKVDBRun_html"><div class="ttname"><a href="classKVDBRun.html">KVDBRun</a></div><div class="ttdef"><b>Definition:</b> <a href="KVDBRun_8h_source.html#l00027">KVDBRun.h:27</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a5cda9712d104414711aceb201aebc2da"><div class="ttname"><a href="classKVDataSetAnalyser.html#a5cda9712d104414711aceb201aebc2da">KVDataSetAnalyser::GetRootDirectoryOfDataToAnalyse</a></div><div class="ttdeci">KVString GetRootDirectoryOfDataToAnalyse() const</div><div class="ttdoc">Returns path to data to be analysed. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00897">KVDataSetAnalyser.cpp:897</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a63c1a8e088c9a060eb042f6430feb28c"><div class="ttname"><a href="classKVDataSetAnalyser.html#a63c1a8e088c9a060eb042f6430feb28c">KVDataSetAnalyser::SystemBatchName</a></div><div class="ttdeci">const Char_t * SystemBatchName()</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00799">KVDataSetAnalyser.cpp:799</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a7df5708b01630e3479b48c3dd2a0f3b2"><div class="ttname"><a href="classKVDataSetAnalyser.html#a7df5708b01630e3479b48c3dd2a0f3b2">KVDataSetAnalyser::GetRunNumberFromFileName</a></div><div class="ttdeci">Int_t GetRunNumberFromFileName(const Char_t *)</div><div class="ttdoc">Get the run number from the filename. </div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00859">KVDataSetAnalyser.cpp:859</a></div></div>
<div class="ttc" id="KV2Body_8h_html"><div class="ttname"><a href="KV2Body_8h.html">KV2Body.h</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_aca857b0c6d0f61c959fb61843f71af5f"><div class="ttname"><a href="classKVDataSetAnalyser.html#aca857b0c6d0f61c959fb61843f71af5f">KVDataSetAnalyser::ReadBatchEnvFile</a></div><div class="ttdeci">Bool_t ReadBatchEnvFile(const Char_t *filename)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00724">KVDataSetAnalyser.cpp:724</a></div></div>
<div class="ttc" id="KVDBSystem_8h_html"><div class="ttname"><a href="KVDBSystem_8h.html">KVDBSystem.h</a></div></div>
<div class="ttc" id="classKVDataAnalyser_html_a291776be3c910ce1157c6f60936046a0"><div class="ttname"><a href="classKVDataAnalyser.html#a291776be3c910ce1157c6f60936046a0">KVDataAnalyser::AddJobDescriptionList</a></div><div class="ttdeci">virtual void AddJobDescriptionList(TList *)</div><div class="ttdef"><b>Definition:</b> <a href="KVDataAnalyser_8cpp_source.html#l01490">KVDataAnalyser.cpp:1490</a></div></div>
<div class="ttc" id="classKVDataSetAnalyser_html_a3b3883164fbf57ca40a0782fde829e4b"><div class="ttname"><a href="classKVDataSetAnalyser.html#a3b3883164fbf57ca40a0782fde829e4b">KVDataSetAnalyser::ChooseDataSet</a></div><div class="ttdeci">void ChooseDataSet()</div><div class="ttdef"><b>Definition:</b> <a href="KVDataSetAnalyser_8cpp_source.html#l00175">KVDataSetAnalyser.cpp:175</a></div></div>
<div class="ttc" id="KVDBRun_8h_html"><div class="ttname"><a href="KVDBRun_8h.html">KVDBRun.h</a></div></div>
<div class="ttc" id="classKVDataRepositoryManager_html_a0f506d9f2ebc7c180a8a552672bf8e65"><div class="ttname"><a href="classKVDataRepositoryManager.html#a0f506d9f2ebc7c180a8a552672bf8e65">KVDataRepositoryManager::GetRepository</a></div><div class="ttdeci">KVDataRepository * GetRepository(const Char_t *name) const</div><div class="ttdef"><b>Definition:</b> <a href="KVDataRepositoryManager_8cpp_source.html#l00205">KVDataRepositoryManager.cpp:205</a></div></div>
<div class="ttc" id="classKVNumberList_html"><div class="ttname"><a href="classKVNumberList.html">KVNumberList</a></div><div class="ttdoc">Strings used to represent a set of ranges of values. </div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8h_source.html#l00021">KVNumberList.h:21</a></div></div>
<div class="ttc" id="classKVNumberList_html_afc47468a1de32bf243f8dfd3bf51c1c8"><div class="ttname"><a href="classKVNumberList.html#afc47468a1de32bf243f8dfd3bf51c1c8">KVNumberList::Next</a></div><div class="ttdeci">Int_t Next(void) const</div><div class="ttdef"><b>Definition:</b> <a href="KVNumberList_8cpp_source.html#l00982">KVNumberList.cpp:982</a></div></div>
<div class="ttc" id="KVDataSetManager_8h_html"><div class="ttname"><a href="KVDataSetManager_8h.html">KVDataSetManager.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 30 2018 17:40:10 for KaliVeda by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
