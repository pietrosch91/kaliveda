<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KaliVeda: KVClassFactory_examples.C</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ROOT.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KaliVeda
   &#160;<span id="projectnumber">1.10/15</span>
   </div>
   <div id="projectbrief">Heavy-Ion Analysis Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">KVClassFactory_examples.C</div>  </div>
</div><!--header-->
<div class="contents">
<h1>Example of class source code generation using <a class="el" href="classKVClassFactory.html">KVClassFactory</a></h1>
<p><a class="el" href="classKVClassFactory.html">KVClassFactory</a> can be used to generate skeleton class source files</p>
<p>To execute this function, do </p><pre class="fragment">$ kaliveda
kaliveda[0] .L KVClassFactory_examples.C+
kaliveda[1] make_examples()</pre><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;TSystem.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="KVClassFactory_8h.html">KVClassFactory.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="KVNameValueList_8h.html">KVNameValueList.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> make_examples()</div><div class="line">{</div><div class="line">   <a name="_a0"></a><a class="code" href="classKVList.html">KVList</a> examples;</div><div class="line"></div><div class="line">   <span class="comment">// Example 1: a simple base class with no member variables</span></div><div class="line">   <span class="comment">//       Generates a class with:</span></div><div class="line">   <span class="comment">//         - default constructor</span></div><div class="line">   <a name="_a1"></a><a class="code" href="classKVClassFactory.html">KVClassFactory</a> ex1(<span class="stringliteral">&quot;BaseClass&quot;</span>, <span class="stringliteral">&quot;Example 1: a simple base class with no member variables&quot;</span>);</div><div class="line">   ex1.<a name="a2"></a><a class="code" href="classKVClassFactory.html#a371a54b36a5dd6d9aa03d8403c64e63d">GenerateCode</a>();</div><div class="line">   examples.<a name="a3"></a><a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(<span class="keyword">new</span> TNamed(ex1.<a name="a4"></a><a class="code" href="classKVClassFactory.html#a4303ae9896fe340c78c6605c66ce6eb6">GetImpFileName</a>(), ex1.<a name="a5"></a><a class="code" href="classKVClassFactory.html#a9ad1f3d166fcf9ee20345f5efa47a68e">GetClassName</a>()));</div><div class="line"></div><div class="line">   <span class="comment">// Example 2: a simple base class with 1 member variable</span></div><div class="line">   <span class="comment">//       Generates a class with:</span></div><div class="line">   <span class="comment">//         - default constructor</span></div><div class="line">   <span class="comment">//         - constructor with member variable initial values</span></div><div class="line">   <span class="comment">//         - copy constructor</span></div><div class="line">   <span class="comment">//         - assignment operator</span></div><div class="line">   <span class="comment">//         - getters &amp; setters for all members</span></div><div class="line">   <a class="code" href="classKVClassFactory.html">KVClassFactory</a> ex2(<span class="stringliteral">&quot;BaseClassWithMember&quot;</span>, <span class="stringliteral">&quot;Example 2: a simple base class with 1 member variable&quot;</span>);</div><div class="line">   ex2.<a name="a6"></a><a class="code" href="classKVClassFactory.html#a211f7a4f81cd21be56dc4f3481f9eeae">AddMember</a>(<span class="stringliteral">&quot;MemberVar&quot;</span>, <span class="stringliteral">&quot;Double_t&quot;</span>, <span class="stringliteral">&quot;a member variable&quot;</span>);</div><div class="line">   ex2.<a class="code" href="classKVClassFactory.html#a371a54b36a5dd6d9aa03d8403c64e63d">GenerateCode</a>();</div><div class="line">   examples.<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(<span class="keyword">new</span> TNamed(ex2.<a class="code" href="classKVClassFactory.html#a4303ae9896fe340c78c6605c66ce6eb6">GetImpFileName</a>(), ex2.<a class="code" href="classKVClassFactory.html#a9ad1f3d166fcf9ee20345f5efa47a68e">GetClassName</a>()));</div><div class="line"></div><div class="line">   <span class="comment">// Example 3: TNamed-derived class with no member variables</span></div><div class="line">   <span class="comment">//       Generates a class with:</span></div><div class="line">   <span class="comment">//         - default constructor</span></div><div class="line">   <span class="comment">//         - the same constructors as the base class</span></div><div class="line">   <span class="comment">//   We also show how to make all constructors and the destructor &#39;inline&#39;</span></div><div class="line">   <span class="comment">//   i.e. implemented in the header file of the class</span></div><div class="line">   <a class="code" href="classKVClassFactory.html">KVClassFactory</a> ex3(<span class="stringliteral">&quot;TNamedClass&quot;</span>, <span class="stringliteral">&quot;Example 3: a TNamed-derived class with no member variables&quot;</span>,</div><div class="line">                      <span class="stringliteral">&quot;TNamed&quot;</span>);</div><div class="line">   ex3.<a name="a7"></a><a class="code" href="classKVClassFactory.html#acf9221b17a9dcedee4b6e1818fccc726">InlineAllConstructors</a>();</div><div class="line">   ex3.<a name="a8"></a><a class="code" href="classKVClassFactory.html#ade26ea7f2767ba06cefcfa0c0d8d41d8">GetDestructor</a>()-&gt;<a name="a9"></a><a class="code" href="classKVClassMethod.html#abc08fc8cf07de5e5cbc4c863c4c068c4">SetInline</a>();</div><div class="line">   ex3.<a class="code" href="classKVClassFactory.html#a371a54b36a5dd6d9aa03d8403c64e63d">GenerateCode</a>();</div><div class="line">   examples.<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(<span class="keyword">new</span> TNamed(ex3.<a class="code" href="classKVClassFactory.html#a4303ae9896fe340c78c6605c66ce6eb6">GetImpFileName</a>(), ex3.<a class="code" href="classKVClassFactory.html#a9ad1f3d166fcf9ee20345f5efa47a68e">GetClassName</a>()));</div><div class="line"></div><div class="line">   <span class="comment">// Example 4: a TNamed-derived class with 1 member variable</span></div><div class="line">   <span class="comment">//       Generates a class with:</span></div><div class="line">   <span class="comment">//         - default constructor</span></div><div class="line">   <span class="comment">//         - same non-default constructors as base class with extra argument(s)</span></div><div class="line">   <span class="comment">//           to initialise the member(s) of this class</span></div><div class="line">   <span class="comment">//         - copy constructor</span></div><div class="line">   <span class="comment">//         - assignment operator</span></div><div class="line">   <span class="comment">//         - getters &amp; setters for all members</span></div><div class="line">   <a class="code" href="classKVClassFactory.html">KVClassFactory</a> ex4(<span class="stringliteral">&quot;TNamedClassWithMember&quot;</span>, <span class="stringliteral">&quot;Example 4: a TNamed-derived class with 1 member variable&quot;</span>,</div><div class="line">                      <span class="stringliteral">&quot;TNamed&quot;</span>);</div><div class="line">   ex4.<a class="code" href="classKVClassFactory.html#a211f7a4f81cd21be56dc4f3481f9eeae">AddMember</a>(<span class="stringliteral">&quot;MemberVar&quot;</span>, <span class="stringliteral">&quot;Double_t&quot;</span>, <span class="stringliteral">&quot;a member variable&quot;</span>);</div><div class="line">   ex4.<a class="code" href="classKVClassFactory.html#a371a54b36a5dd6d9aa03d8403c64e63d">GenerateCode</a>();</div><div class="line">   examples.<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(<span class="keyword">new</span> TNamed(ex4.<a class="code" href="classKVClassFactory.html#a4303ae9896fe340c78c6605c66ce6eb6">GetImpFileName</a>(), ex4.<a class="code" href="classKVClassFactory.html#a9ad1f3d166fcf9ee20345f5efa47a68e">GetClassName</a>()));</div><div class="line"></div><div class="line">   <span class="comment">// Compile all generated classes</span></div><div class="line">   TIter next_class(&amp;examples);</div><div class="line">   TObject* <a name="a10"></a><a class="code" href="namespaceKVUnits.html#ae42f1b105cd8a2b5f9393f74b7bbc5d6">cl</a>;</div><div class="line">   <span class="keywordflow">while</span> ((cl = next_class())) {</div><div class="line"></div><div class="line">      gSystem-&gt;CompileMacro(cl-&gt;GetName());</div><div class="line"></div><div class="line">   }</div><div class="line"></div><div class="line">   examples.<a name="a11"></a><a class="code" href="classKVSeqCollection.html#a5edbe1ce090e93f70da107c1dc5abbe1">Clear</a>();</div><div class="line"></div><div class="line">   <span class="comment">// Example 5: a BaseClass-derived class with 1 extra member variable</span></div><div class="line">   <span class="comment">//       Generates a class with:</span></div><div class="line">   <span class="comment">//         - default constructor</span></div><div class="line">   <span class="comment">//         - same non-default constructors as base class with extra argument(s)</span></div><div class="line">   <span class="comment">//           to initialise the member(s) of this class</span></div><div class="line">   <span class="comment">//         - copy constructor</span></div><div class="line">   <span class="comment">//         - assignment operator</span></div><div class="line">   <span class="comment">//         - getters &amp; setters for all members</span></div><div class="line">   <a class="code" href="classKVClassFactory.html">KVClassFactory</a> ex5(<span class="stringliteral">&quot;DerivedClassWithMember&quot;</span>, <span class="stringliteral">&quot;Example 5: a -derived class with 1 member variable&quot;</span>,</div><div class="line">                      <span class="stringliteral">&quot;BaseClassWithMember&quot;</span>);</div><div class="line">   ex5.<a class="code" href="classKVClassFactory.html#a211f7a4f81cd21be56dc4f3481f9eeae">AddMember</a>(<span class="stringliteral">&quot;Toto&quot;</span>, <span class="stringliteral">&quot;BaseClassWithMember*&quot;</span>, <span class="stringliteral">&quot;pointer&quot;</span>);</div><div class="line">   ex5.<a class="code" href="classKVClassFactory.html#a371a54b36a5dd6d9aa03d8403c64e63d">GenerateCode</a>();</div><div class="line">   examples.<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(<span class="keyword">new</span> TNamed(ex5.<a class="code" href="classKVClassFactory.html#a4303ae9896fe340c78c6605c66ce6eb6">GetImpFileName</a>(), ex5.<a class="code" href="classKVClassFactory.html#a9ad1f3d166fcf9ee20345f5efa47a68e">GetClassName</a>()));</div><div class="line"></div><div class="line">   <span class="comment">// Example 6: a TColor-derived class with extra member variables</span></div><div class="line">   <span class="comment">//    TColor has a constructor with default arguments</span></div><div class="line">   <span class="comment">//    The generated constructor treats these arguments correctly</span></div><div class="line">   <a class="code" href="classKVClassFactory.html">KVClassFactory</a> ex6(<span class="stringliteral">&quot;TColorDerived&quot;</span>, <span class="stringliteral">&quot;Example 6: a TColor-derived class with extra member variables&quot;</span>,</div><div class="line">                      <span class="stringliteral">&quot;TColor&quot;</span>);</div><div class="line">   ex6.<a class="code" href="classKVClassFactory.html#a211f7a4f81cd21be56dc4f3481f9eeae">AddMember</a>(<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;int&quot;</span>, <span class="stringliteral">&quot;a number&quot;</span>);</div><div class="line">   ex6.<a class="code" href="classKVClassFactory.html#a211f7a4f81cd21be56dc4f3481f9eeae">AddMember</a>(<span class="stringliteral">&quot;B&quot;</span>, <span class="stringliteral">&quot;double&quot;</span>, <span class="stringliteral">&quot;another number&quot;</span>);</div><div class="line">   ex6.<a class="code" href="classKVClassFactory.html#a371a54b36a5dd6d9aa03d8403c64e63d">GenerateCode</a>();</div><div class="line">   examples.<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(<span class="keyword">new</span> TNamed(ex6.<a class="code" href="classKVClassFactory.html#a4303ae9896fe340c78c6605c66ce6eb6">GetImpFileName</a>(), ex6.<a class="code" href="classKVClassFactory.html#a9ad1f3d166fcf9ee20345f5efa47a68e">GetClassName</a>()));</div><div class="line"></div><div class="line">   <span class="comment">// Example 7: a class generated from a KVNameValueList</span></div><div class="line">   <span class="comment">//    in this case the class has member variables with the names &amp; types of the</span></div><div class="line">   <span class="comment">//    the parameters in the KVNameValueList</span></div><div class="line">   <a name="_a12"></a><a class="code" href="classKVNameValueList.html">KVNameValueList</a> nvl;</div><div class="line">   nvl.<a name="a13"></a><a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;A&quot;</span>, 1); <span class="comment">// integer</span></div><div class="line">   nvl.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;B&quot;</span>, 3.14); <span class="comment">// double</span></div><div class="line">   nvl.<a class="code" href="classKVNameValueList.html#a2b9beaf43ac8d3374c57f8cba5eb030b">SetValue</a>(<span class="stringliteral">&quot;C&quot;</span>, <span class="stringliteral">&quot;hello&quot;</span>); <span class="comment">// string</span></div><div class="line">   nvl.<a name="a14"></a><a class="code" href="classKVNameValueList.html#aa9d3554687d1887677bcbb6332caf343">WriteClass</a>(<span class="stringliteral">&quot;NVLclass&quot;</span>, <span class="stringliteral">&quot;Class generated from a KVNameValueList&quot;</span>);</div><div class="line">   examples.<a class="code" href="classKVSeqCollection.html#ad8572701209c97af7ed6e2fd72978a6b">Add</a>(<span class="keyword">new</span> TNamed(<span class="stringliteral">&quot;NVLclass.cpp&quot;</span>, <span class="stringliteral">&quot;NVLclass&quot;</span>));</div><div class="line"></div><div class="line">   <span class="comment">// Compile all generated classes</span></div><div class="line">   TIter next_class2(&amp;examples);</div><div class="line">   <span class="keywordflow">while</span> ((cl = next_class2())) {</div><div class="line"></div><div class="line">      gSystem-&gt;CompileMacro(cl-&gt;GetName());</div><div class="line"></div><div class="line">   }</div><div class="line">}</div></div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 30 2018 17:40:09 for KaliVeda by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
